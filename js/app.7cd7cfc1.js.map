{"version":3,"file":"js/app.7cd7cfc1.js","mappings":"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","sources":["webpack://st_reader/./src/App.vue","webpack://st_reader/./src/App.vue?7ccd","webpack://st_reader/./src/main.js","webpack://st_reader/webpack/bootstrap","webpack://st_reader/webpack/runtime/chunk loaded","webpack://st_reader/webpack/runtime/define property getters","webpack://st_reader/webpack/runtime/global","webpack://st_reader/webpack/runtime/hasOwnProperty shorthand","webpack://st_reader/webpack/runtime/jsonp chunk loading","webpack://st_reader/webpack/startup"],"sourcesContent":["<template>\n  <div :class=\"['st-reader', { 'dark-mode': isDarkMode }]\">\n    <div v-if=\"!messages.length\" class=\"upload-area\">\n      <div class=\"upload-container\">\n        <input type=\"file\" ref=\"fileInput\" @change=\"handleFileUpload\" accept=\".jsonl\" id=\"file-input\"\n          class=\"file-input\" />\n        <label for=\"file-input\" class=\"upload-label\">\n          <div class=\"upload-text\"> JSONL </div>\n          <div class=\"upload-hint\">SillyTavern </div>\n        </label>\n      </div>\n    </div>\n\n    <div v-else class=\"chat-container\">\n      <div class=\"chat-header\">\n        <div class=\"header-content\">\n          <h1 class=\"chat-title\">{{ metadata.character_name || '' }}</h1>\n          <div class=\"chat-meta\">\n            <span v-if=\"metadata.create_date\">{{ metadata.create_date }}</span>\n            <span class=\"message-count\">{{ messages.length }} </span>\n          </div>\n        </div>\n        <div class=\"header-actions\">\n          <button @click=\"toggleSearchBar\" :class=\"['action-button', 'search-toggle', { 'active': showSearchBar }]\">\n            \n          </button>\n          <button @click=\"toggleTagFilterManager\" :class=\"['action-button', { 'active': showTagFilterManager }]\">\n             <span v-if=\"tagFilters.length\">({{tagFilters.filter(f => !f.disabled).length}})</span>\n          </button>\n          <button @click=\"toggleRegexManager\" class=\"action-button regex-button\">\n             <span v-if=\"regexScripts.length\">({{regexScripts.filter(s => !s.disabled).length}})</span>\n          </button>\n          <div class=\"header-actions\">\n            <button @click=\"toggleFavoritesPanel\" :class=\"['action-button', { 'active': showFavoritesPanel }]\">\n               <span v-if=\"favorites.length\">({{ favorites.length }})</span>\n            </button>\n            <button @click=\"openIntimacyModal\" class=\"action-button intimacy-btn\">\n              <Icon icon=\"bxs:heart\" class=\"heart-icon\" /> \n            </button>\n            <button @click=\"toggleReadingMode\"\n              :class=\"['action-button', 'reading-mode-btn', { 'active': readingMode }]\">\n              \n            </button>\n            <button @click=\"openExportRangeDialog\" class=\"action-button\">\n              \n            </button>\n          </div>\n          <button @click=\"toggleStylePanel\" :class=\"['action-button', { 'active': showStylePanel }]\">\n            \n          </button>\n          <button @click=\"toggleDarkMode\" class=\"action-button mode-toggle\">\n            <div class=\"icon-label-row\">\n              <template v-if=\"isDarkMode\">\n                <Icon icon=\"heroicons-solid:sun\" class=\"mode-icon sun\" />\n                <span></span>\n              </template>\n\n              <template v-else>\n                <Icon icon=\"bxs:moon\" class=\"mode-icon moon\" />\n                <span></span>\n              </template>\n            </div>\n          </button>\n          <button @click=\"resetReader\" class=\"reset-button\"></button>\n        </div>\n      </div>\n\n      <div v-if=\"showSearchBar\" class=\"search-bar\">\n        <div class=\"search-input-wrapper\">\n          <input v-model=\"searchQuery\" @input=\"onSearchInput\" type=\"text\" class=\"search-input\"\n            placeholder=\"...\" />\n          <button v-if=\"searchQuery\" @click=\"clearSearch\" class=\"search-clear\" title=\"\"></button>\n        </div>\n        <div class=\"search-info\">\n          <span v-if=\"searchQuery\">\n             {{ filteredMessages.length }} \n          </span>\n        </div>\n      </div>\n\n      <div v-if=\"showTagFilterManager\" class=\"regex-manager tag-filter-manager\">\n        <div class=\"regex-header\">\n          <h2></h2>\n          <div class=\"regex-actions\">\n            <button @click=\"addNewTagFilter\" class=\"btn btn-primary\"></button>\n          </div>\n        </div>\n\n        <div v-if=\"tagFilterForm.id\" class=\"script-form\">\n          <div class=\"form-group\">\n            <label></label>\n            <input v-model=\"tagFilterForm.name\" type=\"text\" placeholder=\"\" />\n          </div>\n          <div class=\"form-group\">\n            <label></label>\n            <input v-model=\"tagFilterForm.tagName\" type=\"text\" placeholder=\"think  thinking\" />\n            <div class=\"form-hint\">think,thinking,disclaimer</div>\n          </div>\n          <div class=\"form-group\">\n            <label></label>\n            <select v-model=\"tagFilterForm.mode\" class=\"form-select\">\n              <option value=\"remove\"></option>\n              <option value=\"keep\"></option>\n              <option value=\"unwrap\"></option>\n            </select>\n          </div>\n          <div class=\"form-group checkbox-group\">\n            <label>\n              <input v-model=\"tagFilterForm.disabled\" type=\"checkbox\" />\n              \n            </label>\n          </div>\n          <div class=\"form-buttons\">\n            <button @click=\"cancelEditTagFilter\" class=\"btn btn-secondary\"></button>\n            <button @click=\"saveTagFilter\" class=\"btn btn-primary\"></button>\n          </div>\n        </div>\n\n        <div class=\"script-list\">\n          <div v-if=\"!tagFilters.length\" class=\"no-scripts\">\n            \"\"\n          </div>\n          <div v-for=\"(filter, index) in tagFilters\" :key=\"filter.id\"\n            :class=\"['script-item', { 'disabled': filter.disabled }]\">\n            <div class=\"script-info\">\n              <div class=\"script-name\">{{ filter.name }}</div>\n              <div class=\"script-regex\">\n                {{ filter.mode === 'remove' ? '' : filter.mode === 'keep' ? '' : '' }}:\n                &lt;{{ filter.tagName }}&gt;\n              </div>\n            </div>\n            <div class=\"script-controls\">\n              <button @click=\"moveTagFilterUp(index)\" :disabled=\"index === 0\" class=\"btn-icon\" title=\"\"></button>\n              <button @click=\"moveTagFilterDown(index)\" :disabled=\"index === tagFilters.length - 1\" class=\"btn-icon\"\n                title=\"\"></button>\n              <button @click=\"toggleTagFilter(filter)\" :class=\"['btn-toggle', { 'active': !filter.disabled }]\">\n                {{ filter.disabled ? '' : '' }}\n              </button>\n              <button @click=\"editTagFilter(filter)\" class=\"btn-icon\" title=\"\"></button>\n              <button @click=\"deleteTagFilter(filter.id)\" class=\"btn-icon btn-danger\" title=\"\"></button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div v-if=\"showRegexManager\" class=\"regex-manager\">\n        <div class=\"regex-header\">\n          <h2></h2>\n          <div class=\"regex-actions\">\n            <button @click=\"importScripts\" class=\"btn btn-secondary\">JSON</button>\n            <button @click=\"importFromPNG\" class=\"btn btn-secondary\"></button>\n            <button @click=\"exportScripts\" class=\"btn btn-secondary\" :disabled=\"!regexScripts.length\"></button>\n            <button @click=\"addNewScript\" class=\"btn btn-primary\"></button>\n          </div>\n        </div>\n\n        <div v-if=\"scriptForm.id\" class=\"script-form\">\n          <div class=\"form-group\">\n            <label></label>\n            <input v-model=\"scriptForm.scriptName\" type=\"text\" placeholder=\"\" />\n          </div>\n          <div class=\"form-group\">\n            <label></label>\n            <textarea v-model=\"scriptForm.findRegex\" placeholder=\"/(<think>[\\s\\S]*?</think>)/gs\" rows=\"3\"></textarea>\n            <div class=\"form-hint\">/pattern/flags  g </div>\n          </div>\n          <div class=\"form-group\">\n            <label></label>\n            <input v-model=\"scriptForm.replaceString\" type=\"text\" placeholder=\"\" />\n          </div>\n          <div class=\"form-group checkbox-group\">\n            <label>\n              <input v-model=\"scriptForm.disabled\" type=\"checkbox\" />\n              \n            </label>\n          </div>\n          <div class=\"form-buttons\">\n            <button @click=\"cancelEdit\" class=\"btn btn-secondary\"></button>\n            <button @click=\"saveScript\" class=\"btn btn-primary\"></button>\n          </div>\n        </div>\n\n        <div class=\"script-list\">\n          <div v-if=\"!regexScripts.length\" class=\"no-scripts\">\n            \"\"\"\"\n          </div>\n          <div v-for=\"(script, index) in regexScripts\" :key=\"script.id\"\n            :class=\"['script-item', { 'disabled': script.disabled, 'dragging': dragIndex === index }]\" draggable=\"true\"\n            @dragstart=\"handleDragStart(index)\" @dragover=\"handleDragOver\" @drop=\"(e) => handleDrop(e, index)\"\n            @dragend=\"handleDragEnd\">\n            <div class=\"script-drag-handle\"></div>\n            <div class=\"script-info\">\n              <div class=\"script-name\">{{ script.scriptName }}</div>\n              <div class=\"script-regex\">{{ script.findRegex.substring(0, 60) }}{{ script.findRegex.length > 60 ? '...' :\n                '' }}\n              </div>\n            </div>\n            <div class=\"script-controls\">\n              <button @click=\"moveScriptUp(index)\" :disabled=\"index === 0\" class=\"btn-icon\" title=\"\"></button>\n              <button @click=\"moveScriptDown(index)\" :disabled=\"index === regexScripts.length - 1\" class=\"btn-icon\"\n                title=\"\"></button>\n              <button @click=\"toggleScript(script)\" :class=\"['btn-toggle', { 'active': !script.disabled }]\">\n                {{ script.disabled ? '' : '' }}\n              </button>\n              <button @click=\"editScript(script)\" class=\"btn-icon\" title=\"\"></button>\n              <button @click=\"deleteScript(script.id)\" class=\"btn-icon btn-danger\" title=\"\"></button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div v-if=\"showFavoritesPanel\" class=\"regex-manager favorites-panel\">\n        <div class=\"regex-header\">\n          <h2></h2>\n          <div class=\"regex-actions\">\n            <button @click=\"exportFavorites\" class=\"btn btn-secondary\" :disabled=\"!favorites.length\"></button>\n            <button @click=\"clearAllFavorites\" class=\"btn btn-secondary\" :disabled=\"!favorites.length\"></button>\n          </div>\n        </div>\n        <div class=\"script-list favorites-list\">\n          <div v-if=\"!favorites.length\" class=\"no-scripts\">\n              \"\"\n          </div>\n          <div v-for=\"fav in favorites\" :key=\"fav.id\" class=\"favorite-item\" @click=\"navigateToFavorite(fav)\"\n            title=\"\">\n            <div class=\"favorite-content\">\n              <div class=\"favorite-type\">\n                <template v-if=\"fav.type === 'message'\">\n                  <Icon icon=\"icon-park-twotone:copy\" style=\"vertical-align: -2px;\" /> \n                </template>\n                <template v-else>\n                  <Icon icon=\"ri:draft-line\" style=\"vertical-align: -2px;\" /> \n                </template>\n                #{{ fav.messageIndex + 1 }}\n              </div>\n              <div class=\"favorite-text\">{{ fav.text.substring(0, 100) }}{{ fav.text.length > 100 ? '...' : '' }}</div>\n              <div class=\"favorite-meta\">\n                <span v-if=\"fav.speaker\">{{ fav.speaker }}</span>\n                <span>{{ formatFavoriteTime(fav.createdAt) }}</span>\n              </div>\n            </div>\n            <div class=\"favorite-actions\">\n              <button @click.stop=\"copyFavorite(fav)\" class=\"btn-icon\" title=\"\">\n                <Icon icon=\"icon-park-twotone:copy\" style=\"vertical-align: -2px;\" />\n              </button>\n              <button @click.stop=\"deleteFavorite(fav.id)\" class=\"btn-icon btn-danger\" title=\"\"></button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div v-if=\"showStylePanel\" class=\"regex-manager style-panel\">\n        <div class=\"regex-header\">\n          <h2></h2>\n          <div class=\"regex-actions\">\n            <button @click=\"resetStyles\" class=\"btn btn-secondary\"></button>\n          </div>\n        </div>\n\n        <div class=\"style-settings\">\n          <div class=\"style-group font-group\">\n            <label class=\"style-label\"></label>\n            <div class=\"style-flex-row\">\n              <select v-model=\"textStyles.fontFamily\" @change=\"saveStylesToStorage\" class=\"style-select\">\n                <optgroup label=\"\">\n                  <option value=\"system\"></option>\n                  <option value=\"serif\"> / </option>\n                  <option value=\"sans-serif\"> / </option>\n                  <option value=\"kaiti\"></option>\n                  <option value=\"fangsong\"></option>\n                  <option value=\"monospace\"></option>\n                </optgroup>\n                <optgroup label=\"\">\n                  <option value=\"alegreya\">Alegreya</option>\n                  <option value=\"cangeryunhei\"></option>\n                  <option value=\"huiwenmingchao\"></option>\n                  <option value=\"kongmingchao\">/</option>\n                  <option value=\"pingxianzhensong\"></option>\n                  <option value=\"wenyueminguofangsong\"></option>\n                </optgroup>\n                <optgroup v-if=\"customFonts.length\" label=\"\">\n                  <option v-for=\"font in customFonts\" :key=\"font.id\" :value=\"'custom-' + font.id\">\n                    {{ font.name }}\n                  </option>\n                </optgroup>\n              </select>\n              <button @click=\"showCustomFontDialog = true\" class=\"btn btn-secondary btn-sm compact-btn\" title=\"\">\n                + \n              </button>\n            </div>\n          </div>\n\n          <div class=\"sliders-grid\">\n            <div class=\"style-group compact-group\">\n              <label class=\"style-label\"> / {{ textStyles.fontSize }}px</label>\n              <input type=\"range\" v-model.number=\"textStyles.fontSize\" @input=\"handleStyleChange\" min=\"12\" max=\"32\"\n                step=\"1\" class=\"style-slider\" />\n            </div>\n\n            <div class=\"style-group compact-group\">\n              <label class=\"style-label\"> / {{ textStyles.lineHeight.toFixed(1) }}</label>\n              <input type=\"range\" v-model.number=\"textStyles.lineHeight\" @input=\"handleStyleChange\" min=\"1.2\" max=\"3\"\n                step=\"0.1\" class=\"style-slider\" />\n            </div>\n\n            <div class=\"style-group compact-group\">\n              <label class=\"style-label\"> / {{ textStyles.paragraphSpacing.toFixed(1) }}em</label>\n              <input type=\"range\" v-model.number=\"textStyles.paragraphSpacing\" @input=\"handleStyleChange\" min=\"0\"\n                max=\"2\" step=\"0.1\" class=\"style-slider\" />\n            </div>\n\n            <div class=\"style-group compact-group\">\n              <label class=\"style-label\"> / {{ textStyles.letterSpacing }}px</label>\n              <input type=\"range\" v-model.number=\"textStyles.letterSpacing\" @input=\"handleStyleChange\" min=\"-2\" max=\"10\"\n                step=\"0.5\" class=\"style-slider\" />\n            </div>\n          </div>\n\n          <hr class=\"style-divider\">\n\n          <div class=\"color-grid\">\n            <div class=\"style-group compact-group\">\n              <label class=\"style-label\"></label>\n              <div class=\"color-picker-row\">\n                <input type=\"color\" v-model=\"textStyles.textColor\" @change=\"saveStylesToStorage\" class=\"color-input\">\n                <span class=\"color-value\">{{ textStyles.textColor }}</span>\n              </div>\n            </div>\n\n            <div class=\"style-group compact-group\">\n              <label class=\"style-label\"> (*text*)</label>\n              <div class=\"color-picker-row\">\n                <input type=\"color\" v-model=\"textStyles.italicColor\" @change=\"saveStylesToStorage\" class=\"color-input\">\n                <span class=\"color-value\">{{ textStyles.italicColor }}</span>\n              </div>\n            </div>\n\n            <div class=\"style-group compact-group\">\n              <label class=\"style-label\"> (&lt;u&gt;)</label>\n              <div class=\"color-picker-row\">\n                <input type=\"color\" v-model=\"textStyles.underlineColor\" @change=\"saveStylesToStorage\"\n                  class=\"color-input\">\n                <span class=\"color-value\">{{ textStyles.underlineColor }}</span>\n              </div>\n            </div>\n\n            <div class=\"style-group compact-group\">\n              <label class=\"style-label\"> ( > )</label>\n              <div class=\"color-picker-row\">\n                <input type=\"color\" v-model=\"textStyles.quoteColor\" @change=\"saveStylesToStorage\" class=\"color-input\">\n                <span class=\"color-value\">{{ textStyles.quoteColor }}</span>\n              </div>\n            </div>\n          </div>\n\n          <hr class=\"style-divider\">\n\n          <div class=\"style-group\">\n            <label class=\"style-label\"></label>\n            <div class=\"align-options\">\n              <button @click=\"setTextAlign('left')\"\n                :class=\"['align-btn', { 'active': textStyles.textAlign === 'left' }]\" title=\"\"></button>\n              <button @click=\"setTextAlign('justify')\"\n                :class=\"['align-btn', { 'active': textStyles.textAlign === 'justify' }]\" title=\"\"></button>\n              <button @click=\"setTextAlign('center')\"\n                :class=\"['align-btn', { 'active': textStyles.textAlign === 'center' }]\" title=\"\"></button>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"style-preview\">\n          <div class=\"style-preview-label\"></div>\n          <div class=\"style-preview-content\" :style=\"getPreviewStyles()\">\n            <p>\n              \n            </p>\n\n            <p>\n              <em>**</em>\n            </p>\n\n            <p>\n               <u></u>\n            </p>\n\n            <blockquote>\n              <br>\n              <br>\n              \n            </blockquote>\n          </div>\n        </div>\n\n        <div v-if=\"customFonts.length\" class=\"custom-fonts-section\">\n          <div class=\"style-label\"></div>\n          <div class=\"custom-font-list\">\n            <div v-for=\"font in customFonts\" :key=\"font.id\" class=\"custom-font-item\">\n              <span class=\"custom-font-name\">{{ font.name }}</span>\n              <button @click=\"deleteCustomFont(font.id)\" class=\"btn-icon btn-danger\" title=\"\"></button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!--  -->\n      <div v-if=\"showCustomFontDialog\" class=\"modal-overlay\" @click.self=\"showCustomFontDialog = false\">\n        <div class=\"modal-dialog custom-font-dialog\">\n          <div class=\"modal-header\">\n            <h3></h3>\n            <button @click=\"showCustomFontDialog = false\" class=\"modal-close\"></button>\n          </div>\n          <div class=\"modal-body\">\n            <div class=\"form-group\">\n              <label> <span class=\"required\">*</span></label>\n              <input v-model=\"customFontForm.name\" type=\"text\" placeholder=\"\" class=\"form-input\" />\n            </div>\n\n            <div class=\"import-tabs\">\n              <div class=\"import-method\">\n                <div class=\"import-method-header\">URL</div>\n                <input v-model=\"customFontForm.url\" type=\"text\" placeholder=\"URL ttf/otf/woff/woff2\"\n                  class=\"form-input\" :disabled=\"!!customFontForm.file\" />\n              </div>\n\n              <div class=\"import-divider\"></div>\n\n              <div class=\"import-method\">\n                <div class=\"import-method-header\"></div>\n                <input ref=\"fontFileInput\" type=\"file\" accept=\".ttf,.otf,.woff,.woff2\" @change=\"handleFontFileSelect\"\n                  class=\"form-file-input\" :disabled=\"!!customFontForm.url\" />\n                <div v-if=\"customFontForm.file\" class=\"file-selected\">\n                  : {{ customFontForm.file.name }}\n                </div>\n              </div>\n            </div>\n\n            <div class=\"form-hint\">\n              TTFOTFWOFFWOFF2<br>\n              Base64\n            </div>\n          </div>\n          <div class=\"modal-footer\">\n            <button @click=\"resetCustomFontForm\" class=\"btn btn-secondary\"></button>\n            <button @click=\"addCustomFont\" class=\"btn btn-primary\"></button>\n          </div>\n        </div>\n      </div>\n\n      <div v-if=\"highlightMenu.show\" class=\"highlight-menu\"\n        :style=\"{ left: highlightMenu.x + 'px', top: highlightMenu.y + 'px' }\">\n        <button @click=\"removeHighlightFromMenu\" class=\"selection-btn\"> </button>\n      </div>\n\n      <div v-if=\"!readingMode\" class=\"messages-wrapper\" :style=\"getContentStyles()\">\n        <div v-for=\"(message, index) in paginatedMessages\" :key=\"currentRange.start + index\"\n          :class=\"['message-block', { 'user-message': message.is_user }]\">\n          <div class=\"message-header\">\n            <span class=\"speaker-name\">{{ message.name }}</span>\n            <div class=\"message-info\">\n              <span v-if=\"message.send_date\" class=\"timestamp\">{{ message.send_date }}</span>\n              <span v-if=\"message.model\" class=\"model-tag\">{{ message.model }}</span>\n              <button @click=\"toggleFavoriteMessage(getGlobalMessageIndex(index), message)\"\n                :class=\"['edit-btn', { 'favorited': isMessageFavorited(getGlobalMessageIndex(index)) }]\"\n                :title=\"isMessageFavorited(getGlobalMessageIndex(index)) ? '' : ''\">\n                {{ isMessageFavorited(getGlobalMessageIndex(index)) ? '' : '' }}\n              </button>\n              <button @click=\"toggleEditMessage(getGlobalMessageIndex(index))\" class=\"edit-btn\"\n                :title=\"editingMessageIndex === getGlobalMessageIndex(index) ? '' : ''\">\n                {{ editingMessageIndex === getGlobalMessageIndex(index) ? '' : '' }}\n              </button>\n            </div>\n          </div>\n\n          <div v-if=\"editingMessageIndex === getGlobalMessageIndex(index)\" class=\"message-edit-form\">\n            <textarea v-model=\"editingContent\" class=\"edit-textarea\" rows=\"10\"></textarea>\n            <div class=\"edit-actions\">\n              <button @click=\"cancelEditMessage\" class=\"btn btn-secondary\"></button>\n              <button @click=\"saveEditMessage\" class=\"btn btn-primary\"></button>\n            </div>\n          </div>\n\n          <template v-if=\"editingMessageIndex !== getGlobalMessageIndex(index)\">\n            <div v-if=\"hasHTMLCodeBlock(getMessageContent(message))\" class=\"message-content-mixed\"\n              :style=\"getContentStyles()\" @mouseup=\"handleTextSelection($event, getGlobalMessageIndex(index), message)\">\n              <div class=\"message-content\" :style=\"getContentStyles()\"\n                v-html=\"renderContentWithHTMLPlaceholder(getMessageContent(message), getGlobalMessageIndex(index))\">\n              </div>\n            </div>\n            <div v-else-if=\"isFullHTML(getMessageContent(message))\" class=\"message-content-html\">\n              <div class=\"html-preview-header\">\n                <span class=\"html-tag\">HTML </span>\n                <button @click=\"toggleHTMLPreview(getGlobalMessageIndex(index))\" class=\"preview-toggle\">\n                  {{ message.showPreview ? '' : '' }}\n                </button>\n              </div>\n              <iframe v-if=\"message.showPreview\" :srcdoc=\"getMessageContent(message)\" class=\"html-iframe\"\n                sandbox=\"allow-scripts allow-same-origin\"></iframe>\n              <pre v-else class=\"html-code\">{{ getMessageContent(message) }}</pre>\n            </div>\n            <div v-else class=\"message-content\" :style=\"getContentStyles()\"\n              v-html=\"renderContent(getMessageContent(message), getGlobalMessageIndex(index))\"\n              @mouseup=\"handleTextSelection($event, getGlobalMessageIndex(index), message)\"></div>\n          </template>\n\n          <div v-if=\"message.swipes && message.swipes.length > 1\" class=\"swipe-controls\">\n            <button @click=\"prevSwipe(getGlobalMessageIndex(index))\" :disabled=\"message.currentSwipeIndex === 0\"\n              class=\"swipe-btn\" title=\"\">\n              \n            </button>\n            <span class=\"swipe-indicator\">\n              {{ message.currentSwipeIndex + 1 }} / {{ message.swipes.length }}\n            </span>\n            <button @click=\"nextSwipe(getGlobalMessageIndex(index))\"\n              :disabled=\"message.currentSwipeIndex === message.swipes.length - 1\" class=\"swipe-btn\" title=\"\">\n              \n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div v-if=\"readingMode\" class=\"reading-view\" ref=\"readingView\" @click=\"handleReadingClick\">\n        <div class=\"reading-content\" ref=\"readingContentEl\" :style=\"getReadingTransform()\" v-html=\"readingFullHtml\"\n          @mouseup=\"onReadingMouseUp\" @touchstart=\"onReadingTouchStart\" @touchend=\"onReadingTouchEnd\"></div>\n\n        <!--  -->\n        <div class=\"reading-nav-left\" @click=\"readingPrevPage\"></div>\n        <div class=\"reading-nav-right\" @click=\"readingNextPage\"></div>\n        <div class=\"reading-nav-center\" @click=\"toggleToolbar\"></div>\n\n        <div :class=\"['reading-footer', { 'visible': toolbarVisible }]\">\n          <div class=\"reading-progress\">\n            <span>{{ readingCurrentPage }} / {{ readingTotalPages }} </span>\n            <span class=\"reading-floor\"> {{ getReadingFloorRange() }}</span>\n          </div>\n\n          <div class=\"reading-controls\">\n            <button @click=\"readingPrevPage\" :disabled=\"readingCurrentPage <= 1\" class=\"reading-btn\"></button>\n            <button @click=\"toggleReadingMode\" class=\"reading-btn reading-exit\"></button>\n            <button @click=\"readingNextPage\" :disabled=\"readingCurrentPage >= readingTotalPages\"\n              class=\"reading-btn\"></button>\n          </div>\n        </div>\n      </div>\n\n      <div v-if=\"!readingMode\" class=\"pagination-bar pagination-bottom\">\n        <div class=\"pagination-info\">\n           {{ currentRange.start }}-{{ currentRange.end }}  {{ filteredMessages.length }} \n          <span v-if=\"searchQuery\" class=\"filter-hint\"></span>\n        </div>\n        <div class=\"pagination-controls\">\n          <button @click=\"goToPage(1)\" :disabled=\"currentPage === 1\" class=\"page-btn\" title=\"\"></button>\n          <button @click=\"prevPage\" :disabled=\"currentPage === 1\" class=\"page-btn\" title=\"\"></button>\n          <span class=\"page-indicator\">{{ currentPage }} / {{ totalPages }}</span>\n          <button @click=\"nextPage\" :disabled=\"currentPage === totalPages\" class=\"page-btn\" title=\"\"></button>\n          <button @click=\"goToPage(totalPages)\" :disabled=\"currentPage === totalPages\" class=\"page-btn\"\n            title=\"\"></button>\n          <select v-model.number=\"pageSize\" @change=\"onPageSizeChange\" class=\"page-size-select\">\n            <option :value=\"10\">10/</option>\n            <option :value=\"20\">20/</option>\n            <option :value=\"50\">50/</option>\n            <option :value=\"100\">100/</option>\n          </select>\n        </div>\n      </div>\n    </div>\n\n    <div v-if=\"selectionMenu.show\" class=\"selection-menu\"\n      :style=\"{ left: selectionMenu.x + 'px', top: selectionMenu.y + 'px' }\">\n      <button @click=\"favoriteSelectedText\" class=\"selection-btn\"> </button>\n      <button @click=\"highlightSelectedText\" class=\"selection-btn\"> </button>\n      <button @click=\"copySelectedText\" class=\"selection-btn\">\n        <Icon icon=\"icon-park-twotone:copy\" style=\"vertical-align: -2px; margin-right: 2px;\" /> \n      </button>\n    </div>\n\n    <div v-if=\"exportDialog.show\" class=\"export-dialog-overlay\" @click.self=\"closeExportDialog\">\n      <div class=\"export-dialog\">\n        <div class=\"export-dialog-header\">\n          <h3></h3>\n          <button @click=\"closeExportDialog\" class=\"btn-icon\"></button>\n        </div>\n        <div class=\"export-dialog-body\">\n          <div class=\"export-range\">\n            <div class=\"range-inputs\">\n              <div class=\"range-input-group\">\n                <label></label>\n                <input type=\"number\" v-model.number=\"exportDialog.startFloor\" :min=\"1\" :max=\"filteredMessages.length\"\n                  class=\"range-input\" />\n              </div>\n              <span class=\"range-separator\"></span>\n              <div class=\"range-input-group\">\n                <label></label>\n                <input type=\"number\" v-model.number=\"exportDialog.endFloor\" :min=\"1\" :max=\"filteredMessages.length\"\n                  class=\"range-input\" />\n              </div>\n            </div>\n            <div class=\"range-hint\">\n               {{ filteredMessages.length }}  {{ getExportCount() }} \n            </div>\n          </div>\n\n          <div class=\"export-options\">\n            <label class=\"export-option\">\n              <input type=\"checkbox\" v-model=\"exportDialog.includeName\" />\n              \n            </label>\n            <label class=\"export-option\">\n              <input type=\"checkbox\" v-model=\"exportDialog.includeTime\" />\n              \n            </label>\n          </div>\n          <div class=\"export-preview\">\n            <div class=\"export-preview-label\"> 3 </div>\n            <pre class=\"export-preview-content\">{{ getExportPreview() }}</pre>\n          </div>\n        </div>\n        <div class=\"export-dialog-footer\">\n          <button @click=\"closeExportDialog\" class=\"btn btn-secondary\"></button>\n          <button @click=\"doExportRange\" class=\"btn btn-primary\"> TXT</button>\n        </div>\n      </div>\n    </div>\n    <div v-if=\"showIntimacyModal\" class=\"modal-overlay\" @click.self=\"showIntimacyModal = false\">\n      <div class=\"modal-dialog intimacy-dialog\">\n        <div class=\"modal-header\">\n          <h3>\n            <Icon icon=\"bxs:heart\" style=\"color: #e91e63; margin-right: 8px;\" /> \n          </h3>\n          <button @click=\"showIntimacyModal = false\" class=\"modal-close\"></button>\n        </div>\n\n        <div class=\"modal-body\">\n          <div class=\"stats-grid\">\n            <div class=\"stat-card\">\n              <div class=\"stat-label\"></div>\n              <div class=\"stat-value text-sm\">{{ intimacyData.firstDate || 'N/A' }}</div>\n              <div class=\"stat-sub\"> {{ intimacyData.daysSince }} </div>\n            </div>\n            <div class=\"stat-card\">\n              <div class=\"stat-label\"></div>\n              <div class=\"stat-value\">{{ intimacyData.activeDays }} <span class=\"unit\"></span></div>\n              <div class=\"stat-sub\"></div>\n            </div>\n            <div class=\"stat-card\">\n              <div class=\"stat-label\"></div>\n              <div class=\"stat-value\">{{ intimacyData.totalMessages }}</div>\n              <div class=\"stat-sub\">{{ (intimacyData.totalChars / 10000).toFixed(1) }} </div>\n            </div>\n            <div class=\"stat-card\">\n              <div class=\"stat-label\">Roll</div>\n              <div class=\"stat-value\">{{ intimacyData.totalRerolls }}</div>\n              <div class=\"stat-sub\"></div>\n            </div>\n          </div>\n\n          <div class=\"calendar-section\">\n            <div class=\"calendar-header-row\">\n              <h4></h4>\n              <div class=\"heatmap-legend\">\n                <span></span>\n                <span class=\"legend-item level-1\"></span>\n                <span class=\"legend-item level-2\"></span>\n                <span class=\"legend-item level-3\"></span>\n                <span class=\"legend-item level-4\"></span>\n                <span></span>\n              </div>\n            </div>\n\n            <div v-if=\"intimacyData.calendarMonths.length > 0\" class=\"calendar-widget\">\n\n              <div class=\"calendar-nav\">\n                <button @click=\"prevMonth\" :disabled=\"currentMonthIndex >= intimacyData.calendarMonths.length - 1\"\n                  class=\"nav-btn\" title=\"\"></button>\n\n                <div class=\"current-month-label\">\n                  {{ intimacyData.calendarMonths[currentMonthIndex].year }}\n                  {{ intimacyData.calendarMonths[currentMonthIndex].month }}\n                </div>\n\n                <button @click=\"nextMonth\" :disabled=\"currentMonthIndex <= 0\" class=\"nav-btn\" title=\"\"></button>\n              </div>\n\n              <div class=\"month-card single-view\">\n                <div class=\"month-grid\">\n                  <div class=\"weekday-header\"></div>\n                  <div class=\"weekday-header\"></div>\n                  <div class=\"weekday-header\"></div>\n                  <div class=\"weekday-header\"></div>\n                  <div class=\"weekday-header\"></div>\n                  <div class=\"weekday-header\"></div>\n                  <div class=\"weekday-header\"></div>\n\n                  <div v-for=\"n in intimacyData.calendarMonths[currentMonthIndex].paddingStart\" :key=\"'pad-start-' + n\"\n                    class=\"day-cell padding\"></div>\n\n                  <div v-for=\"day in intimacyData.calendarMonths[currentMonthIndex].days\" :key=\"day.dateStr\"\n                    :class=\"['day-cell', `level-${day.level}`, { 'has-data': day.count > 0 }]\"\n                    @mouseenter=\"showDayTooltip($event, day)\" @mousemove=\"moveDayTooltip($event)\"\n                    @mouseleave=\"hideDayTooltip\">\n                    <span class=\"day-number\">{{ day.dayNum }}</span>\n                  </div>\n                </div>\n              </div>\n\n              <div class=\"month-footer-stats\">\n                <div class=\"footer-stat\">\n                  <span class=\"f-label\"></span>\n                  <span class=\"f-value\">{{ intimacyData.calendarMonths[currentMonthIndex].totalCount }}</span>\n                </div>\n                <div class=\"footer-divider\"></div>\n                <div class=\"footer-stat\">\n                  <span class=\"f-label\"></span>\n                  <span class=\"f-value\">{{ intimacyData.calendarMonths[currentMonthIndex].totalChars }}</span>\n                </div>\n              </div>\n\n            </div>\n\n            <div v-else class=\"no-calendar-data\">\n              \n            </div>\n\n            <div v-show=\"tooltip.show\" class=\"custom-tooltip\"\n              :style=\"{ left: tooltip.x + 'px', top: tooltip.y + 'px' }\">\n              <div class=\"tooltip-header\">{{ tooltip.dateStr }}</div>\n              <div class=\"tooltip-row\">\n                <Icon icon=\"pepicons-pencil:letter\" class=\"tooltip-icon\" />\n                <span>{{ tooltip.count }} </span>\n              </div>\n              <div class=\"tooltip-row\">\n                <Icon icon=\"ri:draft-line\" class=\"tooltip-icon\" />\n                <span>{{ tooltip.chars }} </span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { marked } from 'marked';\nimport DOMPurify from 'dompurify';\nimport { Icon } from '@iconify/vue';\n\nexport default {\n  name: 'STReader',\n  components: {\n    Icon\n  },\n  data() {\n    return {\n      isDarkMode: false,\n      metadata: {},\n      messages: [],\n      rawData: [],\n      // \n      regexScripts: [],\n      showRegexManager: false,\n      editingScript: null,\n      scriptForm: {\n        id: '',\n        scriptName: '',\n        findRegex: '',\n        replaceString: '',\n        disabled: false\n      },\n      dragIndex: null,\n      // \n      currentPage: 1,\n      pageSize: 10,\n      // \n      searchQuery: '',\n      searchResults: [],\n      currentSearchIndex: -1,\n      showSearchBar: false,\n      // \n      editingMessageIndex: null,\n      editingContent: '',\n      // \n      tagFilters: [],\n      showTagFilterManager: false,\n      editingTagFilter: null,\n      tagFilterForm: {\n        id: '',\n        name: '',\n        tagName: '',\n        mode: 'remove',\n        disabled: false\n      },\n      // \n      favorites: [],            // \n      highlights: [],           // \n      showFavoritesPanel: false,\n      selectionMenu: {\n        show: false,\n        x: 0,\n        y: 0,\n        text: '',\n        messageIndex: null\n      },\n      highlightMenu: {\n        show: false,\n        x: 0,\n        y: 0,\n        highlightId: null\n      },\n      // \n      exportDialog: {\n        show: false,\n        startFloor: 1,\n        endFloor: 1,\n        includeName: true,\n        includeTime: true\n      },\n      // \n      showStylePanel: false,\n      textStyles: {\n        fontFamily: 'system',\n        fontSize: 16,\n        lineHeight: 1.8,\n        paragraphSpacing: 1,\n        letterSpacing: 0,\n        textColor: '#1a1a1a',\n        italicColor: '#1a1a1a',\n        underlineColor: '#1a1a1a',\n        quoteColor: '#1a1a1a',\n        textAlign: 'justify'\n      },\n      colorOptions: [\n        { name: '', value: '#1a1a1a' },\n        { name: '', value: '#333333' },\n        { name: '', value: '#555555' },\n        { name: '', value: '#666666' },\n        { name: '', value: '#5d4037' },\n        { name: '', value: '#1a237e' }\n      ],\n      // \n      customFonts: [],\n      showCustomFontDialog: false,\n      customFontForm: {\n        name: '',\n        url: '',\n        file: null\n      },\n      // \n      readingMode: false,\n      toolbarVisible: false,\n      readingCurrentPage: 1,\n      readingTotalPages: 1,\n      readingFullHtml: '',      // HTML\n      readingTouchStartX: 0,\n      readingTouchStartY: 0,\n      toolbarTimeout: null,\n      windowWidth: 0,           // \n      resizeTimer: null,\n      keepReadingPagePosition: false, // \n      showIntimacyModal: false,\n      // \n      intimacyData: {\n        firstDate: '',\n        daysSince: 0,\n        activeDays: 0,\n        totalMessages: 0,\n        totalChars: 0,\n        totalRerolls: 0,\n        calendarMonths: []\n      },\n      // \n      currentMonthIndex: 0,\n      // emoji\n      tooltip: {\n        show: false,\n        x: 0,\n        y: 0,\n        dateStr: '',\n        count: 0,\n        chars: 0\n      },\n    };\n  },\n  computed: {\n    // \n    filteredMessages() {\n      if (!this.searchQuery.trim()) {\n        return this.messages;\n      }\n      const query = this.searchQuery.toLowerCase();\n      return this.messages.filter((msg, index) => {\n        const content = this.getMessageContent(msg).toLowerCase();\n        const name = (msg.name || '').toLowerCase();\n        const matches = content.includes(query) || name.includes(query);\n        // \n        if (matches) {\n          msg._originalIndex = index;\n        }\n        return matches;\n      });\n    },\n    totalPages() {\n      return Math.ceil(this.filteredMessages.length / this.pageSize);\n    },\n    paginatedMessages() {\n      const start = (this.currentPage - 1) * this.pageSize;\n      const end = start + this.pageSize;\n      return this.filteredMessages.slice(start, end);\n    },\n    currentRange() {\n      const start = (this.currentPage - 1) * this.pageSize + 1;\n      const end = Math.min(this.currentPage * this.pageSize, this.filteredMessages.length);\n      return { start, end };\n    }\n  },\n  mounted() {\n    //  body \n    document.body.style.overflow = '';\n\n    //  localStorage \n    this.loadScriptsFromStorage();\n    this.loadTagFiltersFromStorage();\n    this.loadFavoritesFromStorage();\n    this.loadHighlightsFromStorage();\n    this.loadStylesFromStorage();\n    this.loadDarkMode();\n    this.loadCustomFonts();\n\n    // HTML\n    this.replaceHTMLPlaceholders();\n\n    // \n    document.addEventListener('mousedown', this.hideSelectionMenu);\n\n    window.addEventListener('keydown', this.handleKeydown);\n  },\n\n  updated() {\n    // DOMHTML\n    this.replaceHTMLPlaceholders();\n    document.addEventListener('mousedown', this.hideHighlightMenu);\n\n    // \n    document.addEventListener('click', this.onHighlightClick);\n\n  },\n  beforeUnmount() {\n    document.removeEventListener('mousedown', this.hideSelectionMenu);\n    document.removeEventListener('mousedown', this.hideHighlightMenu);\n    document.removeEventListener('click', this.onHighlightClick);\n    window.removeEventListener('resize', this.handleResize);\n    window.removeEventListener('keydown', this.handleKeydown);\n    //  body overflow\n    document.body.style.overflow = '';\n    if (this.toolbarTimeout) {\n      clearTimeout(this.toolbarTimeout);\n    }\n    if (this.resizeTimer) {\n      clearTimeout(this.resizeTimer);\n    }\n  },\n  methods: {\n    // ===  ===\n    toggleDarkMode() {\n      this.isDarkMode = !this.isDarkMode;\n\n      const blackColors = ['#000000', '#1a1a1a', '#333333'];\n      const lightColor = '#e0e0e0'; // \n\n      // \n      const oldGray = '#bfbfbf';\n      const oldDim = '#888888';\n\n      if (this.isDarkMode) {\n        // ===  ===\n\n        //  #e0e0e0\n        if (blackColors.includes(this.textStyles.textColor) || this.textStyles.textColor === oldGray) {\n          this.textStyles.textColor = lightColor;\n        }\n\n        if (blackColors.includes(this.textStyles.italicColor) || this.textStyles.italicColor === oldGray) {\n          this.textStyles.italicColor = lightColor;\n        }\n\n        if (blackColors.includes(this.textStyles.underlineColor) || this.textStyles.underlineColor === oldGray) {\n          this.textStyles.underlineColor = lightColor;\n        }\n\n        // \n        if (blackColors.includes(this.textStyles.quoteColor) || this.textStyles.quoteColor === oldGray || this.textStyles.quoteColor === oldDim) {\n          this.textStyles.quoteColor = lightColor;\n        }\n\n        document.body.style.backgroundColor = '#121212';\n\n      } else {\n        // ===  ===\n\n        const nightColors = [lightColor, oldGray, oldDim];\n\n        if (nightColors.includes(this.textStyles.textColor)) this.textStyles.textColor = '#1a1a1a';\n        if (nightColors.includes(this.textStyles.italicColor)) this.textStyles.italicColor = '#1a1a1a';\n        if (nightColors.includes(this.textStyles.underlineColor)) this.textStyles.underlineColor = '#1a1a1a';\n        if (nightColors.includes(this.textStyles.quoteColor)) this.textStyles.quoteColor = '#1a1a1a';\n\n        document.body.style.backgroundColor = '';\n      }\n\n      this.saveStylesToStorage();\n      localStorage.setItem('st_reader_dark_mode', this.isDarkMode);\n    },\n\n    //  loadStylesFromStorage  mounted\n    loadDarkMode() {\n      const saved = localStorage.getItem('st_reader_dark_mode');\n      if (saved === 'true') {\n        this.isDarkMode = true;\n        document.body.style.backgroundColor = '#121212';\n      }\n    },\n\n    handleFileUpload(event) {\n      const file = event.target.files[0];\n      if (!file) return;\n\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        this.parseJSONL(e.target.result);\n      };\n      reader.readAsText(file);\n    },\n\n    parseJSONL(content) {\n      const lines = content.trim().split('\\n');\n      this.rawData = [];\n      this.messages = [];\n      this.metadata = {};\n\n      lines.forEach((line, index) => {\n        try {\n          const data = JSON.parse(line);\n          if (index === 0 && !data.mes) {\n            // \n            this.metadata = data;\n          } else {\n            // \n            //  is_user booleannumberstring\n            let isUser = false;\n            if (data.is_user === true || data.is_user === 1 || data.is_user === 'true') {\n              isUser = true;\n            }\n\n            //  swipes\n            let swipes = [];\n            if (data.swipes && Array.isArray(data.swipes) && data.swipes.length > 1) {\n              swipes = data.swipes;\n            }\n\n            const message = {\n              name: data.name || '',\n              is_user: isUser,\n              mes: data.mes || '',\n              send_date: data.send_date || null,\n              model: data.extra?.model || null,\n              force_avatar: data.force_avatar || null,\n              showPreview: false,  //  HTML \n              swipes: swipes,\n              currentSwipeIndex: data.swipe_id || 0  //  swipe \n            };\n\n            this.messages.push(message);\n          }\n        } catch (error) {\n          console.error(` ${index + 1} :`, error);\n        }\n      });\n    },\n\n    hasHTMLCodeBlock(content) {\n      if (!content) return false;\n      //  ```html  ```  HTML \n      const codeBlockPattern = /```(?:html)?\\s*([\\s\\S]*?)```/i;\n      const match = content.match(codeBlockPattern);\n      if (!match) return false;\n\n      const codeContent = match[1].trim();\n      const hasDoctype = /<!DOCTYPE\\s+html>/i.test(codeContent);\n      const hasHtmlTag = /<html[\\s>]/i.test(codeContent);\n\n      return hasDoctype && hasHtmlTag;\n    },\n\n    extractHTMLFromCodeBlock(content) {\n      if (!content) return '';\n      const codeBlockPattern = /```(?:html)?\\s*([\\s\\S]*?)```/i;\n      const match = content.match(codeBlockPattern);\n      return match ? match[1].trim() : '';\n    },\n\n    renderContentWithoutCodeBlock(content) {\n      if (!content) return '';\n      // \n      let processedContent = this.applyTagFilters(content);\n      processedContent = this.applyRegexScripts(processedContent);\n      //  HTML \n      const withoutCodeBlock = processedContent.replace(/```(?:html)?\\s*[\\s\\S]*?```/gi, '').trim();\n      //  renderContent markdown\n      return this.renderMarkdown(withoutCodeBlock);\n    },\n\n    renderContentWithHTMLPlaceholder(content, messageIndex) {\n      if (!content) return '';\n      // \n      let processedContent = this.applyTagFilters(content);\n      processedContent = this.applyRegexScripts(processedContent);\n\n      // HTML\n      const htmlContent = this.extractHTMLFromCodeBlock(processedContent);\n\n      if (!htmlContent) {\n        // HTML\n        return this.renderMarkdown(processedContent);\n      }\n\n      // HTML\n      // dataHTMLbase64\n      const base64Html = btoa(unescape(encodeURIComponent(htmlContent)));\n      const placeholder = `<div class=\"html-preview-placeholder\" data-html-base64=\"${base64Html}\" data-message-idx=\"${messageIndex}\"></div>`;\n\n      const withPlaceholder = processedContent.replace(\n        /```(?:html)?\\s*[\\s\\S]*?```/gi,\n        placeholder\n      );\n\n      // Markdown\n      return this.renderMarkdown(withPlaceholder);\n    },\n\n    replaceHTMLPlaceholders() {\n      // \n      const placeholders = this.$el?.querySelectorAll('.html-preview-placeholder') || [];\n      placeholders.forEach(placeholder => {\n        const base64Html = placeholder.getAttribute('data-html-base64');\n        if (base64Html && placeholder.parentNode) {\n          try {\n            const htmlContent = decodeURIComponent(escape(atob(base64Html)));\n            const iframe = document.createElement('iframe');\n            iframe.className = 'html-iframe';\n            iframe.setAttribute('sandbox', 'allow-scripts allow-same-origin');\n            iframe.srcdoc = htmlContent;\n\n            const wrapper = document.createElement('div');\n            wrapper.className = 'html-preview-section';\n            wrapper.appendChild(iframe);\n\n            placeholder.parentNode.replaceChild(wrapper, placeholder);\n          } catch (e) {\n            console.error('HTML:', e);\n          }\n        }\n      });\n    },\n\n    renderMarkdown(content) {\n      if (!content) return '';\n\n      //  marked  HTML\n      marked.setOptions({\n        breaks: true,\n        gfm: true,\n        sanitize: false,\n        mangle: false,\n        headerIds: false\n      });\n\n      let html = marked.parse(content);\n\n      //  renderContent  DOMPurify \n      html = DOMPurify.sanitize(html, this.getDOMPurifyConfig());\n\n      return html;\n    },\n\n    //  DOMPurify \n    getDOMPurifyConfig() {\n      return {\n        ALLOWED_TAGS: [\n          'p', 'br', 'strong', 'em', 'u', 'del', 'code', 'pre', 'blockquote',\n          'h1', 'h2', 'h3', 'h4', 'h5', 'h6',\n          'ul', 'ol', 'li',\n          'a', 'img',\n          'span', 'div',\n          'b', 'i', 's', 'strike', 'sub', 'sup',\n          'table', 'thead', 'tbody', 'tr', 'th', 'td',\n          'hr', 'details', 'summary',\n          //  - \n          'style', 'mark', 'small', 'big', 'abbr', 'cite', 'q',\n          'dl', 'dt', 'dd', 'figure', 'figcaption', 'main', 'section', 'article',\n          'header', 'footer', 'nav', 'aside', 'address', 'time', 'ruby', 'rt', 'rp',\n          'button', 'label', 'input', 'select', 'option', 'textarea',\n          'fieldset', 'legend', 'meter', 'progress', 'output',\n          'canvas', 'svg', 'path', 'circle', 'rect', 'line', 'polygon', 'polyline',\n          'g', 'defs', 'use', 'symbol', 'text', 'tspan'\n        ],\n        ALLOWED_ATTR: [\n          'href', 'src', 'alt', 'title', 'class', 'style',\n          'width', 'height', 'align', 'target', 'rel',\n          'id', 'name',\n          // \n          'type', 'value', 'placeholder', 'disabled', 'readonly', 'checked',\n          'min', 'max', 'step', 'pattern', 'required', 'multiple',\n          'rows', 'cols', 'wrap', 'for', 'form',\n          'open', 'datetime', 'cite', 'download',\n          // SVG \n          'd', 'fill', 'stroke', 'stroke-width', 'viewBox', 'xmlns',\n          'cx', 'cy', 'r', 'rx', 'ry', 'x', 'y', 'x1', 'y1', 'x2', 'y2',\n          'points', 'transform', 'opacity', 'font-size', 'text-anchor',\n          // \n          'onclick', 'onchange', 'oninput',\n          // Reading mode needs data attributes\n          'data-floor'\n        ],\n        ALLOW_DATA_ATTR: true\n      };\n    },\n\n    isFullHTML(content) {\n      if (!content) return false;\n\n      const trimmed = content.trim();\n\n      //  Markdown ``` HTML \n      if (/^```/.test(trimmed)) {\n        return false;\n      }\n\n      //  DOCTYPE  html  <html \n      const hasDoctype = /<!DOCTYPE\\s+html>/i.test(trimmed);\n      const hasHtmlTag = /<html[\\s>]/i.test(trimmed);\n      const startsWithHtml = /^<html[\\s>]/i.test(trimmed);\n\n      //  <!DOCTYPE  <html  HTML \n      return (hasDoctype && hasHtmlTag) || startsWithHtml;\n    },\n\n    toggleHTMLPreview(index) {\n      this.messages[index].showPreview = !this.messages[index].showPreview;\n    },\n\n    // Swipe \n    getMessageContent(message) {\n      //  swipes  swipe \n      if (message.swipes && message.swipes.length > 0) {\n        return message.swipes[message.currentSwipeIndex] || message.mes;\n      }\n      return message.mes;\n    },\n\n    prevSwipe(messageIndex) {\n      const message = this.messages[messageIndex];\n      if (message.swipes && message.currentSwipeIndex > 0) {\n        message.currentSwipeIndex--;\n      }\n    },\n\n    nextSwipe(messageIndex) {\n      const message = this.messages[messageIndex];\n      if (message.swipes && message.currentSwipeIndex < message.swipes.length - 1) {\n        message.currentSwipeIndex++;\n      }\n    },\n\n    // \n    getGlobalMessageIndex(localIndex) {\n      return (this.currentPage - 1) * this.pageSize + localIndex;\n    },\n\n    // ==========  ==========\n\n    toggleEditMessage(globalIndex) {\n      if (this.editingMessageIndex === globalIndex) {\n        // \n        this.cancelEditMessage();\n      } else {\n        // \n        const message = this.messages[globalIndex];\n        //  swipe \n        this.editingContent = this.getMessageContent(message);\n        this.editingMessageIndex = globalIndex;\n      }\n    },\n\n    cancelEditMessage() {\n      this.editingMessageIndex = null;\n      this.editingContent = '';\n    },\n\n    saveEditMessage() {\n      if (this.editingMessageIndex === null) return;\n\n      const message = this.messages[this.editingMessageIndex];\n\n      //  swipes swipe \n      if (message.swipes && message.swipes.length > 0) {\n        message.swipes[message.currentSwipeIndex] = this.editingContent;\n      } else {\n        //  mes\n        message.mes = this.editingContent;\n      }\n\n      this.cancelEditMessage();\n    },\n\n    renderContent(content, messageIndex) {\n      if (!content) return '';\n\n      // \n      let processedContent = this.applyTagFilters(content);\n\n      // \n      processedContent = this.applyRegexScripts(processedContent);\n\n      //  HTML \n      const htmlBlocks = [];\n      let tempContent = processedContent;\n\n      //  Markdown \n      //  {ST_HTML_BLOCK_0}\n      const placeholder = (i) => `{ST_READER_HTML_BLOCK_${i}}`;\n\n      //  <style>  HTML \n      const styleIndex = tempContent.indexOf('<style');\n      if (styleIndex !== -1) {\n        let htmlEnd = tempContent.length;\n        const afterStyle = tempContent.substring(styleIndex);\n\n        let lastDivEnd = -1;\n        let divEnd = afterStyle.indexOf('</div>', 0);\n        while (divEnd !== -1) {\n          lastDivEnd = divEnd + 6;\n          divEnd = afterStyle.indexOf('</div>', divEnd + 1);\n        }\n\n        if (lastDivEnd !== -1) {\n          const afterLastDiv = afterStyle.substring(lastDivEnd).trim();\n          if (!afterLastDiv.startsWith('<') || afterLastDiv.startsWith('</')) {\n            htmlEnd = styleIndex + lastDivEnd;\n          }\n        }\n\n        const htmlBlock = tempContent.substring(styleIndex, htmlEnd);\n        htmlBlocks.push(htmlBlock);\n        // \n        tempContent = tempContent.substring(0, styleIndex) + placeholder(0) + tempContent.substring(htmlEnd);\n      }\n\n      //  <details> \n      tempContent = tempContent.replace(/<details[\\s\\S]*?<\\/details>/gi, (match) => {\n        htmlBlocks.push(match);\n        // \n        return placeholder(htmlBlocks.length - 1);\n      });\n\n      //  marked\n      marked.setOptions({\n        breaks: true,\n        gfm: true,\n        sanitize: false,\n        mangle: false,\n        headerIds: false\n      });\n\n      //  Markdown\n      let html = marked.parse(tempContent);\n\n      //  HTML \n      htmlBlocks.forEach((block, i) => {\n        const ph = placeholder(i);\n        //  p \n        //  marked  <p> \n        if (html.includes(`<p>${ph}</p>`)) {\n          html = html.replace(`<p>${ph}</p>`, block);\n        } else {\n          html = html.replace(ph, block);\n        }\n      });\n\n      // DOMPurify \n      html = DOMPurify.sanitize(html, this.getDOMPurifyConfig());\n\n      // \n      if (messageIndex !== undefined) {\n        html = this.applyHighlights(html, messageIndex);\n      }\n\n      return html;\n    },\n\n    // \n    applyHighlights(html, messageIndex) {\n      if (!this.highlights || this.highlights.length === 0) return html;\n\n      let result = html;\n      for (const highlight of this.highlights) {\n        // \n        if (highlight.text && highlight.messageIndex === messageIndex) {\n          // \n          const escapedText = highlight.text.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n          try {\n            // \n            const regex = new RegExp(`(${escapedText})`);\n            result = result.replace(regex, `<span class=\"user-highlight\" data-highlight-id=\"${highlight.id}\">$1</span>`);\n          } catch (e) {\n            // \n          }\n        }\n      }\n      return result;\n    },\n\n    formatDate(timestamp) {\n      if (!timestamp) return '';\n\n      let date;\n\n      if (typeof timestamp === 'number') {\n        date = new Date(timestamp);\n      } else if (typeof timestamp === 'string') {\n        date = new Date(timestamp);\n        if (isNaN(date.getTime())) {\n          date = new Date(parseInt(timestamp));\n        }\n      } else {\n        return '';\n      }\n\n      if (isNaN(date.getTime())) return '';\n\n      const year = date.getFullYear();\n      const month = String(date.getMonth() + 1).padStart(2, '0');\n      const day = String(date.getDate()).padStart(2, '0');\n      const hours = String(date.getHours()).padStart(2, '0');\n      const minutes = String(date.getMinutes()).padStart(2, '0');\n\n      return `${year}-${month}-${day} ${hours}:${minutes}`;\n    },\n\n    resetReader() {\n      this.metadata = {};\n      this.messages = [];\n      this.rawData = [];\n      this.currentPage = 1;\n      if (this.$refs.fileInput) {\n        this.$refs.fileInput.value = '';\n      }\n    },\n\n    // ==========  ==========\n\n    prevPage() {\n      if (this.currentPage > 1) {\n        this.currentPage--;\n        this.scrollToTop();\n      }\n    },\n\n    nextPage() {\n      if (this.currentPage < this.totalPages) {\n        this.currentPage++;\n        this.scrollToTop();\n      }\n    },\n\n    goToPage(page) {\n      if (page >= 1 && page <= this.totalPages) {\n        this.currentPage = page;\n        this.scrollToTop();\n      }\n    },\n\n    onPageSizeChange() {\n      // \n      if (this.currentPage > this.totalPages) {\n        this.currentPage = this.totalPages || 1;\n      }\n      this.scrollToTop();\n    },\n\n    scrollToTop() {\n      this.$nextTick(() => {\n        const wrapper = document.querySelector('.messages-wrapper');\n        if (wrapper) {\n          wrapper.scrollIntoView({ behavior: 'smooth', block: 'start' });\n        }\n      });\n    },\n\n    // ==========  ==========\n\n    toggleSearchBar() {\n      this.showSearchBar = !this.showSearchBar;\n      if (!this.showSearchBar) {\n        this.clearSearch();\n      } else {\n        this.$nextTick(() => {\n          const input = document.querySelector('.search-input');\n          if (input) input.focus();\n        });\n      }\n    },\n\n    onSearchInput() {\n      // \n      this.currentPage = 1;\n    },\n\n    clearSearch() {\n      this.searchQuery = '';\n      this.currentPage = 1;\n    },\n\n    // ==========  ==========\n\n    loadFavoritesFromStorage() {\n      try {\n        const saved = localStorage.getItem('st_reader_favorites');\n        if (saved) {\n          this.favorites = JSON.parse(saved);\n        }\n      } catch (e) {\n        console.error(':', e);\n      }\n    },\n\n    saveFavoritesToStorage() {\n      try {\n        localStorage.setItem('st_reader_favorites', JSON.stringify(this.favorites));\n      } catch (e) {\n        console.error(':', e);\n      }\n    },\n\n    loadHighlightsFromStorage() {\n      try {\n        const saved = localStorage.getItem('st_reader_highlights');\n        if (saved) {\n          this.highlights = JSON.parse(saved);\n        }\n      } catch (e) {\n        console.error(':', e);\n      }\n    },\n\n    saveHighlightsToStorage() {\n      try {\n        localStorage.setItem('st_reader_highlights', JSON.stringify(this.highlights));\n      } catch (e) {\n        console.error(':', e);\n      }\n    },\n\n    toggleFavoritesPanel() {\n      this.showFavoritesPanel = !this.showFavoritesPanel;\n    },\n\n    // \n    toggleFavoriteMessage(globalIndex, message) {\n      const existingIndex = this.favorites.findIndex(\n        f => f.type === 'message' && f.messageIndex === globalIndex\n      );\n\n      if (existingIndex !== -1) {\n        // \n        this.favorites.splice(existingIndex, 1);\n      } else {\n        // \n        this.favorites.unshift({\n          id: this.generateUUID(),\n          type: 'message',\n          messageIndex: globalIndex,\n          text: this.getMessageContent(message),\n          speaker: message.name,\n          createdAt: Date.now()\n        });\n      }\n      this.saveFavoritesToStorage();\n    },\n\n    isMessageFavorited(globalIndex) {\n      return this.favorites.some(f => f.type === 'message' && f.messageIndex === globalIndex);\n    },\n\n    // \n    handleTextSelection(event, messageIndex, message) {\n      const selection = window.getSelection();\n      const selectedText = selection.toString().trim();\n\n      if (selectedText.length > 0) {\n        // \n        this.selectionMenu = {\n          show: true,\n          x: event.clientX,\n          y: event.clientY - 40,\n          text: selectedText,\n          messageIndex: messageIndex,\n          speaker: message.name\n        };\n      }\n    },\n\n    hideSelectionMenu(event) {\n      // \n      if (!event.target.closest('.selection-menu')) {\n        this.selectionMenu.show = false;\n      }\n    },\n\n    favoriteSelectedText() {\n      if (!this.selectionMenu.text) return;\n\n      this.favorites.unshift({\n        id: this.generateUUID(),\n        type: 'text',\n        messageIndex: this.selectionMenu.messageIndex,\n        text: this.selectionMenu.text,\n        speaker: this.selectionMenu.speaker,\n        createdAt: Date.now()\n      });\n\n      this.saveFavoritesToStorage();\n      this.selectionMenu.show = false;\n      window.getSelection().removeAllRanges();\n    },\n\n    highlightSelectedText() {\n      if (!this.selectionMenu.text) return;\n\n      this.highlights.push({\n        id: this.generateUUID(),\n        messageIndex: this.selectionMenu.messageIndex,\n        text: this.selectionMenu.text,\n        createdAt: Date.now()\n      });\n\n      this.saveHighlightsToStorage();\n      this.selectionMenu.show = false;\n      window.getSelection().removeAllRanges();\n\n      // \n      if (this.readingMode) {\n        this.generateReadingContent();\n      }\n    },\n\n    deleteHighlight(id) {\n      const index = this.highlights.findIndex(h => h.id === id);\n      if (index !== -1) {\n        this.highlights.splice(index, 1);\n        this.saveHighlightsToStorage();\n\n        // \n        if (this.readingMode) {\n          this.generateReadingContent();\n        }\n      }\n    },\n\n    onHighlightClick(event) {\n      const target = event.target.closest('.user-highlight');\n      if (target && target.dataset.highlightId) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.highlightMenu = {\n          show: true,\n          x: event.clientX,\n          y: event.clientY,\n          highlightId: target.dataset.highlightId\n        };\n      }\n    },\n\n    removeHighlightFromMenu() {\n      if (this.highlightMenu.highlightId) {\n        this.deleteHighlight(this.highlightMenu.highlightId);\n      }\n      this.highlightMenu.show = false;\n    },\n\n    hideHighlightMenu(event) {\n      // \n      if (!event || !event.target.closest('.highlight-menu')) {\n        this.highlightMenu.show = false;\n      }\n    },\n\n    // \n    navigateToFavorite(fav) {\n      if (fav.messageIndex === undefined || fav.messageIndex === null) return;\n\n      const messageIndex = fav.messageIndex;\n\n      // \n      const targetPage = Math.floor(messageIndex / this.pageSize) + 1;\n\n      // \n      if (targetPage !== this.currentPage) {\n        this.currentPage = targetPage;\n      }\n\n      // \n      this.showFavoritesPanel = false;\n\n      //  DOM \n      this.$nextTick(() => {\n        const localIndex = messageIndex % this.pageSize;\n        const messageBlocks = document.querySelectorAll('.message-block');\n        if (messageBlocks[localIndex]) {\n          messageBlocks[localIndex].scrollIntoView({ behavior: 'smooth', block: 'center' });\n          // \n          messageBlocks[localIndex].classList.add('highlight-flash');\n          setTimeout(() => {\n            messageBlocks[localIndex].classList.remove('highlight-flash');\n          }, 2000);\n        }\n      });\n    },\n\n    copySelectedText() {\n      if (!this.selectionMenu.text) return;\n\n      navigator.clipboard.writeText(this.selectionMenu.text).then(() => {\n        this.selectionMenu.show = false;\n      });\n    },\n\n    copyFavorite(fav) {\n      navigator.clipboard.writeText(fav.text);\n    },\n\n    deleteFavorite(id) {\n      this.favorites = this.favorites.filter(f => f.id !== id);\n      this.saveFavoritesToStorage();\n    },\n\n    clearAllFavorites() {\n      if (confirm('')) {\n        this.favorites = [];\n        this.saveFavoritesToStorage();\n      }\n    },\n\n    exportFavorites() {\n      const dataStr = JSON.stringify(this.favorites, null, 2);\n      const blob = new Blob([dataStr], { type: 'application/json' });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = 'favorites.json';\n      a.click();\n      URL.revokeObjectURL(url);\n    },\n\n    formatFavoriteTime(timestamp) {\n      const date = new Date(timestamp);\n      return `${date.getMonth() + 1}/${date.getDate()} ${date.getHours()}:${String(date.getMinutes()).padStart(2, '0')}`;\n    },\n\n    // ==========  ==========\n\n    loadTagFiltersFromStorage() {\n      try {\n        const saved = localStorage.getItem('st_reader_tag_filters');\n        if (saved) {\n          this.tagFilters = JSON.parse(saved);\n        }\n      } catch (e) {\n        console.error(':', e);\n      }\n    },\n\n    saveTagFiltersToStorage() {\n      try {\n        localStorage.setItem('st_reader_tag_filters', JSON.stringify(this.tagFilters));\n      } catch (e) {\n        console.error(':', e);\n      }\n    },\n\n    toggleTagFilterManager() {\n      this.showTagFilterManager = !this.showTagFilterManager;\n      if (!this.showTagFilterManager) {\n        this.resetTagFilterForm();\n      }\n    },\n\n    resetTagFilterForm() {\n      this.editingTagFilter = null;\n      this.tagFilterForm = {\n        id: '',\n        name: '',\n        tagName: '',\n        mode: 'remove',\n        disabled: false\n      };\n    },\n\n    addNewTagFilter() {\n      this.resetTagFilterForm();\n      this.tagFilterForm.id = this.generateUUID();\n    },\n\n    editTagFilter(filter) {\n      this.editingTagFilter = filter.id;\n      this.tagFilterForm = { ...filter };\n    },\n\n    saveTagFilter() {\n      if (!this.tagFilterForm.name || !this.tagFilterForm.tagName) {\n        alert('');\n        return;\n      }\n\n      if (this.editingTagFilter) {\n        const index = this.tagFilters.findIndex(f => f.id === this.editingTagFilter);\n        if (index !== -1) {\n          this.tagFilters.splice(index, 1, { ...this.tagFilterForm });\n        }\n      } else {\n        this.tagFilters.push({ ...this.tagFilterForm });\n      }\n\n      this.saveTagFiltersToStorage();\n      this.resetTagFilterForm();\n    },\n\n    cancelEditTagFilter() {\n      this.resetTagFilterForm();\n    },\n\n    deleteTagFilter(id) {\n      if (confirm('')) {\n        this.tagFilters = this.tagFilters.filter(f => f.id !== id);\n        this.saveTagFiltersToStorage();\n      }\n    },\n\n    toggleTagFilter(filter) {\n      filter.disabled = !filter.disabled;\n      this.saveTagFiltersToStorage();\n    },\n\n    moveTagFilterUp(index) {\n      if (index > 0) {\n        const temp = this.tagFilters[index];\n        this.tagFilters.splice(index, 1);\n        this.tagFilters.splice(index - 1, 0, temp);\n        this.saveTagFiltersToStorage();\n      }\n    },\n\n    moveTagFilterDown(index) {\n      if (index < this.tagFilters.length - 1) {\n        const temp = this.tagFilters[index];\n        this.tagFilters.splice(index, 1);\n        this.tagFilters.splice(index + 1, 0, temp);\n        this.saveTagFiltersToStorage();\n      }\n    },\n\n    // \n    applyTagFilters(text) {\n      if (!text) return text;\n\n      let result = text;\n\n      for (const filter of this.tagFilters) {\n        if (filter.disabled) continue;\n\n        try {\n          // \n          const tags = filter.tagName.split(',').map(t => t.trim()).filter(t => t);\n\n          for (const tag of tags) {\n            // \n            const escapedTag = tag.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n\n            if (filter.mode === 'remove') {\n              // \n              const regex = new RegExp(`<${escapedTag}[^>]*>[\\\\s\\\\S]*?<\\\\/${escapedTag}>`, 'gi');\n              result = result.replace(regex, '');\n              // \n              const selfClosingRegex = new RegExp(`<${escapedTag}[^>]*/?>`, 'gi');\n              result = result.replace(selfClosingRegex, '');\n            } else if (filter.mode === 'keep') {\n              // \n              const regex = new RegExp(`<${escapedTag}[^>]*>([\\\\s\\\\S]*?)<\\\\/${escapedTag}>`, 'gi');\n              const matches = [];\n              let match;\n              while ((match = regex.exec(text)) !== null) {\n                matches.push(match[1]);\n              }\n              if (matches.length > 0) {\n                result = matches.join('\\n\\n');\n              }\n            } else if (filter.mode === 'unwrap') {\n              // \n              const regex = new RegExp(`<${escapedTag}[^>]*>([\\\\s\\\\S]*?)<\\\\/${escapedTag}>`, 'gi');\n              result = result.replace(regex, '$1');\n              // \n              const selfClosingRegex = new RegExp(`<${escapedTag}[^>]*/?>`, 'gi');\n              result = result.replace(selfClosingRegex, '');\n            }\n          }\n        } catch (e) {\n          console.error(` \"${filter.name}\" :`, e);\n        }\n      }\n\n      return result;\n    },\n\n    // ==========  ==========\n\n    loadScriptsFromStorage() {\n      try {\n        const saved = localStorage.getItem('st_reader_regex_scripts');\n        if (saved) {\n          this.regexScripts = JSON.parse(saved);\n        }\n      } catch (e) {\n        console.error(':', e);\n      }\n    },\n\n    saveScriptsToStorage() {\n      try {\n        localStorage.setItem('st_reader_regex_scripts', JSON.stringify(this.regexScripts));\n      } catch (e) {\n        console.error(':', e);\n      }\n    },\n\n    toggleRegexManager() {\n      this.showRegexManager = !this.showRegexManager;\n      if (!this.showRegexManager) {\n        this.resetScriptForm();\n      }\n    },\n\n    resetScriptForm() {\n      this.editingScript = null;\n      this.scriptForm = {\n        id: '',\n        scriptName: '',\n        findRegex: '',\n        replaceString: '',\n        disabled: false\n      };\n    },\n\n    addNewScript() {\n      this.resetScriptForm();\n      this.scriptForm.id = this.generateUUID();\n    },\n\n    editScript(script) {\n      this.editingScript = script.id;\n      this.scriptForm = { ...script };\n    },\n\n    saveScript() {\n      if (!this.scriptForm.scriptName || !this.scriptForm.findRegex) {\n        alert('');\n        return;\n      }\n\n      if (this.editingScript) {\n        // \n        const index = this.regexScripts.findIndex(s => s.id === this.editingScript);\n        if (index !== -1) {\n          this.regexScripts.splice(index, 1, { ...this.scriptForm });\n        }\n      } else {\n        // \n        this.regexScripts.push({ ...this.scriptForm });\n      }\n\n      this.saveScriptsToStorage();\n      this.resetScriptForm();\n    },\n\n    cancelEdit() {\n      this.resetScriptForm();\n    },\n\n    deleteScript(id) {\n      if (confirm('')) {\n        this.regexScripts = this.regexScripts.filter(s => s.id !== id);\n        this.saveScriptsToStorage();\n      }\n    },\n\n    toggleScript(script) {\n      script.disabled = !script.disabled;\n      this.saveScriptsToStorage();\n    },\n\n    moveScriptUp(index) {\n      if (index > 0) {\n        const temp = this.regexScripts[index];\n        this.regexScripts.splice(index, 1);\n        this.regexScripts.splice(index - 1, 0, temp);\n        this.saveScriptsToStorage();\n      }\n    },\n\n    moveScriptDown(index) {\n      if (index < this.regexScripts.length - 1) {\n        const temp = this.regexScripts[index];\n        this.regexScripts.splice(index, 1);\n        this.regexScripts.splice(index + 1, 0, temp);\n        this.saveScriptsToStorage();\n      }\n    },\n\n    // \n    handleDragStart(index) {\n      this.dragIndex = index;\n    },\n\n    handleDragOver(e) {\n      e.preventDefault();\n    },\n\n    handleDrop(e, dropIndex) {\n      e.preventDefault();\n      if (this.dragIndex !== null && this.dragIndex !== dropIndex) {\n        const draggedScript = this.regexScripts[this.dragIndex];\n        this.regexScripts.splice(this.dragIndex, 1);\n        this.regexScripts.splice(dropIndex, 0, draggedScript);\n        this.saveScriptsToStorage();\n      }\n      this.dragIndex = null;\n    },\n\n    handleDragEnd() {\n      this.dragIndex = null;\n    },\n\n    generateUUID() {\n      return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        const r = Math.random() * 16 | 0;\n        const v = c === 'x' ? r : (r & 0x3 | 0x8);\n        return v.toString(16);\n      });\n    },\n\n    importScripts() {\n      const input = document.createElement('input');\n      input.type = 'file';\n      input.accept = '.json';\n      input.multiple = true; // <--- \n\n      input.onchange = async (e) => {\n        const files = Array.from(e.target.files);\n        if (!files.length) return;\n\n        let successCount = 0;\n        let scriptCount = 0;\n\n        //  Promise\n        const readFile = (file) => {\n          return new Promise((resolve) => {\n            const reader = new FileReader();\n            reader.onload = (event) => {\n              try {\n                const data = JSON.parse(event.target.result);\n                resolve(data);\n              } catch (err) {\n                console.error(` ${file.name} :`, err);\n                resolve(null);\n              }\n            };\n            reader.readAsText(file);\n          });\n        };\n\n        // \n        const results = await Promise.all(files.map(file => readFile(file)));\n\n        // \n        results.forEach(data => {\n          if (!data) return;\n          successCount++;\n\n          //   \n          const scripts = Array.isArray(data) ? data : [data];\n\n          scripts.forEach(script => {\n            // \n            if (script.findRegex) {\n              const newScript = {\n                id: script.id || this.generateUUID(),\n                scriptName: script.scriptName || '',\n                findRegex: script.findRegex,\n                replaceString: script.replaceString || '',\n                disabled: script.disabled || false\n              };\n\n              // \n              const existingIndex = this.regexScripts.findIndex(s => s.id === newScript.id);\n              if (existingIndex !== -1) {\n                //  ID \n                this.regexScripts.splice(existingIndex, 1, newScript);\n              } else {\n                // \n                this.regexScripts.push(newScript);\n              }\n              scriptCount++;\n            }\n          });\n        });\n\n        if (scriptCount > 0) {\n          this.saveScriptsToStorage();\n          alert(` ${successCount}  ${scriptCount} `);\n        } else {\n          alert('');\n        }\n      };\n\n      input.click();\n    },\n\n    exportScripts() {\n      const dataStr = JSON.stringify(this.regexScripts, null, 2);\n      const blob = new Blob([dataStr], { type: 'application/json' });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = 'regex_scripts.json';\n      a.click();\n      URL.revokeObjectURL(url);\n    },\n\n    //  PNG \n    importFromPNG() {\n      const input = document.createElement('input');\n      input.type = 'file';\n      input.accept = '.png';\n      input.onchange = async (e) => {\n        const file = e.target.files[0];\n        if (!file) return;\n\n        try {\n          const arrayBuffer = await file.arrayBuffer();\n          const charData = this.extractPNGChara(arrayBuffer);\n\n          if (!charData) {\n            alert(' PNG ');\n            return;\n          }\n\n          //  JSON\n          const cardData = JSON.parse(charData);\n\n          // \n          let regexScripts = null;\n\n          // \n          if (cardData.data?.extensions?.regex_scripts) {\n            regexScripts = cardData.data.extensions.regex_scripts;\n          } else if (cardData.extensions?.regex_scripts) {\n            regexScripts = cardData.extensions.regex_scripts;\n          } else if (cardData.regex_scripts) {\n            regexScripts = cardData.regex_scripts;\n          }\n\n          if (!regexScripts || !Array.isArray(regexScripts) || regexScripts.length === 0) {\n            alert('');\n            return;\n          }\n\n          // \n          let importCount = 0;\n          regexScripts.forEach(script => {\n            if (script.findRegex) {\n              const newScript = {\n                id: script.id || this.generateUUID(),\n                scriptName: script.scriptName || '',\n                findRegex: script.findRegex,\n                replaceString: script.replaceString || '',\n                disabled: script.disabled || false\n              };\n\n              //  id \n              const existingIndex = this.regexScripts.findIndex(\n                s => s.id === newScript.id || s.scriptName === newScript.scriptName\n              );\n\n              if (existingIndex !== -1) {\n                // \n                if (confirm(` \"${newScript.scriptName}\" `)) {\n                  this.regexScripts.splice(existingIndex, 1, newScript);\n                  importCount++;\n                }\n              } else {\n                this.regexScripts.push(newScript);\n                importCount++;\n              }\n            }\n          });\n\n          this.saveScriptsToStorage();\n          alert(` ${importCount} `);\n\n        } catch (err) {\n          console.error(':', err);\n          alert(': ' + err.message);\n        }\n      };\n      input.click();\n    },\n\n    //  PNG ArrayBuffer  chara \n    extractPNGChara(arrayBuffer) {\n      const bytes = new Uint8Array(arrayBuffer);\n\n      // PNG : 89 50 4E 47 0D 0A 1A 0A\n      const pngSignature = [0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A];\n      for (let i = 0; i < 8; i++) {\n        if (bytes[i] !== pngSignature[i]) {\n          throw new Error(' PNG ');\n        }\n      }\n\n      let offset = 8;\n\n      while (offset < bytes.length) {\n        //  chunk  (4 bytes, big-endian)\n        const length = (bytes[offset] << 24) | (bytes[offset + 1] << 16) |\n          (bytes[offset + 2] << 8) | bytes[offset + 3];\n        offset += 4;\n\n        //  chunk  (4 bytes)\n        const type = String.fromCharCode(bytes[offset], bytes[offset + 1],\n          bytes[offset + 2], bytes[offset + 3]);\n        offset += 4;\n\n        //  tEXt chunk\n        if (type === 'tEXt') {\n          // \n          const data = bytes.slice(offset, offset + length);\n\n          //  null \n          let nullIndex = -1;\n          for (let i = 0; i < data.length; i++) {\n            if (data[i] === 0) {\n              nullIndex = i;\n              break;\n            }\n          }\n\n          if (nullIndex !== -1) {\n            const keyword = new TextDecoder().decode(data.slice(0, nullIndex));\n\n            //  chara \n            if (keyword === 'chara') {\n              const base64Data = new TextDecoder().decode(data.slice(nullIndex + 1));\n              // Base64  UTF-8 \n              try {\n                return this.decodeBase64UTF8(base64Data);\n              } catch (e) {\n                console.error('Base64 :', e);\n              }\n            }\n          }\n        }\n\n        //  CRC\n        offset += length + 4;\n\n        //  IEND chunk\n        if (type === 'IEND') break;\n      }\n\n      return null;\n    },\n\n    // Base64  UTF-8 \n    decodeBase64UTF8(base64) {\n      //  Base64 \n      const binaryString = atob(base64);\n      //  Uint8Array\n      const bytes = new Uint8Array(binaryString.length);\n      for (let i = 0; i < binaryString.length; i++) {\n        bytes[i] = binaryString.charCodeAt(i);\n      }\n      //  TextDecoder  UTF-8\n      return new TextDecoder('utf-8').decode(bytes);\n    },\n\n    // \n    applyRegexScripts(text) {\n      if (!text) return text;\n\n      let result = text;\n\n      for (const script of this.regexScripts) {\n        if (script.disabled) continue;\n\n        try {\n          // \n          const regexMatch = script.findRegex.match(/^\\/(.*)\\/([gimsuy]*)$/);\n          let regex;\n\n          if (regexMatch) {\n            //  /pattern/flags\n            regex = new RegExp(regexMatch[1], regexMatch[2]);\n          } else {\n            //  pattern\n            regex = new RegExp(script.findRegex, 'g');\n          }\n\n          result = result.replace(regex, script.replaceString);\n        } catch (e) {\n          console.error(` \"${script.scriptName}\" :`, e);\n        }\n      }\n\n      return result;\n    },\n\n    // ==========  ==========\n\n    openExportRangeDialog() {\n      this.exportDialog = {\n        show: true,\n        startFloor: 1,\n        endFloor: this.filteredMessages.length,\n        includeName: true,\n        includeTime: true\n      };\n    },\n\n    closeExportDialog() {\n      this.exportDialog.show = false;\n    },\n\n    // \n    getExportCount() {\n      const start = Math.max(1, Math.min(this.exportDialog.startFloor, this.filteredMessages.length));\n      const end = Math.max(1, Math.min(this.exportDialog.endFloor, this.filteredMessages.length));\n      return Math.max(0, end - start + 1);\n    },\n\n    // \n    formatMessageForExport(message, floorNum) {\n      let content = this.getMessageContent(message);\n\n      // \n      content = this.applyTagFilters(content);\n      content = this.applyRegexScripts(content);\n\n      //  HTML \n      content = this.stripHtmlTags(content);\n\n      let result = '';\n\n      // \n      result += `==========  ${floorNum}  ==========\\n`;\n\n      if (this.exportDialog.includeName) {\n        result += `${message.name}`;\n      }\n\n      if (this.exportDialog.includeTime && message.send_date) {\n        if (this.exportDialog.includeName) {\n          result += ` `;\n        }\n        result += `[${message.send_date}]`;\n      }\n\n      if (this.exportDialog.includeName || this.exportDialog.includeTime) {\n        result += '\\n\\n';\n      }\n\n      result += content;\n\n      return result;\n    },\n\n    getExportPreview() {\n      const start = Math.max(1, Math.min(this.exportDialog.startFloor, this.filteredMessages.length));\n      const end = Math.max(1, Math.min(this.exportDialog.endFloor, this.filteredMessages.length));\n\n      if (start > end || start < 1) return '';\n\n      //  3 \n      const previewCount = Math.min(3, end - start + 1);\n      let result = '';\n\n      for (let i = 0; i < previewCount; i++) {\n        const floorNum = start + i;\n        const message = this.filteredMessages[floorNum - 1];\n        if (message) {\n          if (i > 0) result += '\\n\\n';\n          result += this.formatMessageForExport(message, floorNum);\n        }\n      }\n\n      if (end - start + 1 > 3) {\n        result += '\\n\\n...( ' + (end - start + 1 - 3) + ' )';\n      }\n\n      // \n      if (result.length > 800) {\n        result = result.substring(0, 800) + '\\n...()';\n      }\n\n      return result;\n    },\n\n    //  HTML \n    stripHtmlTags(html) {\n      if (!html) return '';\n\n      //  DOM  HTML\n      const temp = document.createElement('div');\n      temp.innerHTML = html;\n\n      // \n      let text = temp.textContent || temp.innerText || '';\n\n      // \n      text = text.replace(/\\n{3,}/g, '\\n\\n');\n\n      return text.trim();\n    },\n\n    doExportRange() {\n      const start = Math.max(1, Math.min(this.exportDialog.startFloor, this.filteredMessages.length));\n      const end = Math.max(1, Math.min(this.exportDialog.endFloor, this.filteredMessages.length));\n\n      if (start > end || start < 1) {\n        alert('');\n        return;\n      }\n\n      let result = '';\n\n      for (let i = start; i <= end; i++) {\n        const message = this.filteredMessages[i - 1];\n        if (message) {\n          if (i > start) result += '\\n\\n\\n';\n          result += this.formatMessageForExport(message, i);\n        }\n      }\n\n      // \n      const blob = new Blob([result], { type: 'text/plain;charset=utf-8' });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n\n      // \n      const timestamp = new Date().toISOString().slice(0, 10);\n      const charName = this.metadata.character_name || '';\n      a.download = `${charName}_${start}-${end}_${timestamp}.txt`;\n\n      a.click();\n      URL.revokeObjectURL(url);\n\n      this.closeExportDialog();\n    },\n\n    // ==========  ==========\n\n    toggleStylePanel() {\n      this.showStylePanel = !this.showStylePanel;\n    },\n\n    loadStylesFromStorage() {\n      try {\n        const saved = localStorage.getItem('st_reader_text_styles');\n        if (saved) {\n          const savedStyles = JSON.parse(saved);\n          // \n          this.textStyles = { ...this.textStyles, ...savedStyles };\n        }\n      } catch (e) {\n        console.error(':', e);\n      }\n    },\n\n    saveStylesToStorage() {\n      try {\n        localStorage.setItem('st_reader_text_styles', JSON.stringify(this.textStyles));\n      } catch (e) {\n        console.error(':', e);\n      }\n    },\n\n    // \n    handleStyleChange() {\n      this.saveStylesToStorage();\n      if (this.readingMode) {\n        // \n        this.handleResize();\n      }\n    },\n\n    resetStyles() {\n      const defaultColor = this.isDarkMode ? '#e0e0e0' : '#1a1a1a';\n\n      this.textStyles = {\n        fontFamily: 'system',\n        fontSize: 16,\n        lineHeight: 1.8,\n        paragraphSpacing: 1,\n        letterSpacing: 0,\n        textColor: defaultColor,      // \n        italicColor: defaultColor,    // \n        underlineColor: defaultColor, // \n        quoteColor: defaultColor,     // \n        textAlign: 'justify'\n      };\n      this.saveStylesToStorage();\n    },\n\n    setTextColor(color) {\n      this.textStyles.textColor = color;\n      this.saveStylesToStorage();\n    },\n\n    setTextAlign(align) {\n      this.textStyles.textAlign = align;\n      this.saveStylesToStorage();\n    },\n\n    // ==========  ==========\n\n    loadCustomFonts() {\n      try {\n        const saved = localStorage.getItem('st_reader_custom_fonts');\n        if (saved) {\n          this.customFonts = JSON.parse(saved);\n          // \n          this.customFonts.forEach(font => {\n            this.registerFontFace(font);\n          });\n        }\n      } catch (e) {\n        console.error(':', e);\n      }\n    },\n\n    saveCustomFonts() {\n      try {\n        localStorage.setItem('st_reader_custom_fonts', JSON.stringify(this.customFonts));\n      } catch (e) {\n        console.error(':', e);\n      }\n    },\n\n    registerFontFace(font) {\n      const style = document.createElement('style');\n      style.id = `custom-font-${font.id}`;\n      style.textContent = `\n        @font-face {\n          font-family: \"${font.name}\";\n          src: url(\"${font.url}\") format(\"${font.format}\");\n          font-weight: normal;\n          font-style: normal;\n          font-display: swap;\n        }\n      `;\n      document.head.appendChild(style);\n    },\n\n    unregisterFontFace(fontId) {\n      const style = document.getElementById(`custom-font-${fontId}`);\n      if (style) {\n        style.remove();\n      }\n    },\n\n    async addCustomFont() {\n      if (!this.customFontForm.name) {\n        alert('');\n        return;\n      }\n\n      let fontUrl = '';\n      let format = 'truetype';\n\n      if (this.customFontForm.file) {\n        //  - Base64 Data URL\n        try {\n          fontUrl = await this.fileToDataUrl(this.customFontForm.file);\n          format = this.getFontFormat(this.customFontForm.file.name);\n        } catch (e) {\n          alert(': ' + e.message);\n          return;\n        }\n      } else if (this.customFontForm.url) {\n        // URL\n        fontUrl = this.customFontForm.url;\n        format = this.getFontFormat(this.customFontForm.url);\n      } else {\n        alert('URL');\n        return;\n      }\n\n      const fontId = Date.now().toString();\n      const newFont = {\n        id: fontId,\n        name: this.customFontForm.name,\n        url: fontUrl,\n        format: format\n      };\n\n      // \n      this.registerFontFace(newFont);\n\n      // \n      this.customFonts.push(newFont);\n      this.saveCustomFonts();\n\n      // \n      this.resetCustomFontForm();\n      this.showCustomFontDialog = false;\n\n      // \n      this.textStyles.fontFamily = 'custom-' + fontId;\n      this.saveStylesToStorage();\n    },\n\n    deleteCustomFont(fontId) {\n      if (!confirm('')) return;\n\n      // \n      if (this.textStyles.fontFamily === 'custom-' + fontId) {\n        this.textStyles.fontFamily = 'system';\n        this.saveStylesToStorage();\n      }\n\n      // \n      this.unregisterFontFace(fontId);\n\n      // \n      this.customFonts = this.customFonts.filter(f => f.id !== fontId);\n      this.saveCustomFonts();\n    },\n\n    fileToDataUrl(file) {\n      return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = () => resolve(reader.result);\n        reader.onerror = reject;\n        reader.readAsDataURL(file);\n      });\n    },\n\n    getFontFormat(filename) {\n      const ext = filename.split('.').pop().toLowerCase();\n      const formatMap = {\n        'ttf': 'truetype',\n        'otf': 'opentype',\n        'woff': 'woff',\n        'woff2': 'woff2'\n      };\n      return formatMap[ext] || 'truetype';\n    },\n\n    handleFontFileSelect(event) {\n      const file = event.target.files[0];\n      if (file) {\n        this.customFontForm.file = file;\n        // \n        if (!this.customFontForm.name) {\n          this.customFontForm.name = file.name.replace(/\\.(ttf|otf|woff2?|TTF|OTF|WOFF2?)$/, '');\n        }\n      }\n    },\n\n    resetCustomFontForm() {\n      this.customFontForm = {\n        name: '',\n        url: '',\n        file: null\n      };\n      // \n      const fileInput = this.$refs.fontFileInput;\n      if (fileInput) {\n        fileInput.value = '';\n      }\n    },\n\n    getPreviewStyles() {\n      return {\n        ...this.getContentStyles(), // \n        color: 'var(--main-color)'  // \n      };\n    },\n\n    getContentStyles() {\n      return {\n        fontFamily: this.getFontFamily(),\n        fontSize: this.textStyles.fontSize + 'px',\n        lineHeight: this.textStyles.lineHeight,\n        textAlign: this.textStyles.textAlign,\n        letterSpacing: this.textStyles.letterSpacing + 'px',\n        '--main-color': this.textStyles.textColor,\n        '--italic-color': this.textStyles.italicColor || this.textStyles.textColor,\n        '--underline-color': this.textStyles.underlineColor || this.textStyles.textColor,\n        '--quote-color': this.textStyles.quoteColor || '#666666',\n        '--paragraph-spacing': this.textStyles.paragraphSpacing + 'em',\n        '--content-font': this.getFontFamily()\n      };\n    },\n\n    getFontFamily() {\n      const fontMap = {\n        'system': '-apple-system, BlinkMacSystemFont, \"Segoe UI\", \"PingFang SC\", \"Hiragino Sans GB\", \"Microsoft YaHei\", sans-serif',\n        'serif': '\"Noto Serif SC\", \"Source Han Serif SC\", \"SimSun\", \"\", serif',\n        'sans-serif': '\"Noto Sans SC\", \"Source Han Sans SC\", \"Microsoft YaHei\", \"\", sans-serif',\n        'kaiti': '\"KaiTi\", \"\", \"STKaiti\", \"\", serif',\n        'fangsong': '\"FangSong\", \"\", \"STFangsong\", \"\", serif',\n        'monospace': '\"Consolas\", \"Monaco\", \"Source Code Pro\", monospace',\n        // \n        'alegreya': '\"Alegreya\", serif',\n        'cangeryunhei': '\"\", sans-serif',\n        'huiwenmingchao': '\"\", serif',\n        'kongmingchao': '\"\", serif',\n        'pingxianzhensong': '\"\", serif',\n        'wenyueminguofangsong': '\"\", serif'\n      };\n\n      // \n      if (this.textStyles.fontFamily.startsWith('custom-')) {\n        const fontId = this.textStyles.fontFamily.replace('custom-', '');\n        const customFont = this.customFonts.find(f => f.id === fontId);\n        if (customFont) {\n          return `\"${customFont.name}\", sans-serif`;\n        }\n      }\n\n      return fontMap[this.textStyles.fontFamily] || fontMap['system'];\n    },\n\n    // ========== CSS Columns ==========\n\n    toggleReadingMode() {\n      this.readingMode = !this.readingMode;\n\n      if (this.readingMode) {\n        // \n        this.toolbarVisible = false;\n        this.showSearchBar = false;\n        this.showRegexManager = false;\n        this.showTagFilterManager = false;\n        this.showFavoritesPanel = false;\n        this.showStylePanel = false;\n        this.selectionMenu.show = false;\n\n        // \n        this.readingCurrentPage = 1;\n\n        // \n        document.body.style.overflow = 'hidden';\n\n        // \n        this.generateReadingContent();\n\n        // \n        window.addEventListener('resize', this.handleResize);\n\n      } else {\n        // \n        document.body.style.overflow = '';\n        this.toolbarVisible = false;\n        window.removeEventListener('resize', this.handleResize);\n      }\n    },\n\n    generateReadingContent() {\n      let fullContent = '';\n\n      // 1 ( 10 )\n      //  DOM  90%\n      const messagesToRender = this.paginatedMessages;\n\n      //  ( data-floor)\n      const startFloorIndex = (this.currentPage - 1) * this.pageSize;\n\n      for (let i = 0; i < messagesToRender.length; i++) {\n        const message = messagesToRender[i];\n\n        //  i messageIndex \n        //  renderContent \n        const globalIndex = startFloorIndex + i;\n\n        let content = this.getMessageContent(message);\n        content = this.renderContent(content, globalIndex);\n\n        if (i > 0) {\n          fullContent += '<div class=\"reading-separator\"></div>';\n        }\n\n        // data-floor \n        fullContent += `<div class=\"reading-message\" data-floor=\"${globalIndex}\">`;\n\n        if (message.name) {\n          fullContent += `<p class=\"reading-speaker-name\">${message.name}</p>`;\n        }\n\n        fullContent += content;\n        fullContent += '</div>';\n      }\n\n      // \n      //  1\n      // \n      if (!this.keepReadingPagePosition) {\n        this.readingCurrentPage = 1;\n      }\n      this.keepReadingPagePosition = false; // \n\n      this.readingFullHtml = fullContent;\n\n      this.$nextTick(() => {\n        const contentEl = this.$refs.readingContentEl;\n        if (contentEl) {\n          contentEl.style.width = '';\n        }\n        this.updateColumnWidth();\n        this.$nextTick(() => {\n          setTimeout(() => {\n            this.calculateTotalPages();\n          }, 50);\n        });\n      });\n    },\n\n    updateColumnWidth() {\n      const contentEl = this.$refs.readingContentEl;\n      if (contentEl) {\n        contentEl.style.columnWidth = `${window.innerWidth}px`;\n      }\n    },\n\n    // SillyTavern\n    parseSTDate(dateInput) {\n      if (!dateInput) return null;\n\n      // 1. \n      if (typeof dateInput === 'number') return new Date(dateInput);\n\n      let dateStr = String(dateInput).trim();\n\n      // 2.  \"2025-12-29@01h50m41s\"\n      //  \"2025-12-29T01:50:41\" ( ISO )\n      if (dateStr.includes('@')) {\n        try {\n          //  @  T h, m  : s\n          const isoStr = dateStr\n            .replace('@', 'T')\n            .replace('h', ':')\n            .replace('m', ':')\n            .replace('s', '');\n          const d = new Date(isoStr);\n          if (!isNaN(d.getTime())) return d;\n        } catch (e) {\n          console.warn(' @ :', dateStr);\n        }\n      }\n\n      // 3.  \"December 29, 2025 1:50am\"\n      //  Safari am/pm \n      // \n      let d = new Date(dateStr);\n      if (!isNaN(d.getTime())) return d;\n\n      // 4.  am/pm  \"1:50am\" -> \"1:50 am\"\n      if (/am|pm/i.test(dateStr) && !/\\s(am|pm)/i.test(dateStr)) {\n        const fixedStr = dateStr.replace(/(\\d)(am|pm)/i, '$1 $2');\n        d = new Date(fixedStr);\n        if (!isNaN(d.getTime())) return d;\n      }\n\n      // 5.  null\n      return null;\n    },\n\n    calculateTotalPages() {\n      const contentEl = this.$refs.readingContentEl;\n      if (!contentEl) return;\n\n      //  window.innerWidth \n      const pageWidth = window.innerWidth;\n\n      // scrollWidth \n      const contentWidth = contentEl.scrollWidth;\n\n      //  scrollWidth translateX \n      if (contentWidth > contentEl.offsetWidth) {\n        contentEl.style.width = `${contentWidth}px`;\n      }\n\n      // \n      this.windowWidth = pageWidth;\n\n      // \n      this.readingTotalPages = Math.max(1, Math.ceil(contentWidth / pageWidth));\n\n      // \n      if (this.readingCurrentPage > this.readingTotalPages) {\n        this.readingCurrentPage = this.readingTotalPages;\n      }\n    },\n\n    handleResize() {\n      // \n      if (this.resizeTimer) clearTimeout(this.resizeTimer);\n      this.resizeTimer = setTimeout(() => {\n        const contentEl = this.$refs.readingContentEl;\n        if (contentEl) {\n          //  auto CSS columns \n          contentEl.style.width = '';\n        }\n        this.updateColumnWidth();\n        this.$nextTick(() => {\n          setTimeout(() => {\n            this.calculateTotalPages();\n          }, 50);\n        });\n      }, 100);\n    },\n\n    getReadingTransform() {\n      //  translateX \n      const offset = (this.readingCurrentPage - 1) * this.windowWidth;\n\n      return {\n        transform: `translateX(-${offset}px)`,\n        // \n        ...this.getContentStyles()\n      };\n    },\n\n    getReadingFloorRange() {\n      // / ()\n      //  3 / 5  (11-20)\n      const start = (this.currentPage - 1) * this.pageSize + 1;\n      const end = Math.min(this.currentPage * this.pageSize, this.filteredMessages.length);\n\n      return `${start}-${end} `;\n    },\n\n    readingPrevPage() {\n      // 1\n      if (this.readingCurrentPage > 1) {\n        this.readingCurrentPage--;\n      }\n      // 2\n      else if (this.currentPage > 1) {\n        // \n        this.currentPage--;\n\n        // \n        // \n        //  generateReadingContent \n        this.keepReadingPagePosition = true;\n\n        // \n        this.generateReadingContent();\n\n        // \n        this.$nextTick(() => {\n          //  generateReadingContent  nextTick  setTimeout\n          setTimeout(() => {\n            this.readingCurrentPage = this.readingTotalPages;\n          }, 100); //  generateReadingContent \n        });\n      }\n    },\n\n    readingNextPage() {\n      // 1\n      if (this.readingCurrentPage < this.readingTotalPages) {\n        this.readingCurrentPage++;\n      }\n      // 2\n      else if (this.currentPage < this.totalPages) {\n        // \n        this.currentPage++;\n        // \n        this.generateReadingContent();\n      }\n      // 3\n      else {\n        // \n      }\n    },\n\n    // \n    handleReadingClick(e) {\n      const selection = window.getSelection();\n      if (selection.toString().length > 0) {\n        return;\n      }\n\n      // 2. \n      const { clientX } = e;\n      const { innerWidth } = window;\n\n      const leftZone = innerWidth * 0.25;\n      const rightZone = innerWidth * 0.75;\n\n      if (clientX < leftZone) {\n        // ---  ---\n        this.readingPrevPage();\n      } else if (clientX > rightZone) {\n        // ---  ---\n        this.readingNextPage();\n      } else {\n        // --- / ---\n        this.showReadingMenu = !this.showReadingMenu;\n      }\n    },\n\n    onReadingTouchStart(e) {\n      this.readingTouchStartX = e.touches[0].clientX;\n      this.readingTouchStartY = e.touches[0].clientY;\n    },\n\n    onReadingTouchEnd(e) {\n      const touchEndX = e.changedTouches[0].clientX;\n      const touchEndY = e.changedTouches[0].clientY;\n      const deltaX = touchEndX - this.readingTouchStartX;\n      const deltaY = touchEndY - this.readingTouchStartY;\n\n      // \n      if (Math.abs(deltaX) > Math.abs(deltaY) && Math.abs(deltaX) > 50) {\n        if (deltaX > 0) {\n          this.readingPrevPage();\n        } else {\n          this.readingNextPage();\n        }\n      }\n    },\n\n    // \n    onReadingMouseUp(event) {\n      const selection = window.getSelection();\n      const selectedText = selection.toString().trim();\n\n      if (selectedText.length > 0) {\n        // \n        let messageIndex = null;\n        const range = selection.getRangeAt(0);\n        const container = range.commonAncestorContainer;\n\n        //  data-floor  .reading-message \n        let el = container.nodeType === 3 ? container.parentElement : container;\n        while (el && el !== document.body) {\n          if (el.classList && el.classList.contains('reading-message') && el.hasAttribute('data-floor')) {\n            messageIndex = parseInt(el.getAttribute('data-floor'));\n            break;\n          }\n          el = el.parentElement;\n        }\n\n        // \n        this.selectionMenu = {\n          show: true,\n          x: event.clientX,\n          y: event.clientY - 40,\n          text: selectedText,\n          messageIndex: messageIndex,\n          speaker: messageIndex !== null && this.filteredMessages[messageIndex]\n            ? this.filteredMessages[messageIndex].name\n            : ''\n        };\n      }\n    },\n\n    toggleToolbar() {\n      this.toolbarVisible = !this.toolbarVisible;\n\n      if (this.toolbarVisible) {\n        if (this.toolbarTimeout) clearTimeout(this.toolbarTimeout);\n        this.toolbarTimeout = setTimeout(() => {\n          this.toolbarVisible = false;\n        }, 3000);\n      }\n    },\n\n    handleKeydown(e) {\n      //  ESC \n      if (this.readingMode && e.key === 'Escape') {\n        this.toggleReadingMode();\n      }\n\n      if (this.readingMode) {\n        if (e.key === 'ArrowLeft') {\n          this.readingPrevPage();\n        } else if (e.key === 'ArrowRight') {\n          this.readingNextPage();\n        }\n      }\n    },\n\n    openIntimacyModal() {\n      this.calculateIntimacyStats();\n      this.showIntimacyModal = true;\n    },\n\n    calculateIntimacyStats() {\n      if (!this.messages.length) return;\n      const validMessages = this.messages.filter(m => m.send_date);\n      if (!validMessages.length) return;\n\n      // 1. \n      const sortedMsgs = [...validMessages].sort((a, b) => {\n        const tA = this.parseSTDate(a.send_date)?.getTime() || 0;\n        const tB = this.parseSTDate(b.send_date)?.getTime() || 0;\n        return tA - tB;\n      });\n\n      let totalChars = 0;\n      let totalRerolls = 0;\n\n      // 2. \n      const dayMap = new Map(); // Key: dateStr, Value: { count, chars }\n\n      sortedMsgs.forEach(msg => {\n        const content = this.getMessageContent(msg);\n        const msgLen = content ? content.length : 0;\n\n        if (content) totalChars += msgLen;\n        if (msg.swipes && msg.swipes.length > 1) totalRerolls += (msg.swipes.length - 1);\n\n        const date = this.parseSTDate(msg.send_date);\n        if (date) {\n          const y = date.getFullYear();\n          const m = String(date.getMonth() + 1).padStart(2, '0');\n          const d = String(date.getDate()).padStart(2, '0');\n          const dateStr = `${y}-${m}-${d}`;\n\n          if (!dayMap.has(dateStr)) {\n            dayMap.set(dateStr, { count: 0, chars: 0 });\n          }\n          const dayData = dayMap.get(dateStr);\n          dayData.count += 1;\n          dayData.chars += msgLen;\n        }\n      });\n\n      // 3. \n      const firstDateObj = this.parseSTDate(sortedMsgs[0].send_date);\n      const lastDateObj = this.parseSTDate(sortedMsgs[sortedMsgs.length - 1].send_date) || new Date();\n\n      if (firstDateObj) {\n        this.intimacyData.firstDate = firstDateObj.toLocaleDateString();\n        const now = new Date();\n        this.intimacyData.daysSince = Math.floor((now - firstDateObj) / (24 * 3600 * 1000));\n\n        const monthsData = [];\n        let currentYear = firstDateObj.getFullYear();\n        let currentMonth = firstDateObj.getMonth();\n\n        const endYear = lastDateObj.getFullYear();\n        const endMonth = lastDateObj.getMonth();\n\n        // ---  () ---\n        while (currentYear < endYear || (currentYear === endYear && currentMonth <= endMonth)) {\n          const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();\n          const firstDayObj = new Date(currentYear, currentMonth, 1);\n          const paddingStart = firstDayObj.getDay(); // 0-6\n\n          const days = [];\n\n          // \n          let monthTotalCount = 0;\n          let monthTotalChars = 0;\n\n          for (let d = 1; d <= daysInMonth; d++) {\n            const mStr = String(currentMonth + 1).padStart(2, '0');\n            const dStr = String(d).padStart(2, '0');\n            const dateStr = `${currentYear}-${mStr}-${dStr}`;\n\n            const data = dayMap.get(dateStr) || { count: 0, chars: 0 };\n            const count = data.count;\n            const chars = data.chars;\n\n            // \n            monthTotalCount += count;\n            monthTotalChars += chars;\n\n            let level = 0;\n            if (count > 0) level = 1;\n            if (count > 20) level = 2;\n            if (count > 50) level = 3;\n            if (count > 100) level = 4;\n\n            days.push({\n              dayNum: d,\n              dateStr: dateStr,\n              count: count,\n              chars: chars,\n              level: level\n            });\n          }\n\n          // \n          monthsData.push({\n            year: currentYear,\n            month: currentMonth + 1,\n            paddingStart: paddingStart, //  paddingStart\n            days: days,\n            totalCount: monthTotalCount,\n            totalChars: monthTotalChars\n          });\n\n          // \n          currentMonth++;\n          if (currentMonth > 11) {\n            currentMonth = 0;\n            currentYear++;\n          }\n        }\n        // ---  ---\n\n        this.intimacyData.calendarMonths = monthsData.reverse();\n        this.currentMonthIndex = 0;\n      } else {\n        this.intimacyData.calendarMonths = [];\n      }\n\n      this.intimacyData.activeDays = dayMap.size;\n      this.intimacyData.totalMessages = this.messages.length;\n      this.intimacyData.totalChars = totalChars;\n      this.intimacyData.totalRerolls = totalRerolls;\n    },\n\n    showDayTooltip(e, day) {\n      if (day.count === 0) return; // \n      this.tooltip.show = true;\n      this.tooltip.dateStr = day.dateStr;\n      this.tooltip.count = day.count;\n      this.tooltip.chars = day.chars;\n      this.updateTooltipPos(e);\n    },\n\n    //  ()\n    moveDayTooltip(e) {\n      if (!this.tooltip.show) return;\n      this.updateTooltipPos(e);\n    },\n\n    // \n    hideDayTooltip() {\n      this.tooltip.show = false;\n    },\n\n    //  ()\n    updateTooltipPos(e) {\n      const offset = 15; // \n      this.tooltip.x = e.clientX + offset;\n      this.tooltip.y = e.clientY + offset;\n    },\n    // ===  ===\n    prevMonth() {\n      // \n      if (this.currentMonthIndex < this.intimacyData.calendarMonths.length - 1) {\n        this.currentMonthIndex++;\n      }\n    },\n\n    nextMonth() {\n      if (this.currentMonthIndex > 0) {\n        this.currentMonthIndex--;\n      }\n    },\n  }\n}\n\n</script>\n\n<style scoped>\n.st-reader {\n  min-height: 100vh;\n  background-color: #fafafa;\n  background-image: url('https://sazankaze.neocities.org/bg_pic/whitish-grain-wall-template.jpg');\n  background-repeat: repeat;\n  background-attachment: fixed;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\n}\n\n/*  */\n.upload-area {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-height: 100vh;\n  padding: 2rem;\n}\n\n.upload-container {\n  width: 100%;\n  max-width: 400px;\n}\n\n.file-input {\n  display: none;\n}\n\n.upload-label {\n  display: block;\n  padding: 4rem 2rem;\n  background: rgba(255, 255, 255, 0.9);\n  border: 2px solid #000;\n  cursor: pointer;\n  transition: all 0.2s;\n  text-align: center;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);\n}\n\n.upload-label:hover {\n  background: #000;\n  color: #fff;\n}\n\n.upload-text {\n  font-size: 1.25rem;\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n}\n\n.upload-hint {\n  font-size: 0.875rem;\n  opacity: 0.6;\n}\n\n.upload-label:hover .upload-hint {\n  opacity: 1;\n}\n\n/*  */\n.chat-container {\n  max-width: 800px;\n  margin: 0 auto;\n  background: rgba(255, 255, 255, 0.85);\n  min-height: 100vh;\n  box-shadow: 0 0 40px rgba(0, 0, 0, 0.08);\n}\n\n/*  */\n.chat-header {\n  padding: 3rem 3rem 2rem;\n  border-bottom: 2px solid #000;\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n}\n\n.header-content {\n  flex: 1;\n}\n\n.chat-title {\n  font-size: 2rem;\n  font-weight: 700;\n  margin: 0 0 0.75rem 0;\n  letter-spacing: -0.02em;\n  text-align: left;\n}\n\n.chat-meta {\n  display: flex;\n  gap: 1.5rem;\n  font-size: 0.875rem;\n  color: #666;\n}\n\n.message-count {\n  font-weight: 600;\n}\n\n.header-actions {\n  display: flex;\n  gap: 0.5rem;\n  flex-wrap: wrap;\n  justify-content: flex-end;\n  max-width: 420px;\n}\n\n.action-button,\n.reset-button {\n  padding: 0.25rem 0.5rem;\n  background: #fff;\n  border: 1px solid #000;\n  cursor: pointer;\n  font-size: 0.75rem;\n  font-weight: 500;\n  transition: all 0.2s;\n}\n\n.action-button:hover,\n.reset-button:hover {\n  background: #000;\n  color: #fff;\n}\n\n.regex-button {\n  background: #f5f5f5;\n}\n\n.search-toggle.active {\n  background: #000;\n  color: #fff;\n}\n\n/*  */\n.search-bar {\n  padding: 1rem 3rem;\n  background: #f9f9f9;\n  border-bottom: 1px solid #e0e0e0;\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n}\n\n.search-input-wrapper {\n  flex: 1;\n  position: relative;\n  max-width: 500px;\n}\n\n.search-input {\n  width: 100%;\n  padding: 0.625rem 2.5rem 0.625rem 1rem;\n  font-size: 0.9375rem;\n  border: 1px solid #ddd;\n  background: #fff;\n  transition: border-color 0.2s;\n}\n\n.search-input:focus {\n  outline: none;\n  border-color: #000;\n}\n\n.search-input::placeholder {\n  color: #999;\n}\n\n.search-clear {\n  position: absolute;\n  right: 0.5rem;\n  top: 50%;\n  transform: translateY(-50%);\n  width: 24px;\n  height: 24px;\n  padding: 0;\n  border: none;\n  background: transparent;\n  color: #999;\n  cursor: pointer;\n  font-size: 0.75rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.search-clear:hover {\n  color: #000;\n}\n\n.search-info {\n  font-size: 0.875rem;\n  color: #666;\n  white-space: nowrap;\n}\n\n.filter-hint {\n  color: #999;\n  font-size: 0.75rem;\n}\n\n/*  */\n:deep(.search-highlight) {\n  background: #ffeb3b;\n  color: #000;\n  padding: 0 0.125rem;\n}\n\n/*  */\n.regex-manager {\n  border-bottom: 2px solid #000;\n  background: #fafafa;\n  padding: 1.5rem 3rem;\n}\n\n.regex-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n}\n\n.regex-header h2 {\n  font-size: 1.25rem;\n  font-weight: 700;\n  margin: 0;\n}\n\n.regex-actions {\n  display: flex;\n  gap: 0.5rem;\n}\n\n.btn {\n  padding: 0.25rem 0.5rem;\n  font-size: 0.75rem;\n  font-weight: 500;\n  cursor: pointer;\n  border: 1px solid #000;\n  transition: all 0.2s;\n}\n\n.btn-primary {\n  background: #000;\n  color: #fff;\n}\n\n.btn-primary:hover {\n  background: #333;\n}\n\n.btn-secondary {\n  background: #fff;\n  color: #000;\n}\n\n.btn-secondary:hover {\n  background: #f0f0f0;\n}\n\n.btn:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n/*  */\n.script-form {\n  background: #fff;\n  border: 1px solid #ddd;\n  padding: 1.5rem;\n  margin-bottom: 1rem;\n}\n\n.form-group {\n  margin-bottom: 1rem;\n}\n\n.form-group:last-of-type {\n  margin-bottom: 0;\n}\n\n.form-group label {\n  display: block;\n  font-size: 0.875rem;\n  font-weight: 600;\n  margin-bottom: 0.375rem;\n}\n\n.form-group input[type=\"text\"],\n.form-group textarea {\n  width: 100%;\n  padding: 0.5rem;\n  font-size: 0.875rem;\n  border: 1px solid #ccc;\n  font-family: 'Consolas', 'Monaco', monospace;\n}\n\n.form-group textarea {\n  resize: vertical;\n}\n\n.form-select {\n  width: 100%;\n  padding: 0.5rem;\n  font-size: 0.875rem;\n  border: 1px solid #ccc;\n  background: #fff;\n  cursor: pointer;\n}\n\n.form-hint {\n  font-size: 0.75rem;\n  color: #666;\n  margin-top: 0.25rem;\n}\n\n.checkbox-group label {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  cursor: pointer;\n  font-weight: normal;\n}\n\n.checkbox-group input[type=\"checkbox\"] {\n  width: auto;\n}\n\n.form-buttons {\n  display: flex;\n  justify-content: flex-end;\n  gap: 0.5rem;\n  margin-top: 1rem;\n  padding-top: 1rem;\n  border-top: 1px solid #eee;\n}\n\n/*  */\n.script-list {\n  max-height: 400px;\n  overflow-y: auto;\n}\n\n.no-scripts {\n  padding: 2rem;\n  text-align: center;\n  color: #666;\n  font-size: 0.875rem;\n}\n\n.script-item {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  padding: 0.75rem;\n  background: #fff;\n  border: 1px solid #ddd;\n  margin-bottom: 0.5rem;\n  cursor: grab;\n  transition: all 0.2s;\n}\n\n.script-item:hover {\n  border-color: #000;\n}\n\n.script-item.disabled {\n  opacity: 0.5;\n  background: #f5f5f5;\n}\n\n.script-item.dragging {\n  opacity: 0.5;\n  border-style: dashed;\n}\n\n.script-drag-handle {\n  color: #999;\n  font-size: 1rem;\n  cursor: grab;\n  user-select: none;\n}\n\n.script-info {\n  flex: 1;\n  min-width: 0;\n}\n\n.script-name {\n  font-weight: 600;\n  font-size: 0.875rem;\n  margin-bottom: 0.25rem;\n}\n\n.script-regex {\n  font-size: 0.75rem;\n  font-family: 'Consolas', 'Monaco', monospace;\n  color: #666;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.script-controls {\n  display: flex;\n  align-items: center;\n  gap: 0.375rem;\n}\n\n.btn-icon {\n  width: 22px;\n  height: 22px;\n  padding: 0;\n  border: 1px solid #ddd;\n  background: #fff;\n  cursor: pointer;\n  font-size: 0.7rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s;\n}\n\n.btn-icon:hover:not(:disabled) {\n  border-color: #000;\n  background: #f0f0f0;\n}\n\n.btn-icon:disabled {\n  opacity: 0.3;\n  cursor: not-allowed;\n}\n\n.btn-icon.btn-danger:hover:not(:disabled) {\n  background: #ff4444;\n  color: #fff;\n  border-color: #ff4444;\n}\n\n.btn-toggle {\n  padding: 0.125rem 0.375rem;\n  font-size: 0.65rem;\n  font-weight: 500;\n  border: 1px solid #ddd;\n  background: #f5f5f5;\n  color: #666;\n  cursor: pointer;\n  transition: all 0.2s;\n  min-width: 50px;\n}\n\n.btn-toggle.active {\n  background: #000;\n  color: #fff;\n  border-color: #000;\n}\n\n/*  */\n.pagination-bar {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem 3rem;\n  background: rgba(255, 255, 255, 0.95);\n  border-top: 2px solid #000;\n  position: fixed;\n  bottom: 0;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 100%;\n  max-width: 800px;\n  z-index: 100;\n  box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1);\n}\n\n.pagination-info {\n  font-size: 0.875rem;\n  color: #666;\n}\n\n.pagination-controls {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.page-btn {\n  width: 24px;\n  height: 24px;\n  padding: 0;\n  border: 1px solid #ddd;\n  background: #fff;\n  cursor: pointer;\n  font-size: 0.75rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s;\n}\n\n.page-btn:hover:not(:disabled) {\n  border-color: #000;\n  background: #f0f0f0;\n}\n\n.page-btn:disabled {\n  opacity: 0.3;\n  cursor: not-allowed;\n}\n\n.page-indicator {\n  font-size: 0.875rem;\n  font-weight: 600;\n  padding: 0 0.75rem;\n  min-width: 80px;\n  text-align: center;\n}\n\n.page-size-select {\n  padding: 0.375rem 0.5rem;\n  border: 1px solid #ddd;\n  background: #fff;\n  font-size: 0.875rem;\n  cursor: pointer;\n  margin-left: 0.5rem;\n}\n\n.page-size-select:hover {\n  border-color: #000;\n}\n\n/*  */\n.messages-wrapper {\n  padding: 0;\n  padding-bottom: 80px;\n  /*  */\n}\n\n.message-block {\n  padding: 2.5rem 3rem;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n  background: transparent;\n}\n\n.message-block:last-child {\n  border-bottom: none;\n}\n\n/*  -  */\n.user-message {\n  background: rgba(0, 0, 0, 0.06) !important;\n  border-left: 6px solid #000 !important;\n}\n\n.user-message .speaker-name {\n  font-weight: 800;\n  color: #000;\n}\n\n/* AI/ -  */\n.message-block:not(.user-message) {\n  background: transparent;\n}\n\n.message-block:not(.user-message) .speaker-name {\n  color: #333;\n}\n\n/*  */\n.message-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: baseline;\n  margin-bottom: 1rem;\n}\n\n.speaker-name {\n  font-size: 0.875rem;\n  font-weight: 700;\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n}\n\n.message-info {\n  display: flex;\n  gap: 1rem;\n  align-items: center;\n}\n\n.timestamp {\n  font-size: 0.75rem;\n  color: #999;\n  font-variant-numeric: tabular-nums;\n}\n\n.model-tag {\n  font-size: 0.75rem;\n  padding: 0.125rem 0.5rem;\n  background: #000;\n  color: #fff;\n  font-weight: 500;\n}\n\n/*  */\n.message-content {\n  font-size: 1rem;\n  line-height: 1.8;\n  color: #1a1a1a;\n  text-align: justify;\n}\n\n/*  */\n.message-content :deep(p),\n.message-content :deep(span),\n.message-content :deep(strong),\n.message-content :deep(em),\n.message-content :deep(blockquote),\n.message-content :deep(li),\n.message-content :deep(h1),\n.message-content :deep(h2),\n.message-content :deep(h3),\n.message-content :deep(h4),\n.message-content :deep(h5),\n.message-content :deep(h6),\n.message-content :deep(a),\n.message-content :deep(td),\n.message-content :deep(th) {\n  font-family: var(--content-font);\n}\n\n/*  */\n.message-content :deep(code),\n.message-content :deep(pre),\n.message-content :deep(pre code) {\n  font-family: 'Consolas', 'Monaco', monospace !important;\n}\n\n/*  .message-content  */\n.message-content {\n  font-size: 1rem;\n  line-height: 1.8;\n  /*  #1a1a1a */\n  color: var(--main-color, #1a1a1a);\n  text-align: justify;\n}\n\n/* ===  === */\n\n/*  */\n.message-content :deep(em),\n.message-content :deep(i) {\n  font-style: italic;\n  color: var(--italic-color, inherit);\n  /*  */\n}\n\n/*  (Markdown <u> ) */\n.message-content :deep(u) {\n  text-decoration: underline;\n  color: var(--underline-color, inherit);\n  /*  */\n}\n\n/*  */\n.message-content :deep(blockquote) {\n  border-left: 3px solid var(--quote-color, #666);\n  /*  */\n  padding-left: 1rem;\n  margin: 1rem 0;\n  color: var(--quote-color, #666);\n  /*  */\n}\n\n/*  */\n.reading-content :deep(em),\n.reading-content :deep(i) {\n  color: var(--italic-color, inherit);\n}\n\n.reading-content :deep(u) {\n  color: var(--underline-color, inherit);\n}\n\n.reading-content :deep(blockquote) {\n  color: var(--quote-color, #666);\n  border-left-color: var(--quote-color, #666);\n}\n\n/* HTML  */\n.message-content-html {\n  font-size: 1rem;\n  line-height: 1.8;\n  color: #1a1a1a;\n}\n\n.html-preview-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n  padding-bottom: 0.5rem;\n  border-bottom: 1px solid #e0e0e0;\n}\n\n.html-tag {\n  font-size: 0.75rem;\n  padding: 0.125rem 0.5rem;\n  background: #000;\n  color: #fff;\n  font-weight: 500;\n}\n\n.preview-toggle {\n  padding: 0.25rem 0.75rem;\n  background: #fff;\n  border: 1px solid #000;\n  cursor: pointer;\n  font-size: 0.75rem;\n  font-weight: 500;\n  transition: all 0.2s;\n}\n\n.preview-toggle:hover {\n  background: #000;\n  color: #fff;\n}\n\n.message-content-mixed {\n  font-size: 1rem;\n  line-height: 1.8;\n  color: #1a1a1a;\n}\n\n/*  */\n.message-content-mixed :deep(p),\n.message-content-mixed :deep(span),\n.message-content-mixed :deep(strong),\n.message-content-mixed :deep(em),\n.message-content-mixed :deep(blockquote),\n.message-content-mixed :deep(li),\n.message-content-mixed :deep(h1),\n.message-content-mixed :deep(h2),\n.message-content-mixed :deep(h3),\n.message-content-mixed :deep(h4),\n.message-content-mixed :deep(a),\n.message-content-mixed :deep(td),\n.message-content-mixed :deep(th) {\n  font-family: var(--content-font);\n}\n\n.message-content-mixed :deep(code),\n.message-content-mixed :deep(pre),\n.message-content-mixed :deep(pre code) {\n  font-family: 'Consolas', 'Monaco', monospace !important;\n}\n\n.html-preview-section {\n  margin-bottom: 1.5rem;\n}\n\n.html-iframe {\n  width: 100%;\n  min-height: 400px;\n  border: 1px solid #e0e0e0;\n  background: #fff;\n}\n\n.html-code {\n  font-family: 'Consolas', 'Monaco', monospace;\n  font-size: 0.875rem;\n  background: #f5f5f5;\n  padding: 1rem;\n  overflow-x: auto;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n  border: 1px solid #e0e0e0;\n  margin: 0;\n  line-height: 1.5;\n  color: #333;\n}\n\n.message-content :deep(p) {\n  margin: 0 0 var(--paragraph-spacing, 1em) 0;\n}\n\n.message-content :deep(p:last-child) {\n  margin-bottom: 0;\n}\n\n.message-content :deep(strong) {\n  font-weight: 700;\n}\n\n.message-content :deep(em) {\n  font-style: italic;\n}\n\n.message-content :deep(code) {\n  font-family: 'Consolas', 'Monaco', monospace;\n  background: #f0f0f0;\n  padding: 0.125rem 0.375rem;\n  font-size: 0.9em;\n}\n\n.message-content :deep(pre) {\n  background: #f0f0f0;\n  padding: 1rem;\n  overflow-x: auto;\n  margin: 1rem 0;\n}\n\n.message-content :deep(pre code) {\n  background: none;\n  padding: 0;\n}\n\n.message-content :deep(blockquote) {\n  border-left: 3px solid #000;\n  padding-left: 1rem;\n  margin: 1rem 0;\n  color: #666;\n}\n\n.message-content :deep(a) {\n  color: #000;\n  text-decoration: underline;\n}\n\n.message-content :deep(img) {\n  max-width: 100%;\n  height: auto;\n  display: block;\n  margin: 1rem 0;\n}\n\n.message-content :deep(h1),\n.message-content :deep(h2),\n.message-content :deep(h3),\n.message-content :deep(h4) {\n  font-weight: 700;\n  margin: 1.5rem 0 0.75rem 0;\n  line-height: 1.3;\n}\n\n.message-content :deep(ul),\n.message-content :deep(ol) {\n  margin: 1rem 0;\n  padding-left: 1.5rem;\n}\n\n.message-content :deep(li) {\n  margin: 0.25rem 0;\n}\n\n/* Swipe  */\n.swipe-controls {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 1rem;\n  margin-top: 1.5rem;\n  padding-top: 1rem;\n  border-top: 1px dashed #ddd;\n}\n\n.swipe-btn {\n  width: 26px;\n  height: 26px;\n  padding: 0;\n  border: 1px solid #ddd;\n  background: #fff;\n  cursor: pointer;\n  font-size: 0.7rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s;\n  border-radius: 50%;\n}\n\n.swipe-btn:hover:not(:disabled) {\n  border-color: #000;\n  background: #f0f0f0;\n}\n\n.swipe-btn:disabled {\n  opacity: 0.3;\n  cursor: not-allowed;\n}\n\n.swipe-indicator {\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: #666;\n  min-width: 60px;\n  text-align: center;\n}\n\n/*  */\n.edit-btn {\n  width: 20px;\n  height: 20px;\n  padding: 0;\n  border: 1px solid #ddd;\n  background: #fff;\n  cursor: pointer;\n  font-size: 0.65rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 0px;\n  transition: all 0.2s;\n  opacity: 0.6;\n}\n\n.edit-btn:hover {\n  opacity: 1;\n  border-color: #000;\n  background: #f0f0f0;\n}\n\n/*  */\n.message-edit-form {\n  margin-top: 1rem;\n}\n\n.edit-textarea {\n  box-sizing: border-box;\n  width: 100%;\n  padding: 0.75rem;\n  font-size: 0.9375rem;\n  font-family: 'Consolas', 'Monaco', monospace;\n  border: 1px solid #ddd;\n  background: #fafafa;\n  resize: vertical;\n  line-height: 1.6;\n  min-height: 200px;\n}\n\n.edit-textarea:focus {\n  outline: none;\n  border-color: #000;\n  background: #fff;\n}\n\n.edit-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 0.5rem;\n  margin-top: 0.75rem;\n}\n\n/*  */\n.edit-btn.favorited {\n  color: #f5a623;\n  border-color: #f5a623;\n  opacity: 1;\n}\n\n/*  */\n.favorites-list {\n  max-height: 500px;\n}\n\n.favorite-item {\n  display: flex;\n  align-items: flex-start;\n  gap: 0.75rem;\n  padding: 0.75rem;\n  background: #fff;\n  border: 1px solid #ddd;\n  margin-bottom: 0.5rem;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.favorite-item:hover {\n  border-color: #000;\n  background: #f9f9f9;\n}\n\n.favorite-content {\n  flex: 1;\n  min-width: 0;\n  text-align: left;\n}\n\n.favorite-type {\n  font-size: 0.75rem;\n  color: #666;\n  margin-bottom: 0.25rem;\n}\n\n.favorite-text {\n  font-size: 0.875rem;\n  line-height: 1.5;\n  color: #333;\n  word-break: break-word;\n  text-align: left;\n}\n\n.favorite-meta {\n  font-size: 0.75rem;\n  color: #999;\n  margin-top: 0.5rem;\n  display: flex;\n  gap: 1rem;\n}\n\n.favorite-actions {\n  display: flex;\n  gap: 0.25rem;\n}\n\n/*  */\n.selection-menu {\n  position: fixed;\n  z-index: 1000;\n  background: #fff;\n  border: 1px solid #000;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);\n  display: flex;\n  gap: 0;\n}\n\n.selection-btn {\n  padding: 0.25rem 0.5rem;\n  border: none;\n  background: #fff;\n  cursor: pointer;\n  font-size: 0.7rem;\n  white-space: nowrap;\n  transition: all 0.2s;\n}\n\n.selection-btn:hover {\n  background: #000;\n  color: #fff;\n}\n\n.selection-btn:not(:last-child) {\n  border-right: 1px solid #ddd;\n}\n\n/*  */\n:deep(.user-highlight) {\n  text-decoration: none;\n  background-image: linear-gradient(to right, #87ceeb 60%, transparent 40%);\n  background-position: 0 100%;\n  background-size: 10px 1.5px;\n  background-repeat: repeat-x;\n  padding-bottom: 3px;\n  cursor: pointer;\n  transition: background-color 0.2s;\n}\n\n:deep(.user-highlight:hover) {\n  background-color: rgba(135, 206, 235, 0.2);\n}\n\n/*  */\n.highlight-menu {\n  position: fixed;\n  z-index: 1000;\n  background: #fff;\n  border: 1px solid #000;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);\n}\n\n/*  */\n@keyframes highlight-flash {\n\n  0%,\n  100% {\n    background-color: inherit;\n  }\n\n  25%,\n  75% {\n    background-color: rgba(255, 235, 59, 0.3);\n  }\n\n  50% {\n    background-color: rgba(255, 235, 59, 0.5);\n  }\n}\n\n.message-block.highlight-flash {\n  animation: highlight-flash 2s ease-in-out;\n}\n\n/*  */\n.highlights-list {\n  max-height: 300px;\n}\n\n.highlight-item {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0.5rem 0.75rem;\n  border-bottom: 1px solid #eee;\n  gap: 0.5rem;\n}\n\n.highlight-item:last-child {\n  border-bottom: none;\n}\n\n.highlight-content {\n  flex: 1;\n  min-width: 0;\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n}\n\n.highlight-text-preview {\n  font-size: 0.85rem;\n  color: #333;\n  word-break: break-word;\n  border-bottom: 2px dashed #87ceeb;\n  display: inline;\n}\n\n.highlight-meta {\n  font-size: 0.75rem;\n  color: #888;\n}\n\n/*  */\n.export-dialog-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n}\n\n.export-dialog {\n  background: #fff;\n  border: 2px solid #000;\n  width: 90%;\n  max-width: 500px;\n  max-height: 80vh;\n  display: flex;\n  flex-direction: column;\n  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);\n}\n\n.export-dialog-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem 1.5rem;\n  border-bottom: 1px solid #ddd;\n}\n\n.export-dialog-header h3 {\n  margin: 0;\n  font-size: 1.125rem;\n  font-weight: 700;\n}\n\n.export-dialog-body {\n  padding: 1.5rem;\n  overflow-y: auto;\n  flex: 1;\n}\n\n.export-options {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n  margin-bottom: 1.5rem;\n}\n\n.export-option {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 0.9375rem;\n  cursor: pointer;\n}\n\n.export-option input[type=\"checkbox\"] {\n  width: 16px;\n  height: 16px;\n  cursor: pointer;\n}\n\n.export-preview {\n  background: #f9f9f9;\n  border: 1px solid #ddd;\n  padding: 1rem;\n}\n\n.export-preview-label {\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: #666;\n  margin-bottom: 0.5rem;\n}\n\n.export-preview-content {\n  font-size: 0.875rem;\n  line-height: 1.6;\n  font-family: 'Consolas', 'Monaco', monospace;\n  white-space: pre-wrap;\n  word-break: break-word;\n  margin: 0;\n  max-height: 200px;\n  overflow-y: auto;\n  color: #333;\n}\n\n.export-dialog-footer {\n  display: flex;\n  justify-content: flex-end;\n  gap: 0.5rem;\n  padding: 1rem 1.5rem;\n  border-top: 1px solid #ddd;\n  background: #fafafa;\n}\n\n/*  */\n.export-range {\n  margin-bottom: 1.5rem;\n  padding-bottom: 1.5rem;\n  border-bottom: 1px solid #eee;\n}\n\n.range-inputs {\n  display: flex;\n  align-items: flex-end;\n  gap: 1rem;\n}\n\n.range-input-group {\n  display: flex;\n  flex-direction: column;\n  gap: 0.375rem;\n}\n\n.range-input-group label {\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: #333;\n}\n\n.range-input {\n  width: 100px;\n  padding: 0.5rem 0.75rem;\n  font-size: 1rem;\n  border: 1px solid #ddd;\n  text-align: center;\n  font-weight: 600;\n}\n\n.range-input:focus {\n  outline: none;\n  border-color: #000;\n}\n\n.range-separator {\n  font-size: 1rem;\n  color: #666;\n  padding-bottom: 0.5rem;\n}\n\n.range-hint {\n  margin-top: 0.75rem;\n  font-size: 0.875rem;\n  color: #666;\n}\n\n/*  */\n.style-panel {\n  background: #fafafa;\n}\n\n.style-settings {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  padding: 0.5rem 0;\n}\n\n.style-divider {\n  border: 0;\n  border-top: 1px dashed #eee;\n  margin: 0.25rem 0;\n  width: 100%;\n}\n\n.style-group {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.style-label {\n  font-size: 0.8rem;\n  font-weight: 600;\n  color: #666;\n  margin-bottom: 0.25rem;\n  display: flex;\n  justify-content: space-between;\n}\n\n.style-flex-row {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.style-select {\n  padding: 0 0.75rem;\n  height: 34px;\n  width: 180px;\n  font-size: 0.85rem;\n  border: 1px solid #ddd;\n  background-color: #fff;\n  border-radius: 0px;\n  cursor: pointer;\n  outline: none;\n  color: #333;\n  transition: all 0.2s;\n}\n\n.style-select:hover {\n  border-color: #999;\n}\n\n.style-select:focus {\n  outline: none;\n  border-color: #000;\n}\n\n.compact-btn {\n  white-space: nowrap;\n  height: 34px;\n  line-height: 1;\n  display: flex;\n  align-items: center;\n}\n\n.compact-group {\n  margin: 0;\n  /*  group  margin */\n}\n\n.sliders-grid {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 1rem 1.5rem;\n  margin-bottom: 0.5rem;\n}\n\n.style-slider.full-width {\n  width: 100%;\n  /*  */\n  margin: 0;\n  max-width: none;\n}\n\n/*  Grid  () */\n.color-grid {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  /*  */\n  gap: 1rem 1.5rem;\n  /* 1rem1.5rem */\n}\n\n.style-slider {\n  -webkit-appearance: none;\n  /*  */\n  appearance: none;\n  width: 100%;\n  height: 4px;\n  /*  4px */\n  background: #e0e0e0;\n  border-radius: 0px;\n  outline: none;\n  cursor: pointer;\n  margin: 8px 0;\n  /*  */\n}\n\n.style-slider::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  appearance: none;\n  width: 16px;\n  /*  */\n  height: 16px;\n  background: #fff;\n  border: 2px solid #333;\n  /*  */\n  border-radius: 50%;\n  cursor: pointer;\n  transition: transform 0.1s, background 0.1s;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);\n  /*  */\n}\n\n\n.style-slider::-webkit-slider-thumb:hover {\n  transform: scale(1.1);\n  /*  */\n  background: #333;\n  /*  */\n  border-color: #333;\n}\n\n/*  (Firefox) */\n.style-slider::-moz-range-thumb {\n  width: 16px;\n  height: 16px;\n  background: #fff;\n  border: 2px solid #333;\n  border-radius: 50%;\n  cursor: pointer;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);\n}\n\n.style-slider::-moz-range-thumb:hover {\n  transform: scale(1.1);\n  background: #333;\n}\n\n.style-value {\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: #666;\n  min-width: 50px;\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n.color-options {\n  display: flex;\n  gap: 0.5rem;\n  flex-wrap: wrap;\n}\n\n.color-btn {\n  width: 28px;\n  height: 28px;\n  border: 2px solid transparent;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: all 0.2s;\n  position: relative;\n}\n\n.color-btn:hover {\n  transform: scale(1.1);\n}\n\n.color-btn.active {\n  border-color: #000;\n  box-shadow: 0 0 0 2px #fff, 0 0 0 4px #000;\n}\n\n/*  */\n.color-picker-row {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  background: #f5f5f5;\n  padding: 4px 8px;\n  border-radius: 2px;\n  border: 1px solid #eee;\n}\n\n.color-input {\n  width: 24px;\n  height: 24px;\n  border: none;\n  border-radius: 2px;\n  padding: 0;\n  background: none;\n}\n\n.color-value {\n  font-size: 0.75rem;\n  font-family: monospace;\n  color: #999;\n}\n\n.align-options {\n  display: flex;\n  gap: 0.5rem;\n}\n\n.align-btn {\n  width: 36px;\n  height: 36px;\n  border: 1px solid #ddd;\n  background: #fff;\n  cursor: pointer;\n  font-size: 1rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s;\n}\n\n.align-btn:hover {\n  border-color: #000;\n  background: #f5f5f5;\n}\n\n.align-btn.active {\n  background: #000;\n  color: #fff;\n  border-color: #000;\n}\n\n.style-preview {\n  margin-top: 1.5rem;\n  padding-top: 1.5rem;\n  border-top: 1px solid #ddd;\n}\n\n.style-preview-label {\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: #666;\n  margin-bottom: 0.75rem;\n}\n\n.style-preview-content {\n  padding: 1rem;\n  background: #fff;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n}\n\n/*  */\n.custom-fonts-section {\n  margin-top: 1.5rem;\n  padding-top: 1.5rem;\n  border-top: 1px solid #eee;\n}\n\n.custom-font-list {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  margin-top: 0.75rem;\n}\n\n.custom-font-item {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0.5rem 0.75rem;\n  background: #f8f8f8;\n  border: 1px solid #e0e0e0;\n  border-radius: 4px;\n}\n\n.custom-font-name {\n  font-size: 0.875rem;\n  color: #333;\n}\n\n.add-font-btn {\n  margin-top: 0.5rem;\n  font-size: 0.75rem;\n  padding: 0.25rem 0.5rem;\n}\n\n/*  */\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 10000;\n}\n\n.modal-dialog {\n  background: #fff;\n  border-radius: 8px;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\n  max-width: 500px;\n  width: 90%;\n  max-height: 90vh;\n  overflow: auto;\n}\n\n.modal-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 1rem 1.25rem;\n  border-bottom: 1px solid #eee;\n}\n\n.modal-header h3 {\n  margin: 0;\n  font-size: 1.125rem;\n  font-weight: 600;\n}\n\n.modal-close {\n  background: none;\n  border: none;\n  font-size: 1.25rem;\n  cursor: pointer;\n  color: #666;\n  padding: 0.25rem;\n  line-height: 1;\n}\n\n.modal-close:hover {\n  color: #000;\n}\n\n.modal-body {\n  padding: 1.25rem;\n}\n\n.modal-footer {\n  display: flex;\n  justify-content: flex-end;\n  gap: 0.75rem;\n  padding: 1rem 1.25rem;\n  border-top: 1px solid #eee;\n}\n\n.form-input {\n  width: 100%;\n  padding: 0.5rem 0.75rem;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  font-size: 0.875rem;\n  box-sizing: border-box;\n}\n\n.form-input:focus {\n  outline: none;\n  border-color: #666;\n}\n\n.form-input:disabled {\n  background: #f5f5f5;\n  color: #999;\n}\n\n.form-file-input {\n  width: 100%;\n  padding: 0.5rem 0;\n  font-size: 0.875rem;\n}\n\n.file-selected {\n  margin-top: 0.5rem;\n  font-size: 0.75rem;\n  color: #666;\n}\n\n.required {\n  color: #e53935;\n}\n\n.import-tabs {\n  margin-top: 1rem;\n}\n\n.import-method {\n  margin-bottom: 1rem;\n}\n\n.import-method-header {\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: #333;\n  margin-bottom: 0.5rem;\n}\n\n.import-divider {\n  text-align: center;\n  color: #999;\n  font-size: 0.875rem;\n  margin: 1rem 0;\n  position: relative;\n}\n\n.import-divider::before,\n.import-divider::after {\n  content: '';\n  position: absolute;\n  top: 50%;\n  width: 40%;\n  height: 1px;\n  background: #ddd;\n}\n\n.import-divider::before {\n  left: 0;\n}\n\n.import-divider::after {\n  right: 0;\n}\n\n.btn-sm {\n  padding: 0.375rem 0.625rem;\n  font-size: 0.75rem;\n}\n\n/*  */\n.action-button.active {\n  background: #000;\n  color: #fff;\n}\n\n/*  */\n.reading-mode-btn {\n  background: #f0f7ff;\n  border-color: #4a90d9;\n  color: #4a90d9;\n}\n\n.reading-mode-btn:hover {\n  background: #4a90d9;\n  color: #fff;\n}\n\n.reading-mode-btn.active {\n  background: #4a90d9;\n  color: #fff;\n  border-color: #4a90d9;\n}\n\n/* =======  ======= */\n/*  */\n.reading-view {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: #fefefe;\n  z-index: 500;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  /*  */\n}\n\n/*  CSS Columns  */\n.reading-content {\n  height: calc(100vh - 3rem);\n  /*  */\n  /* width  JS  scrollWidth */\n  min-width: 100vw;\n  /*  */\n  box-sizing: border-box;\n\n  /* CSS Columns  - column-width  JS  */\n  column-gap: 0;\n  /* 0padding */\n  column-fill: auto;\n  /*  */\n\n  /* paddingpadding */\n  padding: 2rem 0 3rem 0;\n\n  text-align: justify;\n  overflow: visible;\n  /* scrollWidth  */\n\n  /*  */\n  transition: transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n\n  /*  */\n  word-wrap: break-word;\n  word-break: break-all;\n\n  /*  */\n  user-select: text;\n  -webkit-user-select: text;\n  cursor: text;\n}\n\n/*  */\n.reading-content :deep(p),\n.reading-content :deep(span),\n.reading-content :deep(strong),\n.reading-content :deep(em),\n.reading-content :deep(blockquote),\n.reading-content :deep(li),\n.reading-content :deep(h1),\n.reading-content :deep(h2),\n.reading-content :deep(h3),\n.reading-content :deep(h4),\n.reading-content :deep(h5),\n.reading-content :deep(h6),\n.reading-content :deep(a),\n.reading-content :deep(td),\n.reading-content :deep(th) {\n  font-family: var(--content-font);\n}\n\n.reading-content :deep(code),\n.reading-content :deep(pre),\n.reading-content :deep(pre code) {\n  font-family: 'Consolas', 'Monaco', monospace !important;\n}\n\n/*  */\n.reading-content :deep(p),\n.reading-content :deep(div),\n.reading-content :deep(li),\n.reading-content :deep(h1),\n.reading-content :deep(h2),\n.reading-content :deep(h3),\n.reading-content :deep(h4),\n.reading-content :deep(h5),\n.reading-content :deep(h6),\n.reading-content :deep(blockquote),\n.reading-content :deep(pre) {\n  padding-left: 1.5rem;\n  padding-right: 1.5rem;\n  box-sizing: border-box;\n  break-inside: avoid;\n  page-break-inside: avoid;\n  margin: 0 0 var(--paragraph-spacing, 1em) 0;\n}\n\n/*  */\n.reading-content :deep(.reading-message) {\n  display: block;\n}\n\n/*  */\n.reading-content :deep(.reading-speaker-name) {\n  font-weight: bold;\n  font-size: 0.9em;\n  color: #666;\n  margin-top: 1rem;\n  padding-left: 1.5rem;\n  padding-right: 1.5rem;\n}\n\n.reading-content :deep(img) {\n  max-width: calc(100% - 3rem);\n  max-height: 90%;\n  height: auto;\n  display: block;\n  margin: 1rem auto;\n  padding-left: 1.5rem;\n  padding-right: 1.5rem;\n  box-sizing: border-box;\n}\n\n/*  */\n.reading-content :deep(.reading-separator) {\n  height: 2rem;\n  margin: 1rem 1.5rem;\n  border-bottom: 1px dashed #eee;\n}\n\n/*  -  */\n.reading-nav-left {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 20%;\n  height: calc(100% - 60px);\n  z-index: 504;\n  cursor: w-resize;\n  -webkit-tap-highlight-color: transparent;\n}\n\n/*  -  */\n.reading-nav-right {\n  position: fixed;\n  top: 0;\n  right: 0;\n  width: 20%;\n  height: calc(100% - 60px);\n  z-index: 504;\n  cursor: e-resize;\n  -webkit-tap-highlight-color: transparent;\n}\n\n/*  -  */\n.reading-nav-center {\n  position: fixed;\n  top: 0;\n  left: 20%;\n  width: 60%;\n  height: 60px;\n  z-index: 504;\n  cursor: pointer;\n  -webkit-tap-highlight-color: transparent;\n}\n\n/*  */\n.reading-footer {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: rgba(255, 255, 255, 0.98);\n  border-top: 1px solid #e0e0e0;\n  padding: 0.75rem 1.5rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  transform: translateY(100%);\n  opacity: 0;\n  transition: transform 0.3s ease, opacity 0.3s ease;\n  z-index: 520;\n}\n\n.reading-footer.visible {\n  transform: translateY(0);\n  opacity: 1;\n}\n\n.reading-progress {\n  font-size: 0.875rem;\n  color: #666;\n  display: flex;\n  gap: 1.5rem;\n}\n\n.reading-floor {\n  color: #999;\n}\n\n.reading-controls {\n  display: flex;\n  gap: 0.5rem;\n}\n\n.reading-btn {\n  padding: 0.375rem 0.75rem;\n  font-size: 0.8125rem;\n  border: 1px solid #ddd;\n  background: #fff;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.reading-btn:hover:not(:disabled) {\n  border-color: #000;\n  background: #f5f5f5;\n}\n\n.reading-btn:disabled {\n  opacity: 0.4;\n  cursor: not-allowed;\n}\n\n.reading-btn.reading-exit {\n  background: #f5f5f5;\n  border-color: #ccc;\n}\n\n.reading-btn.reading-exit:hover {\n  background: #e0e0e0;\n}\n\n/*  */\n@media (max-width: 768px) {\n  .chat-header {\n    padding: 2rem 1.5rem 1.5rem;\n    flex-direction: column;\n    gap: 1rem;\n  }\n\n  .header-actions {\n    flex-direction: row;\n    flex-wrap: wrap;\n    justify-content: flex-start;\n    gap: 0.375rem;\n    max-width: none;\n  }\n\n  .action-button,\n  .reset-button {\n    width: auto;\n    flex: 0 0 auto;\n    padding: 0.25rem 0.5rem;\n    font-size: 0.7rem;\n  }\n\n  .chat-title {\n    font-size: 1.5rem;\n  }\n\n  .message-block {\n    padding: 2rem 1.5rem;\n  }\n\n  .message-header {\n    flex-direction: column;\n    gap: 0.5rem;\n    align-items: flex-start;\n  }\n\n  .upload-area {\n    padding: 1rem;\n  }\n\n  .upload-label {\n    padding: 3rem 1.5rem;\n  }\n\n  /*  */\n  .search-bar {\n    flex-direction: column;\n    padding: 0.75rem 1.5rem;\n    gap: 0.5rem;\n  }\n\n  .search-input-wrapper {\n    max-width: none;\n  }\n\n  /*  */\n  .pagination-bar {\n    flex-direction: column;\n    gap: 0.75rem;\n    padding: 0.75rem 1.5rem;\n  }\n\n  .pagination-controls {\n    flex-wrap: wrap;\n    justify-content: center;\n  }\n\n  /*  */\n  .regex-manager {\n    padding: 1rem 1.5rem;\n  }\n\n  .regex-header {\n    flex-direction: column;\n    gap: 1rem;\n    align-items: flex-start;\n  }\n\n  .regex-actions {\n    width: 100%;\n    flex-wrap: wrap;\n  }\n\n  .regex-actions .btn {\n    flex: 1;\n    min-width: 80px;\n  }\n\n  .script-item {\n    flex-wrap: wrap;\n  }\n\n  .script-controls {\n    width: 100%;\n    justify-content: flex-end;\n    margin-top: 0.5rem;\n    padding-top: 0.5rem;\n    border-top: 1px solid #eee;\n  }\n}\n\n.color-picker-row {\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n}\n\n.color-input {\n  width: 50px;\n  height: 30px;\n  padding: 0;\n  border: 1px solid #ddd;\n  cursor: pointer;\n  background: none;\n}\n\n.color-value {\n  font-family: monospace;\n  font-size: 0.875rem;\n  color: #666;\n}\n</style>\n\n<style>\n/*  - scoped */\n@font-face {\n  font-family: 'Alegreya';\n  src: url('~@/assets/fonts/Alegreya.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n\n@font-face {\n  font-family: '';\n  src: url('~@/assets/fonts/cangeryunhei.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n\n@font-face {\n  font-family: '';\n  src: url('~@/assets/fonts/huiwenmingchao.otf') format('opentype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n\n@font-face {\n  font-family: '';\n  src: url('~@/assets/fonts/kongmingchao.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n\n@font-face {\n  font-family: '';\n  src: url('~@/assets/fonts/pingxianzhensong.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n\n@font-face {\n  font-family: '';\n  src: url('~@/assets/fonts/wenyueminguofangsong.otf') format('opentype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n\n/* =========================================\n    (Preview Fix)\n   ========================================= */\n\n/* 1.  */\n.style-preview-content em,\n.style-preview-content i {\n  font-style: italic;\n  /*  !important  */\n  color: var(--italic-color, inherit) !important;\n}\n\n/* 2.  */\n.style-preview-content u {\n  text-decoration: underline;\n  /*  */\n  text-decoration-color: var(--underline-color, inherit) !important;\n  /*  */\n  color: var(--underline-color, inherit) !important;\n}\n\n/* 3.  */\n.style-preview-content blockquote {\n  /*  */\n  border-left-style: solid !important;\n  border-left-width: 4px !important;\n  border-left-color: var(--quote-color, #666) !important;\n\n  /*  */\n  color: var(--quote-color, #666) !important;\n\n  /*  */\n  padding-left: 1rem !important;\n  margin: 1rem 0 !important;\n  opacity: 1 !important;\n  /*  */\n}\n\n/* =========================================================\n     (Dark Mode) -  CSS \n   ========================================================= */\n\n/* 1.  */\n.dark-mode.st-reader {\n  /*  */\n  background-image: url('https://sazankaze.neocities.org/bg_pic/black-texture1.png');\n  background-repeat: repeat;\n  background-attachment: fixed;\n\n  background-color: #121212;\n  /*  */\n  color: #e0e0e0;\n}\n\n.dark-mode .chat-container {\n  background: #1e1e1e;\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);\n  border-left: 1px solid #333;\n  border-right: 1px solid #333;\n}\n\n.dark-mode .chat-header {\n  border-bottom-color: #444;\n}\n\n.dark-mode .chat-title {\n  color: #e0e0e0;\n}\n\n/* 2.  */\n.dark-mode .action-button,\n.dark-mode .reset-button,\n.dark-mode .page-btn,\n.dark-mode .btn-secondary,\n.dark-mode .btn-icon,\n.dark-mode .swipe-btn,\n.dark-mode .edit-btn {\n  background: #2d2d2d;\n  border-color: #444;\n  color: #ccc;\n}\n\n.dark-mode .action-button:hover,\n.dark-mode .reset-button:hover,\n.dark-mode .btn-secondary:hover {\n  background: #444;\n  color: #fff;\n  border-color: #666;\n}\n\n/*  */\n.dark-mode .action-button.active,\n.dark-mode .page-btn.active {\n  background: #4a90d9;\n  border-color: #4a90d9;\n  color: #fff;\n}\n\n/* 3.  () */\n.dark-mode .search-bar,\n.dark-mode .regex-manager,\n.dark-mode .style-panel,\n.dark-mode .pagination-bar {\n  background: #1e1e1e;\n  border-color: #444;\n  color: #ccc;\n}\n\n.dark-mode .style-label,\n.dark-mode .pagination-info,\n.dark-mode .chat-meta {\n  color: #888;\n}\n\n/*  */\n.dark-mode input[type=\"text\"],\n.dark-mode input[type=\"number\"],\n.dark-mode textarea,\n.dark-mode .search-input,\n.dark-mode .style-select,\n.dark-mode .form-input,\n.dark-mode .edit-textarea {\n  background: #2d2d2d;\n  border-color: #444;\n  color: #e0e0e0;\n}\n\n.dark-mode input:focus,\n.dark-mode textarea:focus,\n.dark-mode select:focus {\n  border-color: #666;\n  background: #333;\n}\n\n/* 4.  */\n.dark-mode .message-block {\n  border-bottom-color: #333;\n}\n\n/*  */\n.dark-mode .user-message {\n  background: rgba(255, 255, 255, 0.05) !important;\n  border-left-color: #666 !important;\n}\n\n.dark-mode .user-message .speaker-name {\n  color: #ddd;\n}\n\n.dark-mode .speaker-name {\n  color: #aaa;\n}\n\n/* 5.  */\n.dark-mode .color-picker-row {\n  background: #2d2d2d;\n  border-color: #444;\n}\n\n.dark-mode .style-divider {\n  border-top-color: #333;\n}\n\n/*  */\n.dark-mode .style-slider {\n  background: #444;\n}\n\n.dark-mode .style-slider::-webkit-slider-thumb {\n  border-color: #888;\n  background: #2d2d2d;\n}\n\n/* 6.  */\n.dark-mode .reading-view {\n  background: #121212;\n}\n\n.dark-mode .reading-footer {\n  background: #1e1e1e;\n  border-top-color: #333;\n}\n\n.dark-mode .reading-separator {\n  border-bottom-color: #333;\n}\n\n/* --- 7.  --- */\n.dark-mode .upload-label {\n  background: rgba(30, 30, 30, 0.85);\n  /*  */\n  border-color: #666;\n  /*  */\n  color: #e0e0e0;\n  /*  */\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);\n  /*  */\n}\n\n.dark-mode .upload-label:hover {\n  background: #e0e0e0;\n  border-color: #e0e0e0;\n  color: #121212;\n}\n\n.dark-mode .upload-hint {\n  color: #888;\n}\n\n.dark-mode .upload-label:hover .upload-hint {\n  color: #444;\n  opacity: 1;\n}\n\n/* HTML  */\n.dark-mode .html-preview-header {\n  border-bottom-color: #444;\n}\n\n.dark-mode .html-tag {\n  background: #333;\n  color: #aaa;\n}\n\n.dark-mode .preview-toggle {\n  background: #2d2d2d;\n  border-color: #555;\n  color: #ccc;\n}\n\n.dark-mode .preview-toggle:hover {\n  background: #e0e0e0;\n  color: #121212;\n  border-color: #e0e0e0;\n}\n\n.dark-mode .html-iframe {\n  border-color: #444;\n}\n\n/* --- 9.  --- */\n.dark-mode .edit-textarea:focus {\n  background-color: #333 !important;\n  border-color: #666 !important;\n  color: #e0e0e0 !important;\n  box-shadow: none;\n}\n\n.dark-mode .search-input:focus {\n  background-color: #333 !important;\n  border-color: #666 !important;\n  color: #e0e0e0 !important;\n}\n\n/* --- 10.  --- */\n.dark-mode .page-size-select {\n  background-color: #2d2d2d;\n  border-color: #444;\n  color: #e0e0e0;\n}\n\n.dark-mode .page-size-select:focus {\n  border-color: #666;\n  background-color: #333;\n  outline: none;\n}\n\n.dark-mode .page-size-select option {\n  background-color: #2d2d2d;\n  color: #e0e0e0;\n}\n\n/* --- 11.  --- */\n\n/* 1.  */\n.dark-mode .reading-footer {\n  background-color: #1e1e1e !important;\n  border-top: 1px solid #333 !important;\n  color: #e0e0e0 !important;\n  box-shadow: 0 -4px 15px rgba(0, 0, 0, 0.6) !important;\n}\n\n/* 2.  () */\n.dark-mode .reading-footer button {\n  background-color: #2d2d2d !important;\n  color: #ccc !important;\n  border: 1px solid #444 !important;\n  transition: all 0.2s;\n}\n\n.dark-mode .reading-footer button:hover {\n  background-color: #e0e0e0 !important;\n  color: #121212 !important;\n  border-color: #e0e0e0 !important;\n}\n\n/* 3.  */\n.dark-mode .reading-footer input[type=\"number\"],\n.dark-mode .reading-footer input[type=\"text\"] {\n  background-color: #121212 !important;\n  color: #fff !important;\n  border: 1px solid #444 !important;\n}\n\n.dark-mode .reading-footer input:focus {\n  border-color: #888 !important;\n  background-color: #000 !important;\n}\n\n/* 4.  ( / ) */\n.dark-mode .reading-footer span {\n  color: #888 !important;\n}\n\n/* --- 13.  --- */\n.icon-label-row {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n}\n\n.mode-icon {\n  font-size: 1.1em;\n  line-height: 1;\n}\n\n.dark-mode .mode-icon.sun {\n  color: #ffb74d;\n}\n\n.mode-icon.moon {\n  color: #5c6bc0;\n}\n\n/* --- 14.  --- */\n/* =========================================================\n     (Regex, Tags, Favorites, Export)\n   ========================================================= */\n\n/* --- 1.  --- */\n\n/*  */\n.dark-mode .script-item,\n.dark-mode .favorite-item {\n  background: #252525;\n  border-color: #444;\n  color: #e0e0e0;\n}\n\n.dark-mode .script-item:hover,\n.dark-mode .favorite-item:hover {\n  border-color: #666;\n  background: #2f2f2f;\n}\n\n/*  */\n.dark-mode .script-item.disabled {\n  background: #1a1a1a;\n  opacity: 0.6;\n}\n\n/* / */\n.dark-mode .script-name,\n.dark-mode .favorite-type {\n  color: #fff;\n}\n\n/*  */\n.dark-mode .script-regex {\n  color: #aaa;\n}\n\n/*  */\n.dark-mode .script-form {\n  background: #252525;\n  border-color: #444;\n  color: #e0e0e0;\n}\n\n/*  */\n.dark-mode .form-hint {\n  color: #888;\n}\n\n/*  (///) */\n.dark-mode .btn-icon {\n  background: #333;\n  border-color: #555;\n  color: #ccc;\n}\n\n.dark-mode .btn-icon:hover:not(:disabled) {\n  background: #444;\n  border-color: #777;\n  color: #fff;\n}\n\n/* /  */\n.dark-mode .btn-toggle {\n  background: #1a1a1a;\n  border-color: #444;\n  color: #888;\n}\n\n.dark-mode .btn-toggle.active {\n  background: #4a90d9;\n  /*  #ccc */\n  border-color: #4a90d9;\n  color: #fff;\n}\n\n\n/*  */\n.dark-mode .favorite-text {\n  color: #ddd;\n}\n\n/*  (/) */\n.dark-mode .favorite-meta {\n  color: #777;\n}\n\n/*  */\n.dark-mode .export-dialog,\n.dark-mode .modal-dialog {\n  background: #1e1e1e;\n  border-color: #444;\n  color: #e0e0e0;\n  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.6);\n}\n\n/*  */\n.dark-mode .export-dialog-header,\n.dark-mode .modal-header {\n  border-bottom-color: #333;\n}\n\n/*  */\n.dark-mode .modal-close {\n  color: #aaa;\n}\n\n.dark-mode .modal-close:hover {\n  color: #fff;\n}\n\n/*  */\n.dark-mode .export-range {\n  border-bottom-color: #333;\n}\n\n.dark-mode .range-input-group label,\n.dark-mode .range-separator,\n.dark-mode .range-hint {\n  color: #aaa;\n}\n\n/*  */\n.dark-mode .range-input {\n  background: #2d2d2d;\n  border-color: #444;\n  color: #fff;\n}\n\n/*  */\n.dark-mode .export-preview {\n  background: #121212;\n  border-color: #333;\n}\n\n.dark-mode .export-preview-label {\n  color: #888;\n}\n\n.dark-mode .export-preview-content {\n  color: #ccc;\n}\n\n/*  */\n.dark-mode .export-dialog-footer,\n.dark-mode .modal-footer {\n  background: #252525;\n  border-top-color: #333;\n}\n\n/*  (Checkbox ) */\n.dark-mode .export-option {\n  color: #ccc;\n}\n\n/*  */\n.dark-mode .import-divider {\n  color: #666;\n}\n\n.dark-mode .import-divider::before,\n.dark-mode .import-divider::after {\n  background: #444;\n}\n\n.dark-mode .import-method-header {\n  color: #ccc;\n}\n\n.dark-mode .file-selected {\n  color: #aaa;\n}\n\n.dark-mode .custom-font-item {\n  background: #2d2d2d;\n  border-color: #444;\n}\n\n.dark-mode .custom-font-name {\n  color: #e0e0e0;\n}\n\n/* ---  --- */\n.dark-mode .style-preview-content {\n  background-color: #252525 !important;\n  border-color: #444 !important;\n  color: #e0e0e0;\n}\n\n/* 1.  (PRE) */\n.dark-mode .message-content pre,\n.dark-mode .message-content-mixed pre,\n.dark-mode .reading-content pre {\n  background-color: #1e1e1e !important;\n  border: 1px solid #333 !important;\n  color: #d4d4d4 !important;\n  padding: 1em !important;\n  overflow-x: auto !important;\n  margin: 1em 0 !important;\n}\n\n/* 2. PRE  CODE */\n.dark-mode .message-content pre code,\n.dark-mode .message-content-mixed pre code,\n.dark-mode .reading-content pre code {\n  background-color: transparent !important;\n  border: none !important;\n  color: inherit !important;\n  padding: 0 !important;\n  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace !important;\n}\n\n/* 3.  */\n.dark-mode .message-content code:not(pre code),\n.dark-mode .message-content-mixed code:not(pre code),\n.dark-mode .reading-content code:not(pre code) {\n  background-color: #3e3e3e !important;\n  color: #e0e0e0 !important;\n  border: 1px solid #555 !important;\n  padding: 2px 6px !important;\n  font-family: Consolas, Monaco, monospace !important;\n  font-size: 0.9em !important;\n}\n\n/*  */\n.intimacy-btn {\n  color: #e91e63;\n  border-color: #e91e63;\n  background: #fff0f5;\n  /*  */\n}\n\n.intimacy-btn:hover {\n  background: #e91e63;\n  color: #fff;\n}\n\n.intimacy-btn.active {\n  background: #e91e63;\n  color: #fff;\n}\n\n/*  */\n.intimacy-dialog {\n  max-width: 700px;\n}\n\n.stats-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));\n  gap: 1rem;\n  margin-bottom: 2rem;\n}\n\n.stat-card {\n  background: #f8f9fa;\n  padding: 1.25rem;\n  border-radius: 0px;\n  text-align: center;\n  border: 1px solid #eee;\n  transition: transform 0.2s;\n}\n\n.stat-card:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(233, 30, 99, 0.15);\n  border-color: #e91e63;\n}\n\n.stat-label {\n  font-size: 0.85rem;\n  color: #666;\n  margin-bottom: 0.5rem;\n}\n\n.stat-value {\n  font-size: 1.5rem;\n  font-weight: 800;\n  color: #333;\n  line-height: 1.2;\n}\n\n.stat-value.text-sm {\n  font-size: 1.1rem;\n  /*  */\n}\n\n.stat-value .unit {\n  font-size: 0.9rem;\n  font-weight: normal;\n}\n\n.stat-sub {\n  font-size: 0.75rem;\n  color: #999;\n  margin-top: 0.25rem;\n}\n\n/*  */\n.heatmap-section {\n  border-top: 1px solid #eee;\n  padding-top: 1.5rem;\n}\n\n.heatmap-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n}\n\n.heatmap-header h4 {\n  margin: 0;\n  font-weight: 700;\n}\n\n.heatmap-legend {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  font-size: 0.75rem;\n  color: #666;\n}\n\n.legend-item {\n  width: 10px;\n  height: 10px;\n  border-radius: 0px;\n  display: inline-block;\n}\n\n.heatmap-scroll {\n  overflow-x: auto;\n  padding-bottom: 10px;\n}\n\n.heatmap-grid {\n  display: flex;\n  gap: 3px;\n  /* 7 */\n  height: calc(12px * 8);\n}\n\n.heatmap-week-col {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  padding-right: 4px;\n  font-size: 0.7rem;\n  color: #999;\n  height: calc(100% - 2px);\n}\n\n.heatmap-week {\n  display: flex;\n  flex-direction: column;\n  gap: 3px;\n}\n\n.heatmap-day {\n  width: 12px;\n  height: 12px;\n  border-radius: 0px;\n  background-color: #ebedf0;\n  /*  Level 0 */\n  transition: all 0.2s;\n}\n\n.heatmap-day:hover {\n  transform: scale(1.2);\n  border: 1px solid rgba(0, 0, 0, 0.1);\n}\n\n/*  () */\n.heatmap-day.level-1,\n.legend-item.level-1 {\n  background-color: #fce4ec;\n}\n\n.heatmap-day.level-2,\n.legend-item.level-2 {\n  background-color: #f48fb1;\n}\n\n.heatmap-day.level-3,\n.legend-item.level-3 {\n  background-color: #e91e63;\n}\n\n.heatmap-day.level-4,\n.legend-item.level-4 {\n  background-color: #880e4f;\n}\n\n/* ============================\n    \n   ============================ */\n\n/*  */\n.dark-mode .intimacy-btn {\n  background: rgba(233, 30, 99, 0.15);\n  border-color: #e91e63;\n  color: #f48fb1;\n}\n\n.dark-mode .intimacy-btn:hover {\n  background: #e91e63;\n  color: #fff;\n}\n\n/*  */\n.dark-mode .stat-card {\n  background: #252525;\n  border-color: #444;\n}\n\n.dark-mode .stat-label {\n  color: #aaa;\n}\n\n.dark-mode .stat-value {\n  color: #e0e0e0;\n}\n\n.dark-mode .stat-sub {\n  color: #666;\n}\n\n.dark-mode .stat-card:hover {\n  border-color: #f48fb1;\n}\n\n/* ===  === */\n.calendar-section {\n  border-top: 1px solid #eee;\n  padding-top: 1.5rem;\n  margin-top: 1rem;\n}\n\n.calendar-header-row {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n}\n\n.calendar-header-row h4 {\n  margin: 0;\n  font-weight: 700;\n}\n\n/*  */\n.calendar-scroll-container {\n  max-height: 400px;\n  overflow-y: auto;\n  padding-right: 5px;\n  /*  */\n}\n\n/*  */\n.calendar-months-wrapper {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\n  gap: 1.5rem;\n}\n\n.month-card {\n  background: #fff;\n  border: 1px solid #eee;\n  border-radius: 0px;\n  padding: 1rem;\n}\n\n.month-title {\n  text-align: center;\n  font-weight: 700;\n  margin-bottom: 0.75rem;\n  color: #333;\n}\n\n/* 7 */\n.month-grid {\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  gap: 4px;\n}\n\n.weekday-header {\n  text-align: center;\n  font-size: 0.75rem;\n  color: #999;\n  padding-bottom: 4px;\n}\n\n.day-cell {\n  aspect-ratio: 1;\n  /*  */\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 0px;\n  background: #f5f5f5;\n  /*  */\n  font-size: 0.75rem;\n  color: #999;\n  cursor: default;\n  transition: all 0.2s;\n  position: relative;\n}\n\n.day-cell.padding {\n  background: transparent;\n  /*  */\n}\n\n/*  */\n.day-cell.has-data {\n  color: #333;\n  cursor: pointer;\n}\n\n/*  */\n.day-cell.has-data:hover {\n  transform: scale(1.15);\n  z-index: 2;\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);\n  border: 1px solid rgba(0, 0, 0, 0.1);\n}\n\n/*  () */\n.day-cell.level-1 {\n  background-color: #fce4ec;\n  color: #880e4f;\n}\n\n.day-cell.level-2 {\n  background-color: #f48fb1;\n  color: #fff;\n  font-weight: bold;\n}\n\n.day-cell.level-3 {\n  background-color: #e91e63;\n  color: #fff;\n  font-weight: bold;\n}\n\n.day-cell.level-4 {\n  background-color: #880e4f;\n  color: #fff;\n  font-weight: bold;\n}\n\n/*  */\n.calendar-widget {\n  background: #fff;\n  border: 1px solid #eee;\n  border-radius: 0px;\n  overflow: hidden;\n  max-width: 400px;\n  /*  */\n  margin: 0 auto;\n  /*  */\n}\n\n/*  */\n.calendar-nav {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.75rem 1rem;\n  background: #f8f9fa;\n  border-bottom: 1px solid #eee;\n}\n\n.current-month-label {\n  font-weight: 700;\n  font-size: 1rem;\n  color: #333;\n}\n\n.nav-btn {\n  background: #fff;\n  border: 1px solid #ddd;\n  border-radius: 0px;\n  width: 28px;\n  height: 28px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  color: #666;\n  font-size: 0.8rem;\n  transition: all 0.2s;\n}\n\n.nav-btn:hover:not(:disabled) {\n  background: #000;\n  color: #fff;\n  border-color: #000;\n}\n\n.nav-btn:disabled {\n  opacity: 0.3;\n  cursor: not-allowed;\n  background: #f5f5f5;\n}\n\n/*  () */\n.month-card.single-view {\n  border: none;\n  border-radius: 0;\n  box-shadow: none;\n  padding: 1rem;\n}\n\n/*  */\n.month-footer-stats {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0.75rem 1rem;\n  background: #fdfdfd;\n  border-top: 1px solid #eee;\n  gap: 1.5rem;\n}\n\n.footer-stat {\n  display: flex;\n  align-items: baseline;\n  gap: 6px;\n}\n\n.f-label {\n  font-size: 0.75rem;\n  color: #888;\n}\n\n.f-value {\n  font-size: 1rem;\n  font-weight: 700;\n  color: #e91e63;\n  /*  */\n}\n\n.footer-divider {\n  width: 1px;\n  height: 12px;\n  background: #ddd;\n}\n\n/*  */\n.dark-mode .calendar-widget {\n  background: #252525;\n  border-color: #444;\n}\n\n.dark-mode .calendar-nav {\n  background: #2d2d2d;\n  border-bottom-color: #444;\n}\n\n.dark-mode .current-month-label {\n  color: #e0e0e0;\n}\n\n.dark-mode .nav-btn {\n  background: #333;\n  border-color: #555;\n  color: #ccc;\n}\n\n.dark-mode .nav-btn:hover:not(:disabled) {\n  background: #e0e0e0;\n  color: #121212;\n}\n\n.dark-mode .month-card.single-view {\n  background: transparent;\n}\n\n.dark-mode .month-footer-stats {\n  background: #2d2d2d;\n  border-top-color: #444;\n}\n\n.dark-mode .f-label {\n  color: #888;\n}\n\n.dark-mode .f-value {\n  color: #f48fb1;\n}\n\n/* ===   === */\n.dark-mode .calendar-section {\n  border-top-color: #333;\n}\n\n.dark-mode .calendar-header-row h4 {\n  color: #e0e0e0;\n}\n\n.dark-mode .month-card {\n  background: #252525;\n  border-color: #444;\n}\n\n.dark-mode .month-title {\n  color: #e0e0e0;\n}\n\n.dark-mode .weekday-header {\n  color: #888;\n}\n\n.dark-mode .day-cell {\n  background: #2f2f2f;\n  color: #666;\n}\n\n/*  */\n.dark-mode .day-cell.level-1 {\n  background-color: #5c2b3b;\n  color: #ffcdd2;\n}\n\n.dark-mode .day-cell.level-2 {\n  background-color: #a04264;\n  color: #fff;\n}\n\n.dark-mode .day-cell.level-3 {\n  background-color: #e91e63;\n  color: #fff;\n}\n\n.dark-mode .day-cell.level-4 {\n  background-color: #ff80ab;\n  color: #000;\n}\n\n/*  */\n@media (max-width: 768px) {\n  .stats-grid {\n    grid-template-columns: 1fr 1fr;\n  }\n}\n\n/* ===  === */\n.custom-tooltip {\n  position: fixed;\n  z-index: 9999;\n  background: rgba(0, 0, 0, 0.85);\n  /*  */\n  color: #fff;\n  padding: 8px 12px;\n  border-radius: 0px;\n  font-size: 0.8rem;\n  pointer-events: none;\n  /*  */\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  min-width: 120px;\n  backdrop-filter: blur(4px);\n}\n\n.tooltip-header {\n  font-weight: 700;\n  margin-bottom: 6px;\n  color: #fff;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.2);\n  padding-bottom: 4px;\n}\n\n.tooltip-row {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  margin-bottom: 3px;\n  white-space: nowrap;\n}\n\n.tooltip-row:last-child {\n  margin-bottom: 0;\n}\n\n.tooltip-icon {\n  font-size: 1rem;\n  color: #f48fb1;\n  /*  */\n}\n\n/*  () */\n.dark-mode .custom-tooltip {\n  background: rgba(30, 30, 30, 0.95);\n  border-color: #444;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);\n}\n\n.dark-mode .tooltip-header {\n  color: #e0e0e0;\n}\n</style>","import { render } from \"./App.vue?vue&type=template&id=71ca710e&scoped=true\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=71ca710e&scoped=true&lang=css\"\nimport \"./App.vue?vue&type=style&index=1&id=71ca710e&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-71ca710e\"]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App).mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkst_reader\"] = self[\"webpackChunkst_reader\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(3655); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["class","label","_createElementBlock","_normalizeClass","$data","isDarkMode","messages","length","_hoisted_3","_createElementVNode","_hoisted_4","_hoisted_5","_hoisted_6","_toDisplayString","metadata","character_name","_hoisted_7","create_date","_hoisted_8","_hoisted_9","_hoisted_10","onClick","_cache","args","$options","toggleSearchBar","showSearchBar","toggleTagFilterManager","showTagFilterManager","tagFilters","_hoisted_11","filter","f","disabled","toggleRegexManager","regexScripts","_hoisted_12","s","_hoisted_13","toggleFavoritesPanel","showFavoritesPanel","favorites","_hoisted_14","openIntimacyModal","_createVNode","_component_Icon","icon","toggleReadingMode","readingMode","openExportRangeDialog","toggleStylePanel","showStylePanel","toggleDarkMode","_hoisted_15","_Fragment","key","resetReader","_hoisted_16","_hoisted_17","searchQuery","$event","onInput","onSearchInput","type","placeholder","clearSearch","title","_hoisted_18","_hoisted_19","filteredMessages","_hoisted_20","_hoisted_21","_hoisted_22","addNewTagFilter","tagFilterForm","id","_hoisted_23","_hoisted_24","name","_hoisted_25","tagName","_hoisted_26","mode","value","_hoisted_27","_hoisted_28","cancelEditTagFilter","saveTagFilter","_hoisted_29","_hoisted_30","_renderList","index","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","moveTagFilterUp","_hoisted_35","moveTagFilterDown","_hoisted_36","toggleTagFilter","_hoisted_37","editTagFilter","_hoisted_38","deleteTagFilter","_hoisted_39","showRegexManager","_hoisted_40","_hoisted_41","_hoisted_42","importScripts","importFromPNG","exportScripts","_hoisted_43","addNewScript","scriptForm","_hoisted_44","_hoisted_45","scriptName","_hoisted_46","findRegex","rows","_hoisted_47","replaceString","_hoisted_48","_hoisted_49","cancelEdit","saveScript","_hoisted_50","_hoisted_51","script","dragIndex","draggable","onDragstart","handleDragStart","onDragover","handleDragOver","onDrop","e","handleDrop","onDragend","handleDragEnd","_hoisted_53","_hoisted_54","_hoisted_55","substring","_hoisted_56","moveScriptUp","_hoisted_57","moveScriptDown","_hoisted_58","toggleScript","_hoisted_59","editScript","_hoisted_60","deleteScript","_hoisted_61","_hoisted_62","_hoisted_63","_hoisted_64","exportFavorites","_hoisted_65","clearAllFavorites","_hoisted_66","_hoisted_67","_hoisted_68","fav","navigateToFavorite","_hoisted_70","_hoisted_71","style","messageIndex","_hoisted_72","text","_hoisted_73","speaker","_hoisted_74","formatFavoriteTime","createdAt","_hoisted_75","_withModifiers","copyFavorite","deleteFavorite","_hoisted_77","_hoisted_78","_hoisted_79","_hoisted_80","resetStyles","_hoisted_81","_hoisted_82","_hoisted_83","textStyles","fontFamily","onChange","saveStylesToStorage","customFonts","_hoisted_84","font","_hoisted_85","showCustomFontDialog","_hoisted_86","_hoisted_87","_hoisted_88","fontSize","handleStyleChange","min","max","step","number","_hoisted_89","_hoisted_90","lineHeight","toFixed","_hoisted_91","_hoisted_92","paragraphSpacing","_hoisted_93","_hoisted_94","letterSpacing","_hoisted_95","_hoisted_96","_hoisted_97","textColor","_hoisted_98","_hoisted_99","_hoisted_100","italicColor","_hoisted_101","_hoisted_102","_hoisted_103","underlineColor","_hoisted_104","_hoisted_105","_hoisted_106","quoteColor","_hoisted_107","_hoisted_108","_hoisted_109","setTextAlign","textAlign","_hoisted_110","_normalizeStyle","getPreviewStyles","_hoisted_111","_hoisted_112","_hoisted_113","deleteCustomFont","_hoisted_114","_hoisted_115","_hoisted_116","_hoisted_117","_hoisted_118","customFontForm","_hoisted_119","_hoisted_120","url","file","_hoisted_122","ref","accept","handleFontFileSelect","_hoisted_124","_hoisted_125","resetCustomFontForm","addCustomFont","highlightMenu","show","left","x","top","y","removeHighlightFromMenu","getContentStyles","paginatedMessages","message","currentRange","start","is_user","_hoisted_126","_hoisted_127","_hoisted_128","send_date","_hoisted_129","model","_hoisted_130","toggleFavoriteMessage","getGlobalMessageIndex","isMessageFavorited","_hoisted_131","toggleEditMessage","editingMessageIndex","_hoisted_132","_hoisted_133","editingContent","_hoisted_134","cancelEditMessage","saveEditMessage","hasHTMLCodeBlock","getMessageContent","onMouseup","handleTextSelection","innerHTML","renderContentWithHTMLPlaceholder","isFullHTML","_hoisted_137","_hoisted_138","toggleHTMLPreview","showPreview","_hoisted_139","srcdoc","sandbox","_hoisted_141","renderContent","swipes","_hoisted_143","prevSwipe","currentSwipeIndex","_hoisted_144","_hoisted_145","nextSwipe","_hoisted_146","handleReadingClick","getReadingTransform","readingFullHtml","onReadingMouseUp","onTouchstart","onReadingTouchStart","onTouchend","onReadingTouchEnd","readingPrevPage","readingNextPage","toggleToolbar","toolbarVisible","_hoisted_148","readingCurrentPage","readingTotalPages","_hoisted_149","getReadingFloorRange","_hoisted_150","_hoisted_151","_hoisted_152","_hoisted_153","_hoisted_154","end","_hoisted_155","_hoisted_156","goToPage","currentPage","_hoisted_157","prevPage","_hoisted_158","_hoisted_159","totalPages","nextPage","_hoisted_160","_hoisted_161","pageSize","onPageSizeChange","_hoisted_1","_hoisted_2","handleFileUpload","for","selectionMenu","favoriteSelectedText","highlightSelectedText","copySelectedText","exportDialog","closeExportDialog","_hoisted_162","_hoisted_163","_hoisted_164","_hoisted_165","_hoisted_166","_hoisted_167","startFloor","_hoisted_169","endFloor","_hoisted_171","getExportCount","_hoisted_172","_hoisted_173","includeName","_hoisted_174","includeTime","_hoisted_175","_hoisted_176","getExportPreview","_hoisted_177","doExportRange","showIntimacyModal","_hoisted_178","_hoisted_179","_hoisted_180","_hoisted_181","_hoisted_182","_hoisted_183","intimacyData","firstDate","_hoisted_184","daysSince","_hoisted_185","_hoisted_186","activeDays","_hoisted_187","_hoisted_188","totalMessages","_hoisted_189","totalChars","_hoisted_190","_hoisted_191","totalRerolls","_hoisted_192","calendarMonths","_hoisted_193","_hoisted_194","prevMonth","currentMonthIndex","_hoisted_195","_hoisted_196","year","month","nextMonth","_hoisted_197","_hoisted_198","_hoisted_199","paddingStart","n","days","day","dateStr","level","count","onMouseenter","showDayTooltip","onMousemove","moveDayTooltip","onMouseleave","hideDayTooltip","_hoisted_201","dayNum","_hoisted_202","_hoisted_203","_hoisted_204","totalCount","_hoisted_205","_hoisted_206","_hoisted_207","tooltip","_hoisted_208","_hoisted_209","_hoisted_210","chars","components","Icon","data","rawData","editingScript","searchResults","currentSearchIndex","editingTagFilter","highlights","highlightId","colorOptions","readingTouchStartX","readingTouchStartY","toolbarTimeout","windowWidth","resizeTimer","keepReadingPagePosition","computed","this","trim","query","toLowerCase","msg","content","matches","includes","_originalIndex","Math","ceil","slice","mounted","document","body","overflow","loadScriptsFromStorage","loadTagFiltersFromStorage","loadFavoritesFromStorage","loadHighlightsFromStorage","loadStylesFromStorage","loadDarkMode","loadCustomFonts","replaceHTMLPlaceholders","addEventListener","hideSelectionMenu","window","handleKeydown","updated","hideHighlightMenu","onHighlightClick","beforeUnmount","removeEventListener","handleResize","clearTimeout","methods","blackColors","lightColor","oldGray","oldDim","backgroundColor","nightColors","localStorage","setItem","saved","getItem","event","target","files","reader","FileReader","onload","parseJSONL","result","readAsText","lines","split","forEach","line","JSON","parse","mes","isUser","Array","isArray","extra","force_avatar","swipe_id","push","error","console","codeBlockPattern","match","codeContent","hasDoctype","test","hasHtmlTag","extractHTMLFromCodeBlock","renderContentWithoutCodeBlock","processedContent","applyTagFilters","applyRegexScripts","withoutCodeBlock","replace","renderMarkdown","htmlContent","base64Html","btoa","unescape","encodeURIComponent","withPlaceholder","placeholders","$el","querySelectorAll","getAttribute","parentNode","decodeURIComponent","escape","atob","iframe","createElement","className","setAttribute","wrapper","appendChild","replaceChild","marked","setOptions","breaks","gfm","sanitize","mangle","headerIds","html","DOMPurify","getDOMPurifyConfig","ALLOWED_TAGS","ALLOWED_ATTR","ALLOW_DATA_ATTR","trimmed","startsWithHtml","localIndex","globalIndex","htmlBlocks","tempContent","i","styleIndex","indexOf","htmlEnd","afterStyle","lastDivEnd","divEnd","afterLastDiv","startsWith","htmlBlock","block","ph","undefined","applyHighlights","highlight","escapedText","regex","RegExp","formatDate","timestamp","date","Date","isNaN","getTime","parseInt","getFullYear","String","getMonth","padStart","getDate","hours","getHours","minutes","getMinutes","$refs","fileInput","scrollToTop","page","$nextTick","querySelector","scrollIntoView","behavior","input","focus","saveFavoritesToStorage","stringify","saveHighlightsToStorage","existingIndex","findIndex","splice","unshift","generateUUID","now","some","selection","getSelection","selectedText","toString","clientX","clientY","closest","removeAllRanges","generateReadingContent","deleteHighlight","h","dataset","preventDefault","stopPropagation","targetPage","floor","messageBlocks","classList","add","setTimeout","remove","navigator","clipboard","writeText","then","confirm","dataStr","blob","Blob","URL","createObjectURL","a","href","download","click","revokeObjectURL","saveTagFiltersToStorage","resetTagFilterForm","alert","temp","tags","map","t","tag","escapedTag","selfClosingRegex","exec","join","saveScriptsToStorage","resetScriptForm","dropIndex","draggedScript","c","r","random","v","multiple","onchange","async","from","successCount","scriptCount","readFile","Promise","resolve","err","results","all","scripts","newScript","arrayBuffer","charData","extractPNGChara","cardData","extensions","regex_scripts","importCount","bytes","Uint8Array","pngSignature","Error","offset","fromCharCode","nullIndex","keyword","TextDecoder","decode","base64Data","decodeBase64UTF8","base64","binaryString","charCodeAt","regexMatch","formatMessageForExport","floorNum","stripHtmlTags","previewCount","textContent","innerText","toISOString","charName","savedStyles","defaultColor","setTextColor","color","align","registerFontFace","saveCustomFonts","format","head","unregisterFontFace","fontId","getElementById","fontUrl","fileToDataUrl","getFontFormat","newFont","reject","onerror","readAsDataURL","filename","ext","pop","formatMap","fontFileInput","getFontFamily","fontMap","customFont","find","fullContent","messagesToRender","startFloorIndex","contentEl","readingContentEl","width","updateColumnWidth","calculateTotalPages","columnWidth","innerWidth","parseSTDate","dateInput","isoStr","d","warn","fixedStr","pageWidth","contentWidth","scrollWidth","offsetWidth","transform","leftZone","rightZone","showReadingMenu","touches","touchEndX","changedTouches","touchEndY","deltaX","deltaY","abs","range","getRangeAt","container","commonAncestorContainer","el","nodeType","parentElement","contains","hasAttribute","calculateIntimacyStats","validMessages","m","sortedMsgs","sort","b","tA","tB","dayMap","Map","msgLen","has","set","dayData","get","firstDateObj","lastDateObj","toLocaleDateString","monthsData","currentYear","currentMonth","endYear","endMonth","daysInMonth","firstDayObj","getDay","monthTotalCount","monthTotalChars","mStr","dStr","reverse","size","updateTooltipPos","__exports__","render","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","definition","o","defineProperty","enumerable","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"ignoreList":[],"sourceRoot":""}