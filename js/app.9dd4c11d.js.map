{"version":3,"file":"js/app.9dd4c11d.js","mappings":"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","sources":["webpack://st_reader/./src/App.vue","webpack://st_reader/./src/App.vue?7ccd","webpack://st_reader/./src/main.js","webpack://st_reader/webpack/bootstrap","webpack://st_reader/webpack/runtime/chunk loaded","webpack://st_reader/webpack/runtime/compat get default export","webpack://st_reader/webpack/runtime/define property getters","webpack://st_reader/webpack/runtime/global","webpack://st_reader/webpack/runtime/hasOwnProperty shorthand","webpack://st_reader/webpack/runtime/jsonp chunk loading","webpack://st_reader/webpack/startup"],"sourcesContent":["<template>\n  <div :class=\"['st-reader', { 'dark-mode': isDarkMode }]\">\n\n    <div v-if=\"viewMode === 'home'\" class=\"upload-area\">\n      <div class=\"upload-container\">\n        <div v-if=\"!loadingStatus\" class=\"upload-card single-upload\">\n          <input type=\"file\" ref=\"fileInput\" @change=\"handleFileUpload\" accept=\".jsonl\" id=\"file-input\"\n            class=\"file-input\" />\n          <label for=\"file-input\" class=\"upload-label\">\n            <Icon icon=\"bi:file-earmark-text\" class=\"upload-icon\" />\n            <div class=\"upload-text\"></div>\n            <div class=\"upload-hint\"> .jsonl </div>\n          </label>\n        </div>\n\n        <div v-if=\"!loadingStatus\" class=\"upload-card zip-upload\">\n          <input type=\"file\" ref=\"zipInput\" @change=\"handleZipUpload\" accept=\".zip\" id=\"zip-input\" class=\"file-input\" />\n          <label for=\"zip-input\" class=\"upload-label\">\n            <Icon icon=\"bi:file-earmark-zip\" class=\"upload-icon\" />\n            <div class=\"upload-text\"></div>\n            <div class=\"upload-hint\"> ZIP     </div>\n          </label>\n        </div>\n\n        <div v-if=\"loadingStatus\" class=\"loading-status\">\n          <div class=\"spinner\"></div>\n          {{ loadingStatus }}\n        </div>\n      </div>\n    </div>\n\n    <div v-else-if=\"viewMode === 'dashboard'\" class=\"dashboard-container\">\n      <div class=\"dashboard-header\">\n        <div class=\"header-column\">\n          <button @click=\"resetReader\" class=\"back-btn\">\n            <Icon icon=\"akar-icons:arrow-left\" /> \n          </button>\n\n          <div class=\"header-title-row\">\n            <h1></h1>\n            <div class=\"dashboard-meta\">\n               {{ dashboardData.totalFiles }} \n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"dashboard-content\">\n        <div class=\"stats-overview\">\n          <div class=\"stat-hero\">\n            <div class=\"hero-value\">{{ dashboardData.totalEffectiveCN.toLocaleString() }}</div>\n            <div class=\"hero-label\"> ()</div>\n          </div>\n\n          <div class=\"stat-divider\"></div>\n\n          <div class=\"stat-sub-row\">\n            <div class=\"sub-stat\">\n              <div class=\"sub-value\">{{ Object.keys(dashboardData.groups).length }}</div>\n              <div class=\"sub-label\"></div>\n            </div>\n\n            <div class=\"sub-stat\">\n              <div class=\"sub-value\">{{ dashboardData.totalTurns.toLocaleString() }}</div>\n              <div class=\"sub-label\"></div>\n            </div>\n\n            <div class=\"sub-stat\">\n              <div class=\"sub-value\">{{ dashboardData.totalRerolls.toLocaleString() }}</div>\n              <div class=\"sub-label\">Roll</div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"dashboard-calendar-section\" v-if=\"dashboardCalendar.months.length > 0\">\n\n          <div class=\"dash-cal-header\">\n            <div class=\"dash-cal-title\">\n              <Icon icon=\"bi:calendar-check\" /> \n            </div>\n\n            <div class=\"dash-cal-meta\">\n               {{ dashboardCalendar.activeDays }}    {{ dashboardCalendar.totalMessages }} \n            </div>\n\n            <button class=\"view-toggle-btn\"\n              @click=\"calendarViewMode = (calendarViewMode === 'month' ? 'year' : 'month')\">\n              <Icon :icon=\"calendarViewMode === 'month' ? 'bi:grid-3x3' : 'bi:calendar-date'\" />\n              {{ calendarViewMode === 'month' ? '' : '' }}\n            </button>\n          </div>\n\n          <div v-if=\"calendarViewMode === 'month'\" class=\"calendar-widget dashboard-widget\">\n            <div class=\"calendar-nav\">\n              <button @click=\"prevDashMonth\"\n                :disabled=\"dashboardCalendar.currentMonthIdx >= dashboardCalendar.months.length - 1\"\n                class=\"nav-btn\"></button>\n\n              <div class=\"current-month-label\">\n                {{ dashboardCalendar.months[dashboardCalendar.currentMonthIdx].year }}\n                {{ dashboardCalendar.months[dashboardCalendar.currentMonthIdx].month }}\n              </div>\n\n              <button @click=\"nextDashMonth\" :disabled=\"dashboardCalendar.currentMonthIdx <= 0\"\n                class=\"nav-btn\"></button>\n            </div>\n\n            <div class=\"month-card single-view\">\n              <div class=\"month-grid\">\n                <div class=\"weekday-header\"></div>\n                <div class=\"weekday-header\"></div>\n                <div class=\"weekday-header\"></div>\n                <div class=\"weekday-header\"></div>\n                <div class=\"weekday-header\"></div>\n                <div class=\"weekday-header\"></div>\n                <div class=\"weekday-header\"></div>\n\n                <div v-for=\"n in dashboardCalendar.months[dashboardCalendar.currentMonthIdx].paddingStart\"\n                  :key=\"'pad-' + n\" class=\"day-cell padding\"></div>\n\n                <div v-for=\"day in dashboardCalendar.months[dashboardCalendar.currentMonthIdx].days\" :key=\"day.dateStr\"\n                  :class=\"['day-cell', { 'has-data': day.count > 0 }]\" :style=\"{ backgroundColor: day.bgStyle }\"\n                  @mouseenter=\"showDayTooltip($event, day)\" @mouseleave=\"hideDayTooltip\"\n                  @mousemove=\"moveDayTooltip($event)\">\n                  <span class=\"day-number\">{{ day.dayNum }}</span>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"month-footer-stats\">\n              <div class=\"footer-stat\">\n                <span class=\"f-label\"></span>\n                <span class=\"f-value\">{{\n                  dashboardCalendar.months[dashboardCalendar.currentMonthIdx].totalCount.toLocaleString() }}</span>\n              </div>\n              <div class=\"footer-divider\"></div>\n              <div class=\"footer-stat\">\n                <span class=\"f-label\"></span>\n                <span class=\"f-value\">{{\n                  dashboardCalendar.months[dashboardCalendar.currentMonthIdx].totalChars.toLocaleString() }}</span>\n              </div>\n            </div>\n          </div>\n\n          <div v-else class=\"heatmap-widget\">\n\n            <div class=\"calendar-nav\">\n              <button @click=\"prevHeatmapYear\" :disabled=\"currentHeatmapYear <= heatmapYears[0]\"\n                class=\"nav-btn\"></button>\n\n              <div class=\"current-month-label\">\n                {{ currentHeatmapYear }} \n              </div>\n\n              <button @click=\"nextHeatmapYear\" :disabled=\"currentHeatmapYear >= heatmapYears[heatmapYears.length - 1]\"\n                class=\"nav-btn\"></button>\n            </div>\n\n            <div class=\"heatmap-scroll-container\">\n              <div class=\"heatmap-grid\">\n                <div class=\"heatmap-week-labels\">\n                  <span></span><span>&nbsp;</span><span></span><span>&nbsp;</span><span></span><span>&nbsp;</span><span></span>\n                </div>\n\n                <template v-if=\"currentHeatmapYear && heatmapData[currentHeatmapYear]\">\n                  <div v-for=\"(week, wIndex) in heatmapData[currentHeatmapYear]\" :key=\"wIndex\" class=\"heatmap-col\">\n                    <div v-for=\"(day, dIndex) in week\" :key=\"dIndex\"\n                      :class=\"['heatmap-cell', { 'empty': !day || !day.hasData }]\"\n                      :style=\"{ backgroundColor: (day && day.hasData) ? day.bgStyle : '' }\"\n                      @mouseenter=\"day && showDayTooltip($event, day)\" @mouseleave=\"hideDayTooltip\"\n                      @mousemove=\"moveDayTooltip($event)\">\n                    </div>\n                  </div>\n                </template>\n\n                <div v-else style=\"padding: 20px; color:#999; font-size:0.9rem;\">\n                  \n                </div>\n              </div>\n            </div>\n\n            <div class=\"heatmap-footer\">\n              <div class=\"heatmap-legend\">\n                <span></span>\n                <span class=\"legend-item level-1\" style=\"background: rgb(248, 187, 208)\"></span>\n                <span class=\"legend-item level-2\" style=\"background: rgb(233, 30, 99)\"></span>\n                <span class=\"legend-item level-3\" style=\"background: rgb(136, 14, 79)\"></span>\n                <span></span>\n              </div>\n              <div class=\"heatmap-hint\"> *  {{ heatmapData[currentHeatmapYear]?.length || 0 }}  </div>\n            </div>\n          </div>\n\n        </div>\n\n        <div class=\"filter-bar\">\n          <input v-model=\"dashboardSearch\" type=\"text\" placeholder=\"...\" class=\"dash-search-input\"\n            style=\"padding-left: 2.5rem;\" />\n        </div>\n\n        <div class=\"character-groups\">\n          <div v-for=\"(files, charName) in filteredDashboardGroups\" :key=\"charName\" class=\"char-group\">\n            <div class=\"char-header\">\n              <div class=\"char-header-left\">\n                <div class=\"char-name\">\n                  <Icon icon=\"bxs:user\" class=\"char-icon\" />\n                  {{ charName }}\n                </div>\n                <div class=\"char-stats\">\n                  {{ files.length }}   {{(files.reduce((a, b) => a + b.effectiveCN, 0)).toLocaleString()}} \n                </div>\n              </div>\n\n              <button @click.stop=\"openDashboardIntimacy(charName, files)\"\n                class=\"action-button intimacy-btn icon-only-btn\" title=\"\">\n                <Icon icon=\"bxs:heart\" class=\"heart-icon\" />\n              </button>\n            </div>\n\n            <div class=\"file-grid\">\n              <div v-for=\"file in files\" :key=\"file.fileName\" class=\"file-card\" @click=\"openChatFromDashboard(file)\">\n                <div class=\"file-info\">\n                  <div class=\"file-name\" :title=\"file.fileName\">{{ file.fileName }}</div>\n                  <div class=\"file-meta\">\n                    <span class=\"meta-tag cn\">{{ file.effectiveCN.toLocaleString() }} </span>\n                    <span class=\"meta-tag turns\">{{ file.totalTurns }} </span>\n                  </div>\n                </div>\n                <div class=\"file-date\">{{ file.lastDate }}</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n\n    <div v-else class=\"chat-container\">\n      <div class=\"chat-header\">\n        <div class=\"header-content\">\n          <button v-if=\"fromDashboard\" @click=\"backToDashboard\" class=\"back-link-btn\">\n            <Icon icon=\"akar-icons:arrow-left\" /> \n          </button>\n\n          <h1 class=\"chat-title\">{{ metadata.character_name || '' }}</h1>\n          <div class=\"chat-meta\">\n            <span v-if=\"metadata.create_date\">{{ metadata.create_date }}</span>\n            <span class=\"message-count\">{{ messages.length }} </span>\n          </div>\n        </div>\n\n        <div class=\"header-actions\">\n          <button @click=\"toggleSearchBar\" :class=\"['action-button', 'search-toggle', { 'active': showSearchBar }]\">\n            \n          </button>\n\n          <button @click=\"toggleTagFilterManager\" :class=\"['action-button', { 'active': showTagFilterManager }]\">\n             <span v-if=\"tagFilters.length\">({{tagFilters.filter(f => !f.disabled).length}})</span>\n          </button>\n\n          <button @click=\"toggleRegexManager\"\n            :class=\"['action-button', 'regex-button', { 'active': showRegexManager }]\">\n             <span v-if=\"regexScripts.length\">({{regexScripts.filter(s => !s.disabled).length}})</span>\n          </button>\n\n          <button @click=\"toggleFavoritesPanel\" :class=\"['action-button', { 'active': showFavoritesPanel }]\">\n             <span v-if=\"favorites.length\">({{ favorites.length }})</span>\n          </button>\n\n          <button @click=\"openIntimacyModal\" class=\"action-button intimacy-btn\">\n            <Icon icon=\"bxs:heart\" class=\"heart-icon\" /> \n          </button>\n\n          <button @click=\"toggleReadingMode\" :class=\"['action-button', 'reading-mode-btn', { 'active': readingMode }]\">\n            \n          </button>\n\n          <button @click=\"openExportRangeDialog\" class=\"action-button\">\n            \n          </button>\n\n          <button @click=\"toggleStylePanel\" :class=\"['action-button', { 'active': showStylePanel }]\">\n            \n          </button>\n\n          <button @click=\"toggleDarkMode\" class=\"action-button mode-toggle\">\n            <div class=\"icon-label-row\">\n              <template v-if=\"isDarkMode\">\n                <Icon icon=\"heroicons-solid:sun\" class=\"mode-icon sun\" />\n                <span></span>\n              </template>\n\n              <template v-else>\n                <Icon icon=\"bxs:moon\" class=\"mode-icon moon\" />\n                <span></span>\n              </template>\n            </div>\n          </button>\n\n          <button @click=\"resetReader\" class=\"reset-button\"></button>\n        </div>\n      </div>\n\n      <div v-if=\"showSearchBar\" class=\"search-bar\">\n        <div class=\"search-input-wrapper\">\n          <input v-model=\"searchQuery\" @input=\"onSearchInput\" type=\"text\" class=\"search-input\"\n            placeholder=\"...\" />\n          <button v-if=\"searchQuery\" @click=\"clearSearch\" class=\"search-clear\" title=\"\"></button>\n        </div>\n        <div class=\"search-info\">\n          <span v-if=\"searchQuery\">\n             {{ filteredMessages.length }} \n          </span>\n        </div>\n      </div>\n\n      <div v-if=\"showTagFilterManager\" class=\"regex-manager tag-filter-manager\">\n        <div class=\"regex-header\">\n          <h2></h2>\n          <div class=\"regex-actions\">\n            <button @click=\"addNewTagFilter\" class=\"btn btn-primary\"></button>\n          </div>\n        </div>\n\n        <div v-if=\"tagFilterForm.id\" class=\"script-form\">\n          <div class=\"form-group\">\n            <label></label>\n            <input v-model=\"tagFilterForm.name\" type=\"text\" placeholder=\"\" />\n          </div>\n          <div class=\"form-group\">\n            <label></label>\n            <input v-model=\"tagFilterForm.tagName\" type=\"text\" placeholder=\"think  thinking\" />\n            <div class=\"form-hint\">think,thinking,disclaimer</div>\n          </div>\n          <div class=\"form-group\">\n            <label></label>\n            <select v-model=\"tagFilterForm.mode\" class=\"form-select\">\n              <option value=\"remove\"></option>\n              <option value=\"keep\"></option>\n              <option value=\"unwrap\"></option>\n            </select>\n          </div>\n          <div class=\"form-group checkbox-group\">\n            <label>\n              <input v-model=\"tagFilterForm.disabled\" type=\"checkbox\" />\n              \n            </label>\n          </div>\n          <div class=\"form-buttons\">\n            <button @click=\"cancelEditTagFilter\" class=\"btn btn-secondary\"></button>\n            <button @click=\"saveTagFilter\" class=\"btn btn-primary\"></button>\n          </div>\n        </div>\n\n        <div class=\"script-list\">\n          <div v-if=\"!tagFilters.length\" class=\"no-scripts\">\n            \"\"\n          </div>\n          <div v-for=\"(filter, index) in tagFilters\" :key=\"filter.id\"\n            :class=\"['script-item', { 'disabled': filter.disabled }]\">\n            <div class=\"script-info\">\n              <div class=\"script-name\">{{ filter.name }}</div>\n              <div class=\"script-regex\">\n                {{ filter.mode === 'remove' ? '' : filter.mode === 'keep' ? '' : '' }}:\n                &lt;{{ filter.tagName }}&gt;\n              </div>\n            </div>\n            <div class=\"script-controls\">\n              <button @click=\"moveTagFilterUp(index)\" :disabled=\"index === 0\" class=\"btn-icon\" title=\"\"></button>\n              <button @click=\"moveTagFilterDown(index)\" :disabled=\"index === tagFilters.length - 1\" class=\"btn-icon\"\n                title=\"\"></button>\n              <button @click=\"toggleTagFilter(filter)\" :class=\"['btn-toggle', { 'active': !filter.disabled }]\">\n                {{ filter.disabled ? '' : '' }}\n              </button>\n              <button @click=\"editTagFilter(filter)\" class=\"btn-icon\" title=\"\"></button>\n              <button @click=\"deleteTagFilter(filter.id)\" class=\"btn-icon btn-danger\" title=\"\"></button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div v-if=\"showRegexManager\" class=\"regex-manager\">\n        <div class=\"regex-header\">\n          <h2></h2>\n          <div class=\"regex-actions\">\n            <button @click=\"importScripts\" class=\"btn btn-secondary\">JSON</button>\n            <button @click=\"importFromCardOrPreset\" class=\"btn btn-secondary\">/</button>\n            <button @click=\"exportScripts\" class=\"btn btn-secondary\" :disabled=\"!regexScripts.length\"></button>\n            <button @click=\"addNewScript\" class=\"btn btn-primary\"></button>\n          </div>\n        </div>\n\n        <div v-if=\"scriptForm.id\" class=\"script-form\">\n          <div class=\"form-group\">\n            <label></label>\n            <input v-model=\"scriptForm.scriptName\" type=\"text\" placeholder=\"\" />\n          </div>\n          <div class=\"form-group\">\n            <label></label>\n            <textarea v-model=\"scriptForm.findRegex\" placeholder=\"/(<think>[\\s\\S]*?</think>)/gs\" rows=\"3\"></textarea>\n            <div class=\"form-hint\">/pattern/flags  g </div>\n          </div>\n          <div class=\"form-group\">\n            <label></label>\n            <input v-model=\"scriptForm.replaceString\" type=\"text\" placeholder=\"\" />\n          </div>\n          <div class=\"form-group checkbox-group\">\n            <label>\n              <input v-model=\"scriptForm.disabled\" type=\"checkbox\" />\n              \n            </label>\n          </div>\n          <div class=\"form-buttons\">\n            <button @click=\"cancelEdit\" class=\"btn btn-secondary\"></button>\n            <button @click=\"saveScript\" class=\"btn btn-primary\"></button>\n          </div>\n        </div>\n\n        <div class=\"script-list\">\n          <div v-if=\"!regexScripts.length\" class=\"no-scripts\">\n            \"\"\"\"\n          </div>\n          <div v-for=\"(script, index) in regexScripts\" :key=\"script.id\"\n            :class=\"['script-item', { 'disabled': script.disabled, 'dragging': dragIndex === index }]\" draggable=\"true\"\n            @dragstart=\"handleDragStart(index)\" @dragover=\"handleDragOver\" @drop=\"(e) => handleDrop(e, index)\"\n            @dragend=\"handleDragEnd\">\n            <div class=\"script-drag-handle\"></div>\n            <div class=\"script-info\">\n              <div class=\"script-name\">{{ script.scriptName }}</div>\n              <div class=\"script-regex\">{{ script.findRegex.substring(0, 60) }}{{ script.findRegex.length > 60 ? '...' :\n                '' }}\n              </div>\n            </div>\n            <div class=\"script-controls\">\n              <button @click=\"moveScriptUp(index)\" :disabled=\"index === 0\" class=\"btn-icon\" title=\"\"></button>\n              <button @click=\"moveScriptDown(index)\" :disabled=\"index === regexScripts.length - 1\" class=\"btn-icon\"\n                title=\"\"></button>\n              <button @click=\"toggleScript(script)\" :class=\"['btn-toggle', { 'active': !script.disabled }]\">\n                {{ script.disabled ? '' : '' }}\n              </button>\n              <button @click=\"editScript(script)\" class=\"btn-icon\" title=\"\"></button>\n              <button @click=\"deleteScript(script.id)\" class=\"btn-icon btn-danger\" title=\"\"></button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div v-if=\"showFavoritesPanel\" class=\"regex-manager favorites-panel\">\n\n        <div class=\"fav-header-minimal\">\n          <h2 style=\"margin:0 0 10px 0; font-size:1.1rem;\"></h2>\n\n          <div class=\"fav-toolbar\">\n            <div class=\"fav-tabs-simple\">\n              <button @click=\"switchToCurrentFavorites\" :class=\"['simple-tab', { active: !viewingGlobalFavorites }]\">\n                \n              </button>\n              <button @click=\"switchToGlobalFavorites\" :class=\"['simple-tab', { active: viewingGlobalFavorites }]\">\n                \n              </button>\n            </div>\n\n            <div class=\"fav-actions-simple\">\n              <template v-if=\"!viewingGlobalFavorites\">\n                <button @click=\"triggerImportFavorites\" class=\"btn btn-secondary btn-xs\"></button>\n                <button @click=\"exportFavorites\" class=\"btn btn-secondary btn-xs\"\n                  :disabled=\"!favorites.length\"></button>\n                <button @click=\"clearAllFavorites\" class=\"btn btn-secondary btn-xs\"\n                  :disabled=\"!favorites.length\"></button>\n              </template>\n              <template v-else>\n                <button @click=\"exportGlobalFavorites\" class=\"btn btn-primary btn-xs\"></button>\n              </template>\n            </div>\n          </div>\n        </div>\n\n        <div v-if=\"!viewingGlobalFavorites\" class=\"script-list favorites-list\">\n          <div v-if=\"!favorites.length\" class=\"no-scripts\">\n            \n            <br><span style=\"font-size:0.8em; opacity:0.7\"></span>\n          </div>\n\n          <div v-for=\"fav in favorites\" :key=\"fav.id\" class=\"favorite-item\" @click=\"navigateToFavorite(fav)\"\n            title=\"\">\n            <div class=\"favorite-content\">\n              <div class=\"favorite-type\">\n                <template v-if=\"fav.type === 'message'\">\n                  <Icon icon=\"icon-park-twotone:copy\" style=\"vertical-align: -2px; margin-right:2px;\" />\n                  <span style=\"font-weight:bold; margin-right:4px;\"></span>\n                </template>\n                <template v-else>\n                  <Icon icon=\"ri:draft-line\" style=\"vertical-align: -2px; margin-right:2px;\" />\n                  <span style=\"font-weight:bold; margin-right:4px;\"></span>\n                </template>\n                <span style=\"color:#999; font-size:0.9em;\">#{{ fav.messageIndex + 1 }}</span>\n              </div>\n\n              <div class=\"favorite-text\">{{ fav.text.substring(0, 100) }}{{ fav.text.length > 100 ? '...' : '' }}</div>\n\n              <div class=\"favorite-meta\">\n                <span v-if=\"fav.speaker\" style=\"font-weight:bold; color:#555;\">{{ fav.speaker }}</span>\n                <span>{{ formatFavoriteTime(fav.createdAt) }}</span>\n              </div>\n            </div>\n\n            <div class=\"favorite-actions\">\n              <button @click.stop=\"copyFavorite(fav)\" class=\"btn-icon\" title=\"\">\n                <Icon icon=\"icon-park-twotone:copy\" />\n              </button>\n              <button @click.stop=\"deleteFavorite(fav.id)\" class=\"btn-icon btn-danger\" title=\"\"></button>\n            </div>\n          </div>\n        </div>\n\n        <div v-else class=\"script-list favorites-list\">\n          <div v-if=\"!globalFavoritesList.length\" class=\"no-scripts\">\n            \n          </div>\n\n          <div v-for=\"group in globalFavoritesList\" :key=\"group.fileName\" style=\"margin-bottom:15px;\">\n            <div\n              style=\"background:#f9f9f9; padding:6px 10px; font-weight:bold; font-size:0.85rem; border-bottom:1px solid #eee; color:#444; display:flex; align-items:center; gap:5px;\">\n              <Icon icon=\"bi:file-earmark-text\" /> {{ group.fileName }}\n            </div>\n\n            <div v-for=\"fav in group.items\" :key=\"fav.id\" class=\"favorite-item\">\n              <div class=\"favorite-content\">\n                <div class=\"favorite-type\">\n                  <template v-if=\"fav.type === 'message'\">\n                    <Icon icon=\"icon-park-twotone:copy\" style=\"vertical-align: -2px; margin-right:2px;\" />\n                    <span style=\"font-weight:bold;\"></span>\n                  </template>\n                  <template v-else>\n                    <Icon icon=\"ri:draft-line\" style=\"vertical-align: -2px; margin-right:2px;\" />\n                    <span style=\"font-weight:bold;\"></span>\n                  </template>\n                  <span style=\"color:#999; margin-left:5px;\">#{{ fav.messageIndex + 1 }}</span>\n\n                  <span v-if=\"group.fileName !== currentFileName\"\n                    style=\"color:#e91e63; font-size:0.7rem; margin-left:8px; border:1px solid #e91e63; padding:0 3px; border-radius:3px; opacity:0.8;\">\n                    \n                  </span>\n                </div>\n\n                <div class=\"favorite-text\" style=\"color:#666;\">{{ fav.text.substring(0, 80) }}...</div>\n              </div>\n              <div class=\"favorite-actions\">\n                <button @click.stop=\"copyFavorite(fav)\" class=\"btn-icon\" title=\"\">\n                  <Icon icon=\"icon-park-twotone:copy\" />\n                </button>\n                <button @click.stop=\"deleteGlobalFavorite(group.fileName, fav.id)\" class=\"btn-icon btn-danger\"\n                  title=\"\"></button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div v-if=\"showStylePanel\" class=\"regex-manager style-panel\">\n        <div class=\"regex-header\">\n          <h2></h2>\n          <div class=\"regex-actions\">\n            <button @click=\"resetStyles\" class=\"btn btn-secondary\"></button>\n          </div>\n        </div>\n\n        <div class=\"style-settings\">\n          <div class=\"style-group font-group\">\n            <label class=\"style-label\"></label>\n            <div class=\"style-flex-row\">\n              <select v-model=\"textStyles.fontFamily\" @change=\"saveStylesToStorage\" class=\"style-select\">\n                <optgroup label=\"\">\n                  <option value=\"system\"></option>\n                  <option value=\"serif\"> / </option>\n                  <option value=\"sans-serif\"> / </option>\n                  <option value=\"kaiti\"></option>\n                  <option value=\"fangsong\"></option>\n                  <option value=\"monospace\"></option>\n                </optgroup>\n                <optgroup label=\"\">\n                  <option value=\"alegreya\">Alegreya</option>\n                  <option value=\"cangeryunhei\"></option>\n                  <option value=\"huiwenmingchao\"></option>\n                  <option value=\"kongmingchao\">/</option>\n                  <option value=\"pingxianzhensong\"></option>\n                  <option value=\"wenyueminguofangsong\"></option>\n                </optgroup>\n                <optgroup v-if=\"customFonts.length\" label=\"\">\n                  <option v-for=\"font in customFonts\" :key=\"font.id\" :value=\"'custom-' + font.id\">\n                    {{ font.name }}\n                  </option>\n                </optgroup>\n              </select>\n              <button @click=\"showCustomFontDialog = true\" class=\"btn btn-secondary btn-sm compact-btn\" title=\"\">\n                + \n              </button>\n            </div>\n          </div>\n\n          <div class=\"sliders-grid\">\n            <div class=\"style-group compact-group\">\n              <label class=\"style-label\"> / {{ textStyles.fontSize }}px</label>\n              <input type=\"range\" v-model.number=\"textStyles.fontSize\" @input=\"handleStyleChange\" min=\"12\" max=\"32\"\n                step=\"1\" class=\"style-slider\" />\n            </div>\n\n            <div class=\"style-group compact-group\">\n              <label class=\"style-label\"> / {{ textStyles.lineHeight.toFixed(1) }}</label>\n              <input type=\"range\" v-model.number=\"textStyles.lineHeight\" @input=\"handleStyleChange\" min=\"1.2\" max=\"3\"\n                step=\"0.1\" class=\"style-slider\" />\n            </div>\n\n            <div class=\"style-group compact-group\">\n              <label class=\"style-label\"> / {{ textStyles.paragraphSpacing.toFixed(1) }}em</label>\n              <input type=\"range\" v-model.number=\"textStyles.paragraphSpacing\" @input=\"handleStyleChange\" min=\"0\"\n                max=\"2\" step=\"0.1\" class=\"style-slider\" />\n            </div>\n\n            <div class=\"style-group compact-group\">\n              <label class=\"style-label\"> / {{ textStyles.letterSpacing }}px</label>\n              <input type=\"range\" v-model.number=\"textStyles.letterSpacing\" @input=\"handleStyleChange\" min=\"-2\" max=\"10\"\n                step=\"0.5\" class=\"style-slider\" />\n            </div>\n          </div>\n\n          <hr class=\"style-divider\">\n\n          <div class=\"color-grid\">\n            <div class=\"style-group compact-group\">\n              <label class=\"style-label\"></label>\n              <div class=\"color-picker-row\">\n                <input type=\"color\" v-model=\"textStyles.textColor\" @change=\"saveStylesToStorage\" class=\"color-input\">\n                <span class=\"color-value\">{{ textStyles.textColor }}</span>\n              </div>\n            </div>\n\n            <div class=\"style-group compact-group\">\n              <label class=\"style-label\"> (*text*)</label>\n              <div class=\"color-picker-row\">\n                <input type=\"color\" v-model=\"textStyles.italicColor\" @change=\"saveStylesToStorage\" class=\"color-input\">\n                <span class=\"color-value\">{{ textStyles.italicColor }}</span>\n              </div>\n            </div>\n\n            <div class=\"style-group compact-group\">\n              <label class=\"style-label\"> (&lt;u&gt;)</label>\n              <div class=\"color-picker-row\">\n                <input type=\"color\" v-model=\"textStyles.underlineColor\" @change=\"saveStylesToStorage\"\n                  class=\"color-input\">\n                <span class=\"color-value\">{{ textStyles.underlineColor }}</span>\n              </div>\n            </div>\n\n            <div class=\"style-group compact-group\">\n              <label class=\"style-label\"> ( > )</label>\n              <div class=\"color-picker-row\">\n                <input type=\"color\" v-model=\"textStyles.quoteColor\" @change=\"saveStylesToStorage\" class=\"color-input\">\n                <span class=\"color-value\">{{ textStyles.quoteColor }}</span>\n              </div>\n            </div>\n          </div>\n\n          <hr class=\"style-divider\">\n\n          <div class=\"style-group\">\n            <label class=\"style-label\"></label>\n            <div class=\"align-options\">\n              <button @click=\"setTextAlign('left')\"\n                :class=\"['align-btn', { 'active': textStyles.textAlign === 'left' }]\" title=\"\"></button>\n              <button @click=\"setTextAlign('justify')\"\n                :class=\"['align-btn', { 'active': textStyles.textAlign === 'justify' }]\" title=\"\"></button>\n              <button @click=\"setTextAlign('center')\"\n                :class=\"['align-btn', { 'active': textStyles.textAlign === 'center' }]\" title=\"\"></button>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"style-preview\">\n          <div class=\"style-preview-label\"></div>\n          <div class=\"style-preview-content\" :style=\"getPreviewStyles()\">\n            <p>\n              \n            </p>\n\n            <p>\n              <em>**</em>\n            </p>\n\n            <p>\n               <u></u>\n            </p>\n\n            <blockquote>\n              <br>\n              <br>\n              \n            </blockquote>\n          </div>\n        </div>\n\n        <div v-if=\"customFonts.length\" class=\"custom-fonts-section\">\n          <div class=\"style-label\"></div>\n          <div class=\"custom-font-list\">\n            <div v-for=\"font in customFonts\" :key=\"font.id\" class=\"custom-font-item\">\n              <span class=\"custom-font-name\">{{ font.name }}</span>\n              <button @click=\"deleteCustomFont(font.id)\" class=\"btn-icon btn-danger\" title=\"\"></button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div v-if=\"showCustomFontDialog\" class=\"modal-overlay\" @click.self=\"showCustomFontDialog = false\">\n        <div class=\"modal-dialog custom-font-dialog\">\n          <div class=\"modal-header\">\n            <h3></h3>\n            <button @click=\"showCustomFontDialog = false\" class=\"modal-close\"></button>\n          </div>\n          <div class=\"modal-body\">\n            <div class=\"form-group\">\n              <label> <span class=\"required\">*</span></label>\n              <input v-model=\"customFontForm.name\" type=\"text\" placeholder=\"\" class=\"form-input\" />\n            </div>\n\n            <div class=\"import-tabs\">\n              <div class=\"import-method\">\n                <div class=\"import-method-header\">URL</div>\n                <input v-model=\"customFontForm.url\" type=\"text\" placeholder=\"URL ttf/otf/woff/woff2\"\n                  class=\"form-input\" :disabled=\"!!customFontForm.file\" />\n              </div>\n\n              <div class=\"import-divider\"></div>\n\n              <div class=\"import-method\">\n                <div class=\"import-method-header\"></div>\n                <input ref=\"fontFileInput\" type=\"file\" accept=\".ttf,.otf,.woff,.woff2\" @change=\"handleFontFileSelect\"\n                  class=\"form-file-input\" :disabled=\"!!customFontForm.url\" />\n                <div v-if=\"customFontForm.file\" class=\"file-selected\">\n                  : {{ customFontForm.file.name }}\n                </div>\n              </div>\n            </div>\n\n            <div class=\"form-hint\">\n              TTFOTFWOFFWOFF2<br>\n              Base64\n            </div>\n          </div>\n          <div class=\"modal-footer\">\n            <button @click=\"resetCustomFontForm\" class=\"btn btn-secondary\"></button>\n            <button @click=\"addCustomFont\" class=\"btn btn-primary\"></button>\n          </div>\n        </div>\n      </div>\n\n      <div v-if=\"highlightMenu.show\" class=\"highlight-menu\"\n        :style=\"{ left: highlightMenu.x + 'px', top: highlightMenu.y + 'px' }\">\n        <button @click=\"removeHighlightFromMenu\" class=\"selection-btn\"> </button>\n      </div>\n\n      <div v-if=\"!readingMode\" class=\"messages-wrapper\" :style=\"getContentStyles()\">\n        <div v-for=\"(message, index) in paginatedMessages\" :key=\"currentRange.start + index\"\n          :class=\"['message-block', { 'user-message': message.is_user }]\">\n          <div class=\"message-header\">\n            <span class=\"speaker-name\">{{ message.name }}</span>\n            <div class=\"message-info\">\n              <span v-if=\"message.send_date\" class=\"timestamp\">{{ message.send_date }}</span>\n              <span v-if=\"message.model\" class=\"model-tag\">{{ message.model }}</span>\n              <button @click=\"toggleFavoriteMessage(getGlobalMessageIndex(index), message)\"\n                :class=\"['edit-btn', { 'favorited': isMessageFavorited(getGlobalMessageIndex(index)) }]\"\n                :title=\"isMessageFavorited(getGlobalMessageIndex(index)) ? '' : ''\">\n                {{ isMessageFavorited(getGlobalMessageIndex(index)) ? '' : '' }}\n              </button>\n              <button @click=\"toggleEditMessage(getGlobalMessageIndex(index))\" class=\"edit-btn\"\n                :title=\"editingMessageIndex === getGlobalMessageIndex(index) ? '' : ''\">\n                {{ editingMessageIndex === getGlobalMessageIndex(index) ? '' : '' }}\n              </button>\n            </div>\n          </div>\n\n          <div v-if=\"editingMessageIndex === getGlobalMessageIndex(index)\" class=\"message-edit-form\">\n            <textarea v-model=\"editingContent\" class=\"edit-textarea\" rows=\"10\"></textarea>\n            <div class=\"edit-actions\">\n              <button @click=\"cancelEditMessage\" class=\"btn btn-secondary\"></button>\n              <button @click=\"saveEditMessage\" class=\"btn btn-primary\"></button>\n            </div>\n          </div>\n\n          <template v-if=\"editingMessageIndex !== getGlobalMessageIndex(index)\">\n            <div v-if=\"hasHTMLCodeBlock(getMessageContent(message))\" class=\"message-content-mixed\"\n              :style=\"getContentStyles()\" @mouseup=\"handleTextSelection($event, getGlobalMessageIndex(index), message)\">\n              <div class=\"message-content\" :style=\"getContentStyles()\"\n                v-html=\"renderContentWithHTMLPlaceholder(getMessageContent(message), getGlobalMessageIndex(index))\">\n              </div>\n            </div>\n            <div v-else-if=\"isFullHTML(getMessageContent(message))\" class=\"message-content-html\">\n              <div class=\"html-preview-header\">\n                <span class=\"html-tag\">HTML </span>\n                <button @click=\"toggleHTMLPreview(getGlobalMessageIndex(index))\" class=\"preview-toggle\">\n                  {{ message.showPreview ? '' : '' }}\n                </button>\n              </div>\n              <iframe v-if=\"message.showPreview\" :srcdoc=\"getMessageContent(message)\" class=\"html-iframe\"\n                sandbox=\"allow-scripts allow-same-origin\"></iframe>\n              <pre v-else class=\"html-code\">{{ getMessageContent(message) }}</pre>\n            </div>\n            <div v-else class=\"message-content\" :style=\"getContentStyles()\"\n              v-html=\"renderContent(getMessageContent(message), getGlobalMessageIndex(index))\"\n              @mouseup=\"handleTextSelection($event, getGlobalMessageIndex(index), message)\"></div>\n          </template>\n\n          <div v-if=\"message.swipes && message.swipes.length > 1\" class=\"swipe-controls\">\n            <button @click=\"prevSwipe(getGlobalMessageIndex(index))\" :disabled=\"message.currentSwipeIndex === 0\"\n              class=\"swipe-btn\" title=\"\">\n              \n            </button>\n            <span class=\"swipe-indicator\">\n              {{ message.currentSwipeIndex + 1 }} / {{ message.swipes.length }}\n            </span>\n            <button @click=\"nextSwipe(getGlobalMessageIndex(index))\"\n              :disabled=\"message.currentSwipeIndex === message.swipes.length - 1\" class=\"swipe-btn\" title=\"\">\n              \n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div v-if=\"readingMode\" class=\"reading-view\" ref=\"readingView\" @click=\"handleReadingClick\">\n        <div class=\"reading-content\" ref=\"readingContentEl\" :style=\"getReadingTransform()\" v-html=\"readingFullHtml\"\n          @mouseup=\"onReadingMouseUp\" @touchstart=\"onReadingTouchStart\" @touchend=\"onReadingTouchEnd\"></div>\n\n        <div class=\"reading-nav-left\" @click=\"readingPrevPage\"></div>\n        <div class=\"reading-nav-right\" @click=\"readingNextPage\"></div>\n        <div class=\"reading-nav-center\" @click=\"toggleToolbar\"></div>\n\n        <div :class=\"['reading-footer', { 'visible': toolbarVisible }]\">\n          <div class=\"reading-progress\">\n            <span>{{ readingCurrentPage }} / {{ readingTotalPages }} </span>\n            <span class=\"reading-floor\"> {{ getReadingFloorRange() }}</span>\n          </div>\n\n          <div class=\"reading-controls\">\n            <button @click=\"readingPrevPage\" :disabled=\"readingCurrentPage <= 1\" class=\"reading-btn\"></button>\n            <button @click=\"toggleReadingMode\" class=\"reading-btn reading-exit\"></button>\n            <button @click=\"readingNextPage\" :disabled=\"readingCurrentPage >= readingTotalPages\"\n              class=\"reading-btn\"></button>\n          </div>\n        </div>\n      </div>\n\n      <div v-if=\"!readingMode\" class=\"pagination-bar pagination-bottom\">\n        <div class=\"pagination-info\">\n           {{ currentRange.start }}-{{ currentRange.end }}  {{ filteredMessages.length }} \n          <span v-if=\"searchQuery\" class=\"filter-hint\"></span>\n        </div>\n        <div class=\"pagination-controls\">\n          <button @click=\"goToPage(1)\" :disabled=\"currentPage === 1\" class=\"page-btn\" title=\"\"></button>\n          <button @click=\"prevPage\" :disabled=\"currentPage === 1\" class=\"page-btn\" title=\"\"></button>\n          <span class=\"page-indicator\">{{ currentPage }} / {{ totalPages }}</span>\n          <button @click=\"nextPage\" :disabled=\"currentPage === totalPages\" class=\"page-btn\" title=\"\"></button>\n          <button @click=\"goToPage(totalPages)\" :disabled=\"currentPage === totalPages\" class=\"page-btn\"\n            title=\"\"></button>\n          <select v-model.number=\"pageSize\" @change=\"onPageSizeChange\" class=\"page-size-select\">\n            <option :value=\"10\">10/</option>\n            <option :value=\"20\">20/</option>\n            <option :value=\"50\">50/</option>\n            <option :value=\"100\">100/</option>\n          </select>\n        </div>\n      </div>\n    </div>\n\n    <div v-if=\"selectionMenu.show\" class=\"selection-menu\"\n      :style=\"{ left: selectionMenu.x + 'px', top: selectionMenu.y + 'px' }\">\n      <button @click=\"favoriteSelectedText\" class=\"selection-btn\"> </button>\n      <button @click=\"highlightSelectedText\" class=\"selection-btn\"> </button>\n      <button @click=\"copySelectedText\" class=\"selection-btn\">\n        <Icon icon=\"icon-park-twotone:copy\" style=\"vertical-align: -2px; margin-right: 2px;\" /> \n      </button>\n    </div>\n\n    <div v-if=\"exportDialog.show\" class=\"export-dialog-overlay\" @click.self=\"closeExportDialog\">\n      <div class=\"export-dialog\">\n        <div class=\"export-dialog-header\">\n          <h3></h3>\n          <button @click=\"closeExportDialog\" class=\"btn-icon\"></button>\n        </div>\n        <div class=\"export-dialog-body\">\n          <div class=\"export-range\">\n            <div class=\"range-inputs\">\n              <div class=\"range-input-group\">\n                <label></label>\n                <input type=\"number\" v-model.number=\"exportDialog.startFloor\" :min=\"1\" :max=\"filteredMessages.length\"\n                  class=\"range-input\" />\n              </div>\n              <span class=\"range-separator\"></span>\n              <div class=\"range-input-group\">\n                <label></label>\n                <input type=\"number\" v-model.number=\"exportDialog.endFloor\" :min=\"1\" :max=\"filteredMessages.length\"\n                  class=\"range-input\" />\n              </div>\n            </div>\n            <div class=\"range-hint\">\n               {{ filteredMessages.length }}  {{ getExportCount() }} \n            </div>\n          </div>\n\n          <div class=\"export-options\">\n            <label class=\"export-option\">\n              <input type=\"checkbox\" v-model=\"exportDialog.includeName\" />\n              \n            </label>\n            <label class=\"export-option\">\n              <input type=\"checkbox\" v-model=\"exportDialog.includeTime\" />\n              \n            </label>\n          </div>\n          <div class=\"export-preview\">\n            <div class=\"export-preview-label\"> 3 </div>\n            <pre class=\"export-preview-content\">{{ getExportPreview() }}</pre>\n          </div>\n        </div>\n        <div class=\"export-dialog-footer\">\n          <button @click=\"closeExportDialog\" class=\"btn btn-secondary\"></button>\n          <button @click=\"doExportRange\" class=\"btn btn-primary\"> TXT</button>\n        </div>\n      </div>\n    </div>\n\n    <div v-if=\"showIntimacyModal\" class=\"modal-overlay\" @click.self=\"showIntimacyModal = false\">\n      <div class=\"modal-dialog intimacy-dialog\">\n        <div class=\"modal-header\">\n          <h3>\n            <Icon icon=\"bxs:heart\" style=\"color: #e91e63; margin-right: 8px;\" /> \n          </h3>\n          <button @click=\"showIntimacyModal = false\" class=\"modal-close\"></button>\n        </div>\n\n        <div class=\"modal-body\">\n          <div class=\"stats-grid\">\n            <div class=\"stat-card\">\n              <div class=\"stat-label\"></div>\n              <div class=\"stat-value text-sm\">{{ intimacyData.firstDate || 'N/A' }}</div>\n              <div class=\"stat-sub\"> {{ intimacyData.daysSince }} </div>\n            </div>\n            <div class=\"stat-card\">\n              <div class=\"stat-label\"></div>\n              <div class=\"stat-value\">{{ intimacyData.activeDays }} <span class=\"unit\"></span></div>\n              <div class=\"stat-sub\"></div>\n            </div>\n            <div class=\"stat-card\">\n              <div class=\"stat-label\"></div>\n              <div class=\"stat-value\">{{ intimacyData.totalMessages }}</div>\n              <div class=\"stat-sub\">{{ (intimacyData.totalChars / 10000).toFixed(1) }} </div>\n            </div>\n            <div class=\"stat-card\">\n              <div class=\"stat-label\">Roll</div>\n              <div class=\"stat-value\">{{ intimacyData.totalRerolls }}</div>\n              <div class=\"stat-sub\"></div>\n            </div>\n          </div>\n\n          <div class=\"calendar-section\">\n            <div class=\"calendar-header-row\">\n              <h4></h4>\n              <div class=\"heatmap-legend\">\n                <span></span>\n                <span class=\"legend-item level-1\"></span>\n                <span class=\"legend-item level-2\"></span>\n                <span class=\"legend-item level-3\"></span>\n                <span class=\"legend-item level-4\"></span>\n                <span></span>\n              </div>\n            </div>\n\n            <div v-if=\"intimacyData.calendarMonths.length > 0\" class=\"calendar-widget\">\n\n              <div class=\"calendar-nav\">\n                <button @click=\"prevMonth\" :disabled=\"currentMonthIndex >= intimacyData.calendarMonths.length - 1\"\n                  class=\"nav-btn\" title=\"\"></button>\n\n                <div class=\"current-month-label\">\n                  {{ intimacyData.calendarMonths[currentMonthIndex].year }}\n                  {{ intimacyData.calendarMonths[currentMonthIndex].month }}\n                </div>\n\n                <button @click=\"nextMonth\" :disabled=\"currentMonthIndex <= 0\" class=\"nav-btn\" title=\"\"></button>\n              </div>\n\n              <div class=\"month-card single-view\">\n                <div class=\"month-grid\">\n                  <div class=\"weekday-header\"></div>\n                  <div class=\"weekday-header\"></div>\n                  <div class=\"weekday-header\"></div>\n                  <div class=\"weekday-header\"></div>\n                  <div class=\"weekday-header\"></div>\n                  <div class=\"weekday-header\"></div>\n                  <div class=\"weekday-header\"></div>\n\n                  <div v-for=\"n in intimacyData.calendarMonths[currentMonthIndex].paddingStart\" :key=\"'pad-start-' + n\"\n                    class=\"day-cell padding\"></div>\n\n                  <div v-for=\"day in intimacyData.calendarMonths[currentMonthIndex].days\" :key=\"day.dateStr\"\n                    :class=\"['day-cell', { 'has-data': day.count > 0 }]\" :style=\"{ backgroundColor: day.bgStyle }\"\n                    @mouseenter=\"showDayTooltip($event, day)\" @mousemove=\"moveDayTooltip($event)\"\n                    @mouseleave=\"hideDayTooltip\">\n                    <span class=\"day-number\">{{ day.dayNum }}</span>\n                  </div>\n                </div>\n              </div>\n\n              <div class=\"month-footer-stats\">\n                <div class=\"footer-stat\">\n                  <span class=\"f-label\"></span>\n                  <span class=\"f-value\">{{ intimacyData.calendarMonths[currentMonthIndex].totalCount }}</span>\n                </div>\n                <div class=\"footer-divider\"></div>\n                <div class=\"footer-stat\">\n                  <span class=\"f-label\"></span>\n                  <span class=\"f-value\">{{ intimacyData.calendarMonths[currentMonthIndex].totalChars }}</span>\n                </div>\n              </div>\n\n            </div>\n\n            <div v-else class=\"no-calendar-data\">\n              \n            </div>\n\n\n          </div>\n        </div>\n      </div>\n    </div>\n    <div v-show=\"tooltip.show\" class=\"custom-tooltip\" :style=\"{ left: tooltip.x + 'px', top: tooltip.y + 'px' }\">\n      <div class=\"tooltip-header\">{{ tooltip.dateStr }}</div>\n      <div class=\"tooltip-row\">\n        <Icon icon=\"pepicons-pencil:letter\" class=\"tooltip-icon\" />\n        <span>{{ tooltip.count }} </span>\n      </div>\n      <div class=\"tooltip-row\">\n        <Icon icon=\"ri:draft-line\" class=\"tooltip-icon\" />\n        <span>{{ tooltip.chars }} </span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { marked } from 'marked';\nimport DOMPurify from 'dompurify';\nimport { Icon } from '@iconify/vue';\nimport JSZip from 'jszip';\n\nexport default {\n  name: 'STReader',\n  components: {\n    Icon\n  },\n  data() {\n    return {\n      // ===  ===\n      viewMode: 'home', // 'home'() | 'dashboard'() | 'reader'()\n      loadingStatus: '', // \n      zipFileCache: null, //  ZIP \n      fromDashboard: false, // \n      dashboardSearch: '', // \n      dashboardData: {\n        totalFiles: 0,\n        totalEffectiveCN: 0,\n        totalTurns: 0,\n        totalRerolls: 0,\n        groups: {} // \n      },\n      isDarkMode: false,\n      metadata: {},\n      messages: [],\n      rawData: [],\n      // ===  ===\n      dashboardCalendar: {\n        months: [],       // \n        currentMonthIdx: 0, // \n        totalMessages: 0,   // \n        activeDays: 0       // \n      },\n      // \n      regexScripts: [],\n      showRegexManager: false,\n      editingScript: null,\n      scriptForm: {\n        id: '',\n        scriptName: '',\n        findRegex: '',\n        replaceString: '',\n        disabled: false\n      },\n      dragIndex: null,\n      // \n      currentPage: 1,\n      pageSize: 10,\n      // \n      searchQuery: '',\n      searchResults: [],\n      currentSearchIndex: -1,\n      showSearchBar: false,\n      // \n      editingMessageIndex: null,\n      editingContent: '',\n      // \n      tagFilters: [],\n      showTagFilterManager: false,\n      editingTagFilter: null,\n      tagFilterForm: {\n        id: '',\n        name: '',\n        tagName: '',\n        mode: 'remove',\n        disabled: false\n      },\n      // \n      favorites: [],            // \n      highlights: [],           // \n      showFavoritesPanel: false,\n      selectionMenu: {\n        show: false,\n        x: 0,\n        y: 0,\n        text: '',\n        messageIndex: null\n      },\n      highlightMenu: {\n        show: false,\n        x: 0,\n        y: 0,\n        highlightId: null\n      },\n      // \n      exportDialog: {\n        show: false,\n        startFloor: 1,\n        endFloor: 1,\n        includeName: true,\n        includeTime: true\n      },\n      // \n      showStylePanel: false,\n      textStyles: {\n        fontFamily: 'system',\n        fontSize: 16,\n        lineHeight: 1.8,\n        paragraphSpacing: 1,\n        letterSpacing: 0,\n        textColor: '#1a1a1a',\n        italicColor: '#1a1a1a',\n        underlineColor: '#1a1a1a',\n        quoteColor: '#1a1a1a',\n        textAlign: 'justify'\n      },\n      colorOptions: [\n        { name: '', value: '#1a1a1a' },\n        { name: '', value: '#333333' },\n        { name: '', value: '#555555' },\n        { name: '', value: '#666666' },\n        { name: '', value: '#5d4037' },\n        { name: '', value: '#1a237e' }\n      ],\n      // \n      customFonts: [],\n      showCustomFontDialog: false,\n      customFontForm: {\n        name: '',\n        url: '',\n        file: null\n      },\n      // \n      readingMode: false,\n      toolbarVisible: false,\n      readingCurrentPage: 1,\n      readingTotalPages: 1,\n      readingFullHtml: '',      // HTML\n      readingTouchStartX: 0,\n      readingTouchStartY: 0,\n      toolbarTimeout: null,\n      windowWidth: 0,           // \n      resizeTimer: null,\n      keepReadingPagePosition: false, // \n      showIntimacyModal: false,\n      // \n      intimacyData: {\n        firstDate: '',\n        daysSince: 0,\n        activeDays: 0,\n        totalMessages: 0,\n        totalChars: 0,\n        totalRerolls: 0,\n        calendarMonths: []\n      },\n      // \n      currentMonthIndex: 0,\n      // emoji\n      tooltip: {\n        show: false,\n        x: 0,\n        y: 0,\n        dateStr: '',\n        count: 0,\n        chars: 0\n      },\n      // \n      resizeObserver: null,\n      // \n      currentFileName: '',\n      // ===  ===\n      calendarViewMode: 'month', // 'month' () | 'year' (/)\n      heatmapData: {},    //  { 2024: [weeks...], 2025: [weeks...] }\n      heatmapYears: [],   //  [2023, 2024, 2025]\n      currentHeatmapYear: null, // \n\n      // ===  ===\n      viewingGlobalFavorites: false, // \n      globalFavoritesList: [],       // \n    };\n  },\n  computed: {\n    // ===  ===\n    filteredDashboardGroups() {\n      const query = this.dashboardSearch.toLowerCase();\n      if (!query) return this.dashboardData.groups;\n\n      const result = {};\n      Object.entries(this.dashboardData.groups).forEach(([charName, files]) => {\n        // \n        const charMatch = charName.toLowerCase().includes(query);\n        // \n        const filteredFiles = files.filter(f => f.fileName.toLowerCase().includes(query));\n\n        if (charMatch) {\n          result[charName] = files;\n        } else if (filteredFiles.length > 0) {\n          result[charName] = filteredFiles;\n        }\n      });\n      return result;\n    },\n\n    // \n    filteredMessages() {\n      if (!this.searchQuery.trim()) {\n        return this.messages;\n      }\n      const query = this.searchQuery.toLowerCase();\n      return this.messages.filter((msg, index) => {\n        const content = this.getMessageContent(msg).toLowerCase();\n        const name = (msg.name || '').toLowerCase();\n        const matches = content.includes(query) || name.includes(query);\n        // \n        if (matches) {\n          msg._originalIndex = index;\n        }\n        return matches;\n      });\n    },\n    totalPages() {\n      return Math.ceil(this.filteredMessages.length / this.pageSize);\n    },\n    paginatedMessages() {\n      const start = (this.currentPage - 1) * this.pageSize;\n      const end = start + this.pageSize;\n      return this.filteredMessages.slice(start, end);\n    },\n    currentRange() {\n      const start = (this.currentPage - 1) * this.pageSize + 1;\n      const end = Math.min(this.currentPage * this.pageSize, this.filteredMessages.length);\n      return { start, end };\n    }\n  },\n  //  mounted()\n  async mounted() {\n    console.log('App mounted, viewMode:', this.viewMode);\n\n    // 1. \n    document.body.style.overflow = '';\n    this.loadScriptsFromStorage();\n    this.loadTagFiltersFromStorage();\n    this.loadFavoritesFromStorage();\n    this.loadHighlightsFromStorage();\n    this.loadStylesFromStorage();\n    this.loadDarkMode();\n    this.loadCustomFonts();\n    this.replaceHTMLPlaceholders();\n\n    document.addEventListener('mousedown', this.hideSelectionMenu);\n    window.addEventListener('keydown', this.handleKeydown);\n\n    // 2. ===  () ===\n    console.log('...');\n    try {\n      const session = await this.getFromDB('currentSession');\n\n      if (session) {\n        console.log(':', session.type, session.fileName);\n        this.loadingStatus = '...';\n\n        if (session.type === 'single') {\n          // \n          if (session.content) {\n            this.parseJSONL(session.content);\n            this.viewMode = 'reader';\n            this.fromDashboard = false;\n            // \n            if (session.metadata) this.metadata = session.metadata;\n            console.log('');\n          } else {\n            console.warn(' content ');\n          }\n          //  \n          if (session.fileName) {\n            this.currentFileName = session.fileName;\n            await this.loadFavoritesFromStorage();\n          }\n        }\n        else if (session.type === 'dashboard') {\n          // ===  () ===\n          if (session.dashboardData) {\n            // 1. \n            this.dashboardData = session.dashboardData;\n\n            // 2.  ZIP  ()\n            if (session.blob) {\n              const zip = await JSZip.loadAsync(session.blob);\n              this.zipFileCache = zip;\n            }\n\n            // 3. \n            //  session.heatmapData\n            console.log('...');\n            const globalDateMap = {};\n\n            // \n            Object.values(this.dashboardData.groups).forEach(files => {\n              files.forEach(f => {\n                if (f.dateMap) {\n                  Object.entries(f.dateMap).forEach(([dateKey, dayStats]) => {\n                    // \n                    if (!globalDateMap[dateKey]) {\n                      globalDateMap[dateKey] = { count: 0, chars: 0 };\n                    }\n\n                    //  ()\n                    if (typeof dayStats === 'number') {\n                      // \n                      globalDateMap[dateKey].count += dayStats;\n                    } else {\n                      //  { count, chars }\n                      globalDateMap[dateKey].count += dayStats.count;\n                      globalDateMap[dateKey].chars += (dayStats.chars || 0);\n                    }\n                  });\n                }\n              });\n            });\n\n            // 4. \n            this.generateDashboardCalendarData(globalDateMap);\n\n            this.viewMode = 'dashboard';\n            console.log('');\n          }\n        }\n\n        this.loadingStatus = '';\n      } else {\n        console.log('IndexedDB  currentSession');\n      }\n    } catch (e) {\n      console.error(':', e);\n      this.loadingStatus = '';\n    }\n  },\n\n  updated() {\n    // DOMHTML\n    this.replaceHTMLPlaceholders();\n    document.addEventListener('mousedown', this.hideHighlightMenu);\n\n    // \n    document.addEventListener('click', this.onHighlightClick);\n\n  },\n  beforeUnmount() {\n    document.removeEventListener('mousedown', this.hideSelectionMenu);\n    document.removeEventListener('mousedown', this.hideHighlightMenu);\n    document.removeEventListener('click', this.onHighlightClick);\n    window.removeEventListener('resize', this.handleResize);\n    window.removeEventListener('keydown', this.handleKeydown);\n    //  body overflow\n    document.body.style.overflow = '';\n    if (this.toolbarTimeout) {\n      clearTimeout(this.toolbarTimeout);\n    }\n    if (this.resizeTimer) {\n      clearTimeout(this.resizeTimer);\n    }\n  },\n  methods: {\n    // ==========================================\n    //  ZIP \n    // ==========================================\n\n    // 1.  ZIP \n    async handleZipUpload(event) {\n      const file = event.target.files[0];\n      if (!file) return;\n\n      this.loadingStatus = '...';\n\n      try {\n        const zip = await JSZip.loadAsync(file);\n        this.zipFileCache = zip; // \n\n        // \n        const stats = {\n          totalFiles: 0,\n          totalEffectiveCN: 0,\n          totalTurns: 0,\n          totalRerolls: 0,\n          groups: {}\n        };\n\n        const processingPromises = [];\n\n        //  ZIP \n        zip.forEach((relativePath, zipEntry) => {\n          // jsonl\n          if (zipEntry.dir || zipEntry.name.startsWith('__') || zipEntry.name.includes('.DS_Store') || !zipEntry.name.endsWith('.jsonl')) return;\n\n          // \n          const promise = zipEntry.async('text').then(text => {\n            const result = this.analyzeJsonlFast(text, zipEntry.name);\n            if (result) {\n              stats.totalFiles++;\n              stats.totalEffectiveCN += result.effectiveCN;\n              stats.totalTurns += result.totalTurns;\n              stats.totalRerolls += result.rerolls;\n\n              const charName = result.characterName || '';\n              if (!stats.groups[charName]) {\n                stats.groups[charName] = [];\n              }\n              stats.groups[charName].push(result);\n            }\n          });\n          processingPromises.push(promise);\n        });\n\n        // \n        await Promise.all(processingPromises);\n\n        // ===  () ===\n        const globalDateMap = {}; // Key: dateStr, Value: { count, chars }\n\n        Object.keys(stats.groups).forEach(charName => {\n          const files = stats.groups[charName];\n          // \n          files.sort((a, b) => b.fileName.localeCompare(a.fileName));\n\n          files.forEach(f => {\n            if (f.dateMap) {\n              Object.entries(f.dateMap).forEach(([dateKey, dayStats]) => {\n                // dayStats  { count, chars }\n                if (!globalDateMap[dateKey]) {\n                  globalDateMap[dateKey] = { count: 0, chars: 0 };\n                }\n                globalDateMap[dateKey].count += dayStats.count;\n                globalDateMap[dateKey].chars += dayStats.chars;\n              });\n            }\n          });\n        });\n\n        this.generateDashboardCalendarData(globalDateMap);\n\n        this.dashboardData = stats;\n        this.viewMode = 'dashboard';\n        this.loadingStatus = '';\n\n        // 2. ===  Blob  IndexedDB ===\n        try {\n          //  ZIP  Blob \n          // \n          await this.saveToDB('currentSession', {\n            type: 'dashboard',\n            fileName: file.name,\n            blob: file, // \n            dashboardData: JSON.parse(JSON.stringify(this.dashboardData)),\n            dashboardCalendar: JSON.parse(JSON.stringify(this.dashboardCalendar)),\n            heatmapData: JSON.parse(JSON.stringify(this.heatmapData)),\n          });\n          console.log('ZIP');\n        } catch (err) {\n          console.warn('ZIP():', err);\n        }\n\n      } catch (e) {\n        console.error('ZIP :', e);\n        alert('ZIP : ' + e.message);\n        this.loadingStatus = '';\n      }\n    },\n\n    // 2.  JSONL\n    analyzeJsonlFast(text, fileName) {\n      try {\n        const lines = text.trim().split('\\n');\n        if (lines.length === 0) return null;\n\n        let metadata = {};\n        try {\n          metadata = JSON.parse(lines[0]);\n        } catch (e) { return null; }\n\n        const characterName = metadata.character_name || '';\n\n        // \n        const cleanedText = text.replace(/<think>[\\s\\S]*?<\\/think>/gi, '');\n        const effectiveCN = (cleanedText.match(/[\\u4e00-\\u9fa5]/g) || []).length;\n        const totalTurns = Math.max(0, lines.length - 1);\n\n        let rerolls = 0;\n        let lastDate = '';\n\n        // ===  () ===\n        const dateMap = {}; // Key: \"YYYY-MM-DD\", Value: { count: 0, chars: 0 }\n\n        for (let i = 1; i < lines.length; i++) {\n          const line = lines[i];\n\n          // \n          if (line.includes('\"send_date\"') || line.includes('\"swipes\"')) {\n            try {\n              const row = JSON.parse(line);\n\n              // 1.  ()\n              if (i > 1 && row.swipes && row.swipes.length > 1) {\n                rerolls += (row.swipes.length - 1);\n              }\n\n              // 2.  ()\n              if (i > 1 && row.send_date) {\n                const d = this.parseSTDate(row.send_date);\n                if (d) {\n                  const y = d.getFullYear();\n                  const m = String(d.getMonth() + 1).padStart(2, '0');\n                  const day = String(d.getDate()).padStart(2, '0');\n                  const dateKey = `${y}-${m}-${day}`;\n\n                  if (!dateMap[dateKey]) {\n                    dateMap[dateKey] = { count: 0, chars: 0 };\n                  }\n\n                  // \n                  dateMap[dateKey].count += 1;\n\n                  //  ( swipe  mes)\n                  //  DOMPurify \n                  const content = (row.swipes && row.swipes.length > 0)\n                    ? (row.swipes[row.swipe_id || 0] || row.mes)\n                    : row.mes;\n\n                  if (content) {\n                    dateMap[dateKey].chars += content.length;\n                  }\n\n                  lastDate = row.send_date;\n                }\n              } else if (row.send_date) {\n                lastDate = row.send_date;\n              }\n            } catch (e) {\n              // \n            }\n          }\n        }\n\n        //  lastDate\n        if (lastDate !== '') {\n          const d = this.parseSTDate(lastDate);\n          if (d) {\n            lastDate = `${d.getFullYear()}/${d.getMonth() + 1}/${d.getDate()}`;\n          }\n        }\n\n        return {\n          fileName,\n          characterName,\n          effectiveCN,\n          totalTurns,\n          rerolls,\n          lastDate,\n          dateMap // <--- \n        };\n\n      } catch (e) {\n        console.warn(':', fileName, e);\n        return null;\n      }\n    },\n\n    // 3. \n    async openChatFromDashboard(fileData) {\n      if (!this.zipFileCache) return;\n\n      this.loadingStatus = '...';\n      try {\n        const file = this.zipFileCache.file(fileData.fileName);\n        if (!file) throw new Error('');\n\n        const content = await file.async('text');\n        this.parseJSONL(content); // \n\n        this.currentFileName = fileData.fileName; //  fileData \n        await this.loadFavoritesFromStorage(); // \n\n        this.viewMode = 'reader'; // \n        this.fromDashboard = true; // \n        this.loadingStatus = '';\n      } catch (e) {\n        alert(': ' + e.message);\n        this.loadingStatus = '';\n      }\n    },\n\n    // 4. \n    backToDashboard() {\n      this.viewMode = 'dashboard';\n      this.resetReaderStateOnly(); // \n    },\n\n    // ===  ===\n    // ===  methods  generateDashboardCalendarData ===\n    // ===  methods  generateDashboardCalendarData ===\n    generateDashboardCalendarData(globalDateMap) {\n      const dates = Object.keys(globalDateMap).sort();\n      if (dates.length === 0) {\n        this.dashboardCalendar = { months: [], currentMonthIdx: 0, totalMessages: 0, activeDays: 0 };\n        this.heatmapData = {};\n        this.heatmapYears = [];\n        return;\n      }\n\n      // ===  () ===\n      const parseLocal = (dateStr) => {\n        const parts = dateStr.split(/[-/]/).map(Number);\n        if (parts.length !== 3) return new Date();\n        return new Date(parts[0], parts[1] - 1, parts[2]);\n      };\n\n      // 1.  ()\n      let maxDailyCount = 0;\n      Object.values(globalDateMap).forEach(data => {\n        const count = typeof data === 'number' ? data : data.count;\n        if (count > maxDailyCount) maxDailyCount = count;\n      });\n      const colorStart = [248, 187, 208];\n      const colorEnd = [136, 14, 79];\n\n      // 2. ===  ===\n      const firstDateStr = dates[0];\n      const lastDateStr = dates[dates.length - 1];\n\n      const start = parseLocal(firstDateStr);\n      const end = parseLocal(lastDateStr);\n\n      const monthsData = [];\n      let currentYear = start.getFullYear();\n      let currentMonth = start.getMonth();\n      const endYear = end.getFullYear();\n      const endMonth = end.getMonth();\n\n      let totalMessages = 0;\n\n      while (currentYear < endYear || (currentYear === endYear && currentMonth <= endMonth)) {\n        const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();\n        const firstDayObj = new Date(currentYear, currentMonth, 1);\n        const paddingStart = firstDayObj.getDay();\n\n        const days = [];\n        let monthTotalCount = 0;\n        let monthTotalChars = 0;\n\n        for (let d = 1; d <= daysInMonth; d++) {\n          const mStr = String(currentMonth + 1).padStart(2, '0');\n          const dStr = String(d).padStart(2, '0');\n          const dateKey = `${currentYear}-${mStr}-${dStr}`;\n\n          const data = globalDateMap[dateKey] || { count: 0, chars: 0 };\n          monthTotalCount += data.count;\n          monthTotalChars += data.chars;\n          totalMessages += data.count;\n\n          days.push({\n            dayNum: d,\n            dateStr: dateKey,\n            count: data.count,\n            chars: data.chars,\n            bgStyle: data.count > 0 ? this.getGradientColor(data.count, maxDailyCount, colorStart, colorEnd) : ''\n          });\n        }\n\n        monthsData.push({\n          year: currentYear,\n          month: currentMonth + 1,\n          paddingStart: paddingStart,\n          days: days,\n          totalCount: monthTotalCount,\n          totalChars: monthTotalChars\n        });\n\n        if (currentMonth === 11) {\n          currentMonth = 0;\n          currentYear++;\n        } else {\n          currentMonth++;\n        }\n      }\n\n      this.dashboardCalendar = {\n        months: monthsData.reverse(),\n        currentMonthIdx: 0,\n        totalMessages: totalMessages,\n        activeDays: dates.length\n      };\n\n      // 3. ===  (GitHub ) ===\n      const hmStart = parseLocal(dates[0]);\n      const hmEnd = parseLocal(dates[dates.length - 1]);\n\n      const hmStartYear = hmStart.getFullYear();\n      const hmEndYear = hmEnd.getFullYear();\n\n      const yearlyData = {};\n      const yearsList = [];\n\n      for (let y = hmStartYear; y <= hmEndYear; y++) {\n        yearsList.push(y);\n\n        const yearStart = new Date(y, 0, 1);\n        const yearEnd = new Date(y, 11, 31);\n        const weeks = [];\n        let currentWeek = new Array(7).fill(null);\n        let curr = new Date(yearStart);\n\n        while (curr <= yearEnd) {\n          const m = String(curr.getMonth() + 1).padStart(2, '0');\n          const d = String(curr.getDate()).padStart(2, '0');\n          const dateKey = `${y}-${m}-${d}`;\n          const dayOfWeek = curr.getDay();\n\n          let data = globalDateMap[dateKey];\n          if (!data) data = globalDateMap[`${y}/${m}/${d}`];\n          data = data || { count: 0, chars: 0 };\n\n          const bgStyle = data.count > 0\n            ? this.getGradientColor(data.count, maxDailyCount, colorStart, colorEnd)\n            : null;\n\n          currentWeek[dayOfWeek] = {\n            dateStr: dateKey,\n            hasData: data.count > 0,\n            count: data.count,\n\n            //  \n            chars: data.chars || 0,\n\n            bgStyle: bgStyle\n          };\n\n          const isLastDayOfYear = (curr.getTime() === yearEnd.getTime());\n\n          if (dayOfWeek === 6 || isLastDayOfYear) {\n            weeks.push(currentWeek);\n            currentWeek = new Array(7).fill(null);\n          }\n\n          curr.setDate(curr.getDate() + 1);\n        }\n\n        yearlyData[y] = weeks;\n      }\n\n      this.heatmapData = yearlyData;\n      this.heatmapYears = yearsList;\n      this.currentHeatmapYear = hmEndYear;\n    },\n\n    // \n    prevDashMonth() {\n      if (this.dashboardCalendar.currentMonthIdx < this.dashboardCalendar.months.length - 1) {\n        this.dashboardCalendar.currentMonthIdx++;\n      }\n    },\n    nextDashMonth() {\n      if (this.dashboardCalendar.currentMonthIdx > 0) {\n        this.dashboardCalendar.currentMonthIdx--;\n      }\n    },\n\n    prevHeatmapYear() {\n      const idx = this.heatmapYears.indexOf(this.currentHeatmapYear);\n      if (idx > 0) {\n        this.currentHeatmapYear = this.heatmapYears[idx - 1];\n      }\n    },\n\n    nextHeatmapYear() {\n      const idx = this.heatmapYears.indexOf(this.currentHeatmapYear);\n      if (idx < this.heatmapYears.length - 1) {\n        this.currentHeatmapYear = this.heatmapYears[idx + 1];\n      }\n    },\n\n    // \n    resetReaderStateOnly() {\n      this.metadata = {};\n      this.messages = [];\n      this.rawData = [];\n      this.currentPage = 1;\n      this.searchQuery = '';\n      this.readingMode = false;\n      document.body.style.overflow = '';\n    },\n\n    // ===  ===\n    toggleDarkMode() {\n      this.isDarkMode = !this.isDarkMode;\n\n      const blackColors = ['#000000', '#1a1a1a', '#333333'];\n      const lightColor = '#e0e0e0'; // \n\n      // \n      const oldGray = '#bfbfbf';\n      const oldDim = '#888888';\n\n      if (this.isDarkMode) {\n        // ===  ===\n\n        //  #e0e0e0\n        if (blackColors.includes(this.textStyles.textColor) || this.textStyles.textColor === oldGray) {\n          this.textStyles.textColor = lightColor;\n        }\n\n        if (blackColors.includes(this.textStyles.italicColor) || this.textStyles.italicColor === oldGray) {\n          this.textStyles.italicColor = lightColor;\n        }\n\n        if (blackColors.includes(this.textStyles.underlineColor) || this.textStyles.underlineColor === oldGray) {\n          this.textStyles.underlineColor = lightColor;\n        }\n\n        // \n        if (blackColors.includes(this.textStyles.quoteColor) || this.textStyles.quoteColor === oldGray || this.textStyles.quoteColor === oldDim) {\n          this.textStyles.quoteColor = lightColor;\n        }\n\n        document.body.style.backgroundColor = '#121212';\n\n      } else {\n        // ===  ===\n\n        const nightColors = [lightColor, oldGray, oldDim];\n\n        if (nightColors.includes(this.textStyles.textColor)) this.textStyles.textColor = '#1a1a1a';\n        if (nightColors.includes(this.textStyles.italicColor)) this.textStyles.italicColor = '#1a1a1a';\n        if (nightColors.includes(this.textStyles.underlineColor)) this.textStyles.underlineColor = '#1a1a1a';\n        if (nightColors.includes(this.textStyles.quoteColor)) this.textStyles.quoteColor = '#1a1a1a';\n\n        document.body.style.backgroundColor = '';\n      }\n\n      this.saveStylesToStorage();\n      localStorage.setItem('st_reader_dark_mode', this.isDarkMode);\n    },\n\n    //  loadStylesFromStorage  mounted\n    loadDarkMode() {\n      const saved = localStorage.getItem('st_reader_dark_mode');\n      if (saved === 'true') {\n        this.isDarkMode = true;\n        document.body.style.backgroundColor = '#121212';\n      }\n    },\n\n    handleFileUpload(event) {\n      const file = event.target.files[0];\n      if (!file) return;\n\n      const reader = new FileReader();\n      reader.onload = async (e) => {\n        const content = e.target.result;\n        this.parseJSONL(content);\n        this.currentFileName = file.name; // \n        await this.loadFavoritesFromStorage(); // \n        this.viewMode = 'reader';\n        this.fromDashboard = false;\n\n        // ===  IndexedDB ===\n        try {\n          await this.saveToDB('currentSession', {\n            type: 'single',\n            fileName: file.name,\n            content: content,\n            metadata: JSON.parse(JSON.stringify(this.metadata))\n          });\n          console.log('');\n        } catch (err) {\n          console.error('', err);\n        }\n      };\n      reader.readAsText(file);\n    },\n\n    parseJSONL(content) {\n      const lines = content.trim().split('\\n');\n      this.rawData = [];\n      this.messages = [];\n      this.metadata = {};\n\n      lines.forEach((line, index) => {\n        try {\n          const data = JSON.parse(line);\n          if (index === 0 && !data.mes) {\n            // \n            this.metadata = data;\n          } else {\n            // \n            //  is_user booleannumberstring\n            let isUser = false;\n            if (data.is_user === true || data.is_user === 1 || data.is_user === 'true') {\n              isUser = true;\n            }\n\n            //  swipes\n            let swipes = [];\n            if (data.swipes && Array.isArray(data.swipes) && data.swipes.length > 1) {\n              swipes = data.swipes;\n            }\n\n            const message = {\n              name: data.name || '',\n              is_user: isUser,\n              mes: data.mes || '',\n              send_date: data.send_date || null,\n              model: data.extra?.model || null,\n              force_avatar: data.force_avatar || null,\n              showPreview: false,  //  HTML \n              swipes: swipes,\n              currentSwipeIndex: data.swipe_id || 0  //  swipe \n            };\n\n            this.messages.push(message);\n          }\n        } catch (error) {\n          console.error(` ${index + 1} :`, error);\n        }\n      });\n    },\n\n    hasHTMLCodeBlock(content) {\n      if (!content) return false;\n      //  ```html  ```  HTML \n      const codeBlockPattern = /```(?:html)?\\s*([\\s\\S]*?)```/i;\n      const match = content.match(codeBlockPattern);\n      if (!match) return false;\n\n      const codeContent = match[1].trim();\n      const hasDoctype = /<!DOCTYPE\\s+html>/i.test(codeContent);\n      const hasHtmlTag = /<html[\\s>]/i.test(codeContent);\n\n      return hasDoctype && hasHtmlTag;\n    },\n\n    extractHTMLFromCodeBlock(content) {\n      if (!content) return '';\n      const codeBlockPattern = /```(?:html)?\\s*([\\s\\S]*?)```/i;\n      const match = content.match(codeBlockPattern);\n      return match ? match[1].trim() : '';\n    },\n\n    renderContentWithoutCodeBlock(content) {\n      if (!content) return '';\n      // \n      let processedContent = this.applyTagFilters(content);\n      processedContent = this.applyRegexScripts(processedContent);\n      //  HTML \n      const withoutCodeBlock = processedContent.replace(/```(?:html)?\\s*[\\s\\S]*?```/gi, '').trim();\n      //  renderContent markdown\n      return this.renderMarkdown(withoutCodeBlock);\n    },\n\n    renderContentWithHTMLPlaceholder(content, messageIndex) {\n      if (!content) return '';\n      // \n      let processedContent = this.applyTagFilters(content);\n      processedContent = this.applyRegexScripts(processedContent);\n\n      // HTML\n      const htmlContent = this.extractHTMLFromCodeBlock(processedContent);\n\n      if (!htmlContent) {\n        // HTML\n        return this.renderMarkdown(processedContent);\n      }\n\n      // HTML\n      // dataHTMLbase64\n      const base64Html = btoa(unescape(encodeURIComponent(htmlContent)));\n      const placeholder = `<div class=\"html-preview-placeholder\" data-html-base64=\"${base64Html}\" data-message-idx=\"${messageIndex}\"></div>`;\n\n      const withPlaceholder = processedContent.replace(\n        /```(?:html)?\\s*[\\s\\S]*?```/gi,\n        placeholder\n      );\n\n      // Markdown\n      return this.renderMarkdown(withPlaceholder);\n    },\n\n    replaceHTMLPlaceholders() {\n      // \n      const placeholders = this.$el?.querySelectorAll('.html-preview-placeholder') || [];\n      placeholders.forEach(placeholder => {\n        const base64Html = placeholder.getAttribute('data-html-base64');\n        if (base64Html && placeholder.parentNode) {\n          try {\n            const htmlContent = decodeURIComponent(escape(atob(base64Html)));\n            const iframe = document.createElement('iframe');\n            iframe.className = 'html-iframe';\n            iframe.setAttribute('sandbox', 'allow-scripts allow-same-origin');\n            iframe.srcdoc = htmlContent;\n\n            const wrapper = document.createElement('div');\n            wrapper.className = 'html-preview-section';\n            wrapper.appendChild(iframe);\n\n            placeholder.parentNode.replaceChild(wrapper, placeholder);\n          } catch (e) {\n            console.error('HTML:', e);\n          }\n        }\n      });\n    },\n\n    renderMarkdown(content) {\n      if (!content) return '';\n\n      //  marked  HTML\n      marked.setOptions({\n        breaks: true,\n        gfm: true,\n        sanitize: false,\n        mangle: false,\n        headerIds: false\n      });\n\n      let html = marked.parse(content);\n\n      //  renderContent  DOMPurify \n      html = DOMPurify.sanitize(html, this.getDOMPurifyConfig());\n\n      return html;\n    },\n\n    //  DOMPurify \n    getDOMPurifyConfig() {\n      return {\n        ALLOWED_TAGS: [\n          'p', 'br', 'strong', 'em', 'u', 'del', 'code', 'pre', 'blockquote',\n          'h1', 'h2', 'h3', 'h4', 'h5', 'h6',\n          'ul', 'ol', 'li',\n          'a', 'img',\n          'span', 'div',\n          'b', 'i', 's', 'strike', 'sub', 'sup',\n          'table', 'thead', 'tbody', 'tr', 'th', 'td',\n          'hr', 'details', 'summary',\n          //  - \n          'style', 'mark', 'small', 'big', 'abbr', 'cite', 'q',\n          'dl', 'dt', 'dd', 'figure', 'figcaption', 'main', 'section', 'article',\n          'header', 'footer', 'nav', 'aside', 'address', 'time', 'ruby', 'rt', 'rp',\n          'button', 'label', 'input', 'select', 'option', 'textarea',\n          'fieldset', 'legend', 'meter', 'progress', 'output',\n          'canvas', 'svg', 'path', 'circle', 'rect', 'line', 'polygon', 'polyline',\n          'g', 'defs', 'use', 'symbol', 'text', 'tspan'\n        ],\n        ALLOWED_ATTR: [\n          'href', 'src', 'alt', 'title', 'class', 'style',\n          'width', 'height', 'align', 'target', 'rel',\n          'id', 'name',\n          // \n          'type', 'value', 'placeholder', 'disabled', 'readonly', 'checked',\n          'min', 'max', 'step', 'pattern', 'required', 'multiple',\n          'rows', 'cols', 'wrap', 'for', 'form',\n          'open', 'datetime', 'cite', 'download',\n          // SVG \n          'd', 'fill', 'stroke', 'stroke-width', 'viewBox', 'xmlns',\n          'cx', 'cy', 'r', 'rx', 'ry', 'x', 'y', 'x1', 'y1', 'x2', 'y2',\n          'points', 'transform', 'opacity', 'font-size', 'text-anchor',\n          // \n          'onclick', 'onchange', 'oninput',\n          // Reading mode needs data attributes\n          'data-floor'\n        ],\n        ALLOW_DATA_ATTR: true\n      };\n    },\n\n    isFullHTML(content) {\n      if (!content) return false;\n\n      const trimmed = content.trim();\n\n      //  Markdown ``` HTML \n      if (/^```/.test(trimmed)) {\n        return false;\n      }\n\n      //  DOCTYPE  html  <html \n      const hasDoctype = /<!DOCTYPE\\s+html>/i.test(trimmed);\n      const hasHtmlTag = /<html[\\s>]/i.test(trimmed);\n      const startsWithHtml = /^<html[\\s>]/i.test(trimmed);\n\n      //  <!DOCTYPE  <html  HTML \n      return (hasDoctype && hasHtmlTag) || startsWithHtml;\n    },\n\n    toggleHTMLPreview(index) {\n      this.messages[index].showPreview = !this.messages[index].showPreview;\n    },\n\n    // Swipe \n    getMessageContent(message) {\n      //  swipes  swipe \n      if (message.swipes && message.swipes.length > 0) {\n        return message.swipes[message.currentSwipeIndex] || message.mes;\n      }\n      return message.mes;\n    },\n\n    prevSwipe(messageIndex) {\n      const message = this.messages[messageIndex];\n      if (message.swipes && message.currentSwipeIndex > 0) {\n        message.currentSwipeIndex--;\n      }\n    },\n\n    nextSwipe(messageIndex) {\n      const message = this.messages[messageIndex];\n      if (message.swipes && message.currentSwipeIndex < message.swipes.length - 1) {\n        message.currentSwipeIndex++;\n      }\n    },\n\n    // \n    getGlobalMessageIndex(localIndex) {\n      return (this.currentPage - 1) * this.pageSize + localIndex;\n    },\n\n    // ==========  ==========\n\n    toggleEditMessage(globalIndex) {\n      if (this.editingMessageIndex === globalIndex) {\n        // \n        this.cancelEditMessage();\n      } else {\n        // \n        const message = this.messages[globalIndex];\n        //  swipe \n        this.editingContent = this.getMessageContent(message);\n        this.editingMessageIndex = globalIndex;\n      }\n    },\n\n    cancelEditMessage() {\n      this.editingMessageIndex = null;\n      this.editingContent = '';\n    },\n\n    saveEditMessage() {\n      if (this.editingMessageIndex === null) return;\n\n      const message = this.messages[this.editingMessageIndex];\n\n      //  swipes swipe \n      if (message.swipes && message.swipes.length > 0) {\n        message.swipes[message.currentSwipeIndex] = this.editingContent;\n      } else {\n        //  mes\n        message.mes = this.editingContent;\n      }\n\n      this.cancelEditMessage();\n    },\n\n    renderContent(content, messageIndex) {\n      if (!content) return '';\n\n      // \n      let processedContent = this.applyTagFilters(content);\n\n      // \n      processedContent = this.applyRegexScripts(processedContent);\n\n      //  HTML \n      const htmlBlocks = [];\n      let tempContent = processedContent;\n\n      //  Markdown \n      //  {ST_HTML_BLOCK_0}\n      const placeholder = (i) => `{ST_READER_HTML_BLOCK_${i}}`;\n\n      //  <style>  HTML \n      const styleIndex = tempContent.indexOf('<style');\n      if (styleIndex !== -1) {\n        let htmlEnd = tempContent.length;\n        const afterStyle = tempContent.substring(styleIndex);\n\n        let lastDivEnd = -1;\n        let divEnd = afterStyle.indexOf('</div>', 0);\n        while (divEnd !== -1) {\n          lastDivEnd = divEnd + 6;\n          divEnd = afterStyle.indexOf('</div>', divEnd + 1);\n        }\n\n        if (lastDivEnd !== -1) {\n          const afterLastDiv = afterStyle.substring(lastDivEnd).trim();\n          if (!afterLastDiv.startsWith('<') || afterLastDiv.startsWith('</')) {\n            htmlEnd = styleIndex + lastDivEnd;\n          }\n        }\n\n        const htmlBlock = tempContent.substring(styleIndex, htmlEnd);\n        htmlBlocks.push(htmlBlock);\n        // \n        tempContent = tempContent.substring(0, styleIndex) + placeholder(0) + tempContent.substring(htmlEnd);\n      }\n\n      //  <details> \n      tempContent = tempContent.replace(/<details[\\s\\S]*?<\\/details>/gi, (match) => {\n        htmlBlocks.push(match);\n        // \n        return placeholder(htmlBlocks.length - 1);\n      });\n\n      //  marked\n      marked.setOptions({\n        breaks: true,\n        gfm: true,\n        sanitize: false,\n        mangle: false,\n        headerIds: false\n      });\n\n      //  Markdown\n      let html = marked.parse(tempContent);\n\n      //  HTML \n      htmlBlocks.forEach((block, i) => {\n        const ph = placeholder(i);\n        //  p \n        //  marked  <p> \n        if (html.includes(`<p>${ph}</p>`)) {\n          html = html.replace(`<p>${ph}</p>`, block);\n        } else {\n          html = html.replace(ph, block);\n        }\n      });\n\n      // DOMPurify \n      html = DOMPurify.sanitize(html, this.getDOMPurifyConfig());\n\n      // \n      if (messageIndex !== undefined) {\n        html = this.applyHighlights(html, messageIndex);\n      }\n\n      return html;\n    },\n\n    // \n    applyHighlights(html, messageIndex) {\n      if (!this.highlights || this.highlights.length === 0) return html;\n\n      let result = html;\n      for (const highlight of this.highlights) {\n        // \n        if (highlight.text && highlight.messageIndex === messageIndex) {\n          // \n          const escapedText = highlight.text.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n          try {\n            // \n            const regex = new RegExp(`(${escapedText})`);\n            result = result.replace(regex, `<span class=\"user-highlight\" data-highlight-id=\"${highlight.id}\">$1</span>`);\n          } catch (e) {\n            // \n          }\n        }\n      }\n      return result;\n    },\n\n    formatDate(timestamp) {\n      if (!timestamp) return '';\n\n      let date;\n\n      if (typeof timestamp === 'number') {\n        date = new Date(timestamp);\n      } else if (typeof timestamp === 'string') {\n        date = new Date(timestamp);\n        if (isNaN(date.getTime())) {\n          date = new Date(parseInt(timestamp));\n        }\n      } else {\n        return '';\n      }\n\n      if (isNaN(date.getTime())) return '';\n\n      const year = date.getFullYear();\n      const month = String(date.getMonth() + 1).padStart(2, '0');\n      const day = String(date.getDate()).padStart(2, '0');\n      const hours = String(date.getHours()).padStart(2, '0');\n      const minutes = String(date.getMinutes()).padStart(2, '0');\n\n      return `${year}-${month}-${day} ${hours}:${minutes}`;\n    },\n\n    async resetReader() {\n\n      const confirmMsg = '\\n\\n' +\n        '\\n' +\n        '\\n\\n' +\n        '';\n\n      if (!confirm(confirmMsg)) {\n        return; // \n      }\n      // ...  ...\n      this.viewMode = 'home';\n      this.resetReaderStateOnly();\n      this.zipFileCache = null;\n      this.dashboardData = { totalFiles: 0, groups: {} };\n\n      this.currentFileName = '';\n      this.favorites = []; // \n\n      // ===  IndexedDB ===\n      await this.clearDB();\n    },\n\n    // ==========  ==========\n\n    prevPage() {\n      if (this.currentPage > 1) {\n        this.currentPage--;\n        this.scrollToTop();\n      }\n    },\n\n    nextPage() {\n      if (this.currentPage < this.totalPages) {\n        this.currentPage++;\n        this.scrollToTop();\n      }\n    },\n\n    goToPage(page) {\n      if (page >= 1 && page <= this.totalPages) {\n        this.currentPage = page;\n        this.scrollToTop();\n      }\n    },\n\n    onPageSizeChange() {\n      // \n      if (this.currentPage > this.totalPages) {\n        this.currentPage = this.totalPages || 1;\n      }\n      this.scrollToTop();\n    },\n\n    scrollToTop() {\n      this.$nextTick(() => {\n        const wrapper = document.querySelector('.messages-wrapper');\n        if (wrapper) {\n          wrapper.scrollIntoView({ behavior: 'smooth', block: 'start' });\n        }\n      });\n    },\n\n    // ==========  ==========\n\n    toggleSearchBar() {\n      this.showSearchBar = !this.showSearchBar;\n      if (!this.showSearchBar) {\n        this.clearSearch();\n      } else {\n        this.$nextTick(() => {\n          const input = document.querySelector('.search-input');\n          if (input) input.focus();\n        });\n      }\n    },\n\n    onSearchInput() {\n      // \n      this.currentPage = 1;\n    },\n\n    clearSearch() {\n      this.searchQuery = '';\n      this.currentPage = 1;\n    },\n\n    // ==========  ==========\n\n    async loadFavoritesFromStorage() {\n      // \n      if (!this.currentFileName) {\n        this.favorites = [];\n        return;\n      }\n\n      try {\n        const db = await this.initDB();\n        const transaction = db.transaction(['fileFavorites'], 'readonly');\n        const store = transaction.objectStore('fileFavorites');\n        //  Key \n        const request = store.get(this.currentFileName);\n\n        request.onsuccess = (e) => {\n          // \n          this.favorites = e.target.result || [];\n          console.log(` ${this.currentFileName}  ${this.favorites.length} `);\n        };\n      } catch (e) {\n        console.error(':', e);\n        this.favorites = [];\n      }\n    },\n\n    async saveFavoritesToStorage() {\n      if (!this.currentFileName) return;\n\n      try {\n        const db = await this.initDB();\n        const transaction = db.transaction(['fileFavorites'], 'readwrite');\n        const store = transaction.objectStore('fileFavorites');\n\n        // \n        // JSON.parse(JSON.stringify(...))  Vue \n        const plainFavorites = JSON.parse(JSON.stringify(this.favorites));\n        store.put(plainFavorites, this.currentFileName);\n      } catch (e) {\n        console.error(':', e);\n      }\n    },\n    loadHighlightsFromStorage() {\n      try {\n        const saved = localStorage.getItem('st_reader_highlights');\n        if (saved) {\n          this.highlights = JSON.parse(saved);\n        }\n      } catch (e) {\n        console.error(':', e);\n      }\n    },\n\n    saveHighlightsToStorage() {\n      try {\n        localStorage.setItem('st_reader_highlights', JSON.stringify(this.highlights));\n      } catch (e) {\n        console.error(':', e);\n      }\n    },\n\n    toggleFavoritesPanel() {\n      this.showFavoritesPanel = !this.showFavoritesPanel;\n    },\n\n    // \n    toggleFavoriteMessage(globalIndex, message) {\n      const existingIndex = this.favorites.findIndex(\n        f => f.type === 'message' && f.messageIndex === globalIndex\n      );\n\n      if (existingIndex !== -1) {\n        // \n        this.favorites.splice(existingIndex, 1);\n      } else {\n        // \n        this.favorites.unshift({\n          id: this.generateUUID(),\n          type: 'message',\n          messageIndex: globalIndex,\n          text: this.getMessageContent(message),\n          speaker: message.name,\n          createdAt: Date.now()\n        });\n      }\n      this.saveFavoritesToStorage();\n    },\n\n    isMessageFavorited(globalIndex) {\n      return this.favorites.some(f => f.type === 'message' && f.messageIndex === globalIndex);\n    },\n\n    // \n    handleTextSelection(event, messageIndex, message) {\n      const selection = window.getSelection();\n      const selectedText = selection.toString().trim();\n\n      if (selectedText.length > 0) {\n        // \n        this.selectionMenu = {\n          show: true,\n          x: event.clientX,\n          y: event.clientY - 40,\n          text: selectedText,\n          messageIndex: messageIndex,\n          speaker: message.name\n        };\n      }\n    },\n\n    hideSelectionMenu(event) {\n      // \n      if (!event.target.closest('.selection-menu')) {\n        this.selectionMenu.show = false;\n      }\n    },\n\n    favoriteSelectedText() {\n      if (!this.selectionMenu.text) return;\n\n      this.favorites.unshift({\n        id: this.generateUUID(),\n        type: 'text',\n        messageIndex: this.selectionMenu.messageIndex,\n        text: this.selectionMenu.text,\n        speaker: this.selectionMenu.speaker,\n        createdAt: Date.now()\n      });\n\n      this.saveFavoritesToStorage();\n      this.selectionMenu.show = false;\n      window.getSelection().removeAllRanges();\n    },\n\n    highlightSelectedText() {\n      if (!this.selectionMenu.text) return;\n\n      this.highlights.push({\n        id: this.generateUUID(),\n        messageIndex: this.selectionMenu.messageIndex,\n        text: this.selectionMenu.text,\n        createdAt: Date.now()\n      });\n\n      this.saveHighlightsToStorage();\n      this.selectionMenu.show = false;\n      window.getSelection().removeAllRanges();\n\n      // \n      if (this.readingMode) {\n        this.generateReadingContent();\n      }\n    },\n\n    deleteHighlight(id) {\n      const index = this.highlights.findIndex(h => h.id === id);\n      if (index !== -1) {\n        this.highlights.splice(index, 1);\n        this.saveHighlightsToStorage();\n\n        // \n        if (this.readingMode) {\n          this.generateReadingContent();\n        }\n      }\n    },\n\n    onHighlightClick(event) {\n      const target = event.target.closest('.user-highlight');\n      if (target && target.dataset.highlightId) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.highlightMenu = {\n          show: true,\n          x: event.clientX,\n          y: event.clientY,\n          highlightId: target.dataset.highlightId\n        };\n      }\n    },\n\n    removeHighlightFromMenu() {\n      if (this.highlightMenu.highlightId) {\n        this.deleteHighlight(this.highlightMenu.highlightId);\n      }\n      this.highlightMenu.show = false;\n    },\n\n    hideHighlightMenu(event) {\n      // \n      if (!event || !event.target.closest('.highlight-menu')) {\n        this.highlightMenu.show = false;\n      }\n    },\n\n    // \n    navigateToFavorite(fav) {\n      if (fav.messageIndex === undefined || fav.messageIndex === null) return;\n\n      const messageIndex = fav.messageIndex;\n\n      // \n      const targetPage = Math.floor(messageIndex / this.pageSize) + 1;\n\n      // \n      if (targetPage !== this.currentPage) {\n        this.currentPage = targetPage;\n      }\n\n      // \n      this.showFavoritesPanel = false;\n\n      //  DOM \n      this.$nextTick(() => {\n        const localIndex = messageIndex % this.pageSize;\n        const messageBlocks = document.querySelectorAll('.message-block');\n        if (messageBlocks[localIndex]) {\n          messageBlocks[localIndex].scrollIntoView({ behavior: 'smooth', block: 'center' });\n          // \n          messageBlocks[localIndex].classList.add('highlight-flash');\n          setTimeout(() => {\n            messageBlocks[localIndex].classList.remove('highlight-flash');\n          }, 2000);\n        }\n      });\n    },\n\n    copySelectedText() {\n      if (!this.selectionMenu.text) return;\n\n      navigator.clipboard.writeText(this.selectionMenu.text).then(() => {\n        this.selectionMenu.show = false;\n      });\n    },\n\n    copyFavorite(fav) {\n      navigator.clipboard.writeText(fav.text);\n    },\n\n    deleteFavorite(id) {\n      this.favorites = this.favorites.filter(f => f.id !== id);\n      this.saveFavoritesToStorage();\n    },\n\n    clearAllFavorites() {\n      if (confirm('')) {\n        this.favorites = [];\n        this.saveFavoritesToStorage();\n      }\n    },\n\n    exportFavorites() {\n      const dataStr = JSON.stringify(this.favorites, null, 2);\n      const blob = new Blob([dataStr], { type: 'application/json' });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = 'favorites.json';\n      a.click();\n      URL.revokeObjectURL(url);\n    },\n\n    formatFavoriteTime(timestamp) {\n      const date = new Date(timestamp);\n      return `${date.getMonth() + 1}/${date.getDate()} ${date.getHours()}:${String(date.getMinutes()).padStart(2, '0')}`;\n    },\n\n    // ==========  ==========\n\n    loadTagFiltersFromStorage() {\n      try {\n        const saved = localStorage.getItem('st_reader_tag_filters');\n        if (saved) {\n          this.tagFilters = JSON.parse(saved);\n        }\n      } catch (e) {\n        console.error(':', e);\n      }\n    },\n\n    saveTagFiltersToStorage() {\n      try {\n        localStorage.setItem('st_reader_tag_filters', JSON.stringify(this.tagFilters));\n      } catch (e) {\n        console.error(':', e);\n      }\n    },\n\n    toggleTagFilterManager() {\n      this.showTagFilterManager = !this.showTagFilterManager;\n      if (!this.showTagFilterManager) {\n        this.resetTagFilterForm();\n      }\n    },\n\n    resetTagFilterForm() {\n      this.editingTagFilter = null;\n      this.tagFilterForm = {\n        id: '',\n        name: '',\n        tagName: '',\n        mode: 'remove',\n        disabled: false\n      };\n    },\n\n    addNewTagFilter() {\n      this.resetTagFilterForm();\n      this.tagFilterForm.id = this.generateUUID();\n    },\n\n    editTagFilter(filter) {\n      this.editingTagFilter = filter.id;\n      this.tagFilterForm = { ...filter };\n    },\n\n    saveTagFilter() {\n      if (!this.tagFilterForm.name || !this.tagFilterForm.tagName) {\n        alert('');\n        return;\n      }\n\n      if (this.editingTagFilter) {\n        const index = this.tagFilters.findIndex(f => f.id === this.editingTagFilter);\n        if (index !== -1) {\n          this.tagFilters.splice(index, 1, { ...this.tagFilterForm });\n        }\n      } else {\n        this.tagFilters.push({ ...this.tagFilterForm });\n      }\n\n      this.saveTagFiltersToStorage();\n      this.resetTagFilterForm();\n    },\n\n    cancelEditTagFilter() {\n      this.resetTagFilterForm();\n    },\n\n    deleteTagFilter(id) {\n      if (confirm('')) {\n        this.tagFilters = this.tagFilters.filter(f => f.id !== id);\n        this.saveTagFiltersToStorage();\n      }\n    },\n\n    toggleTagFilter(filter) {\n      filter.disabled = !filter.disabled;\n      this.saveTagFiltersToStorage();\n    },\n\n    moveTagFilterUp(index) {\n      if (index > 0) {\n        const temp = this.tagFilters[index];\n        this.tagFilters.splice(index, 1);\n        this.tagFilters.splice(index - 1, 0, temp);\n        this.saveTagFiltersToStorage();\n      }\n    },\n\n    moveTagFilterDown(index) {\n      if (index < this.tagFilters.length - 1) {\n        const temp = this.tagFilters[index];\n        this.tagFilters.splice(index, 1);\n        this.tagFilters.splice(index + 1, 0, temp);\n        this.saveTagFiltersToStorage();\n      }\n    },\n\n    // \n    applyTagFilters(text) {\n      if (!text) return text;\n\n      let result = text;\n\n      for (const filter of this.tagFilters) {\n        if (filter.disabled) continue;\n\n        try {\n          // \n          const tags = filter.tagName.split(',').map(t => t.trim()).filter(t => t);\n\n          for (const tag of tags) {\n            // \n            const escapedTag = tag.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n\n            if (filter.mode === 'remove') {\n              // \n              const regex = new RegExp(`<${escapedTag}[^>]*>[\\\\s\\\\S]*?<\\\\/${escapedTag}>`, 'gi');\n              result = result.replace(regex, '');\n              // \n              const selfClosingRegex = new RegExp(`<${escapedTag}[^>]*/?>`, 'gi');\n              result = result.replace(selfClosingRegex, '');\n            } else if (filter.mode === 'keep') {\n              // \n              const regex = new RegExp(`<${escapedTag}[^>]*>([\\\\s\\\\S]*?)<\\\\/${escapedTag}>`, 'gi');\n              const matches = [];\n              let match;\n              while ((match = regex.exec(text)) !== null) {\n                matches.push(match[1]);\n              }\n              if (matches.length > 0) {\n                result = matches.join('\\n\\n');\n              }\n            } else if (filter.mode === 'unwrap') {\n              // \n              const regex = new RegExp(`<${escapedTag}[^>]*>([\\\\s\\\\S]*?)<\\\\/${escapedTag}>`, 'gi');\n              result = result.replace(regex, '$1');\n              // \n              const selfClosingRegex = new RegExp(`<${escapedTag}[^>]*/?>`, 'gi');\n              result = result.replace(selfClosingRegex, '');\n            }\n          }\n        } catch (e) {\n          console.error(` \"${filter.name}\" :`, e);\n        }\n      }\n\n      return result;\n    },\n\n    // ==========  ==========\n\n    loadScriptsFromStorage() {\n      try {\n        const saved = localStorage.getItem('st_reader_regex_scripts');\n        if (saved) {\n          this.regexScripts = JSON.parse(saved);\n        }\n      } catch (e) {\n        console.error(':', e);\n      }\n    },\n\n    saveScriptsToStorage() {\n      try {\n        localStorage.setItem('st_reader_regex_scripts', JSON.stringify(this.regexScripts));\n      } catch (e) {\n        console.error(':', e);\n      }\n    },\n\n    toggleRegexManager() {\n      this.showRegexManager = !this.showRegexManager;\n      if (!this.showRegexManager) {\n        this.resetScriptForm();\n      }\n    },\n\n    resetScriptForm() {\n      this.editingScript = null;\n      this.scriptForm = {\n        id: '',\n        scriptName: '',\n        findRegex: '',\n        replaceString: '',\n        disabled: false\n      };\n    },\n\n    addNewScript() {\n      this.resetScriptForm();\n      this.scriptForm.id = this.generateUUID();\n    },\n\n    editScript(script) {\n      this.editingScript = script.id;\n      this.scriptForm = { ...script };\n    },\n\n    saveScript() {\n      if (!this.scriptForm.scriptName || !this.scriptForm.findRegex) {\n        alert('');\n        return;\n      }\n\n      if (this.editingScript) {\n        // \n        const index = this.regexScripts.findIndex(s => s.id === this.editingScript);\n        if (index !== -1) {\n          this.regexScripts.splice(index, 1, { ...this.scriptForm });\n        }\n      } else {\n        // \n        this.regexScripts.push({ ...this.scriptForm });\n      }\n\n      this.saveScriptsToStorage();\n      this.resetScriptForm();\n    },\n\n    cancelEdit() {\n      this.resetScriptForm();\n    },\n\n    deleteScript(id) {\n      if (confirm('')) {\n        this.regexScripts = this.regexScripts.filter(s => s.id !== id);\n        this.saveScriptsToStorage();\n      }\n    },\n\n    toggleScript(script) {\n      script.disabled = !script.disabled;\n      this.saveScriptsToStorage();\n    },\n\n    moveScriptUp(index) {\n      if (index > 0) {\n        const temp = this.regexScripts[index];\n        this.regexScripts.splice(index, 1);\n        this.regexScripts.splice(index - 1, 0, temp);\n        this.saveScriptsToStorage();\n      }\n    },\n\n    moveScriptDown(index) {\n      if (index < this.regexScripts.length - 1) {\n        const temp = this.regexScripts[index];\n        this.regexScripts.splice(index, 1);\n        this.regexScripts.splice(index + 1, 0, temp);\n        this.saveScriptsToStorage();\n      }\n    },\n\n    // \n    handleDragStart(index) {\n      this.dragIndex = index;\n    },\n\n    handleDragOver(e) {\n      e.preventDefault();\n    },\n\n    handleDrop(e, dropIndex) {\n      e.preventDefault();\n      if (this.dragIndex !== null && this.dragIndex !== dropIndex) {\n        const draggedScript = this.regexScripts[this.dragIndex];\n        this.regexScripts.splice(this.dragIndex, 1);\n        this.regexScripts.splice(dropIndex, 0, draggedScript);\n        this.saveScriptsToStorage();\n      }\n      this.dragIndex = null;\n    },\n\n    handleDragEnd() {\n      this.dragIndex = null;\n    },\n\n    generateUUID() {\n      return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        const r = Math.random() * 16 | 0;\n        const v = c === 'x' ? r : (r & 0x3 | 0x8);\n        return v.toString(16);\n      });\n    },\n\n    importScripts() {\n      const input = document.createElement('input');\n      input.type = 'file';\n      input.accept = '.json';\n      input.multiple = true; // <--- \n\n      input.onchange = async (e) => {\n        const files = Array.from(e.target.files);\n        if (!files.length) return;\n\n        let successCount = 0;\n        let scriptCount = 0;\n\n        //  Promise\n        const readFile = (file) => {\n          return new Promise((resolve) => {\n            const reader = new FileReader();\n            reader.onload = (event) => {\n              try {\n                const data = JSON.parse(event.target.result);\n                resolve(data);\n              } catch (err) {\n                console.error(` ${file.name} :`, err);\n                resolve(null);\n              }\n            };\n            reader.readAsText(file);\n          });\n        };\n\n        // \n        const results = await Promise.all(files.map(file => readFile(file)));\n\n        // \n        results.forEach(data => {\n          if (!data) return;\n          successCount++;\n\n          //   \n          const scripts = Array.isArray(data) ? data : [data];\n\n          scripts.forEach(script => {\n            // \n            if (script.findRegex) {\n              const newScript = {\n                id: script.id || this.generateUUID(),\n                scriptName: script.scriptName || '',\n                findRegex: script.findRegex,\n                replaceString: script.replaceString || '',\n                disabled: script.disabled || false\n              };\n\n              // \n              const existingIndex = this.regexScripts.findIndex(s => s.id === newScript.id);\n              if (existingIndex !== -1) {\n                //  ID \n                this.regexScripts.splice(existingIndex, 1, newScript);\n              } else {\n                // \n                this.regexScripts.push(newScript);\n              }\n              scriptCount++;\n            }\n          });\n        });\n\n        if (scriptCount > 0) {\n          this.saveScriptsToStorage();\n          alert(` ${successCount}  ${scriptCount} `);\n        } else {\n          alert('');\n        }\n      };\n\n      input.click();\n    },\n\n    exportScripts() {\n      const dataStr = JSON.stringify(this.regexScripts, null, 2);\n      const blob = new Blob([dataStr], { type: 'application/json' });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = 'regex_scripts.json';\n      a.click();\n      URL.revokeObjectURL(url);\n    },\n\n    //  PNG \n    //  (PNG)  (JSON) \n    importFromCardOrPreset() {\n      const input = document.createElement('input');\n      input.type = 'file';\n      input.accept = '.png,.json'; //  PNG  JSON\n\n      input.onchange = async (e) => {\n        const file = e.target.files[0];\n        if (!file) return;\n\n        try {\n          let cardData = null;\n\n          if (file.name.toLowerCase().endsWith('.png')) {\n            // ===  PNG  ===\n            const arrayBuffer = await file.arrayBuffer();\n            const charDataStr = this.extractPNGChara(arrayBuffer);\n            if (!charDataStr) {\n              alert(' PNG ');\n              return;\n            }\n            cardData = JSON.parse(charDataStr);\n\n          } else if (file.name.toLowerCase().endsWith('.json')) {\n            // ===  JSON  ===\n            const text = await file.text();\n            cardData = JSON.parse(text);\n          }\n\n          if (!cardData) {\n            alert('');\n            return;\n          }\n\n          // \n          const foundScripts = this.findRegexScriptsInObject(cardData);\n\n          if (!foundScripts || foundScripts.length === 0) {\n            //  prompt  regex_scripts\n            if (cardData.prompts) {\n              alert(' JSON  Prompt  \"regex_scripts\" () ');\n            } else {\n              alert('');\n            }\n            return;\n          }\n\n          // \n          this.batchImportScripts(foundScripts);\n\n        } catch (err) {\n          console.error(':', err);\n          alert(': ' + err.message);\n        }\n      };\n      input.click();\n    },\n\n    //  JSON  regex_scripts \n    findRegexScriptsInObject(data) {\n      if (!data) return [];\n\n      // 1.  ()\n      if (Array.isArray(data)) {\n        // \n        if (data.length > 0 && (data[0].scriptName || data[0].regex || data[0].findRegex)) {\n          return data;\n        }\n        return [];\n      }\n\n      // 2. \n      // \n      if (data.data?.extensions?.regex_scripts) return data.data.extensions.regex_scripts;\n      // \n      if (data.extensions?.regex_scripts) return data.extensions.regex_scripts;\n      // \n      if (data.regex_scripts) return data.regex_scripts;\n      //  regex_scripts\n      if (data.presets && data.presets.regex_scripts) return data.presets.regex_scripts;\n\n      // 3.  keys  regex_scripts \n      for (const key in data) {\n        if (key === 'regex_scripts' && Array.isArray(data[key])) {\n          return data[key];\n        }\n        //  data[key] \n      }\n\n      return [];\n    },\n\n    // \n    batchImportScripts(scripts) {\n      if (!Array.isArray(scripts)) return;\n\n      let importCount = 0;\n      scripts.forEach(script => {\n        //  (SillyTavern  regex/replacement findRegex/replaceString)\n        const regexPattern = script.findRegex || script.regex;\n        const replacePattern = script.replaceString || script.replacement || ''; // \n\n        if (regexPattern) {\n          const newScript = {\n            id: script.id || this.generateUUID(),\n            scriptName: script.scriptName || '',\n            findRegex: regexPattern,\n            replaceString: replacePattern,\n            disabled: script.disabled || false\n          };\n\n          //  ( ID)\n          const existingIndex = this.regexScripts.findIndex(\n            s => s.id === newScript.id || s.scriptName === newScript.scriptName\n          );\n\n          if (existingIndex !== -1) {\n            // \n            // \n            // \n            const existing = this.regexScripts[existingIndex];\n            if (existing.findRegex !== newScript.findRegex || existing.replaceString !== newScript.replaceString) {\n              newScript.id = this.generateUUID(); // ID\n              newScript.scriptName = newScript.scriptName + ' ()';\n              this.regexScripts.push(newScript);\n              importCount++;\n            }\n          } else {\n            this.regexScripts.push(newScript);\n            importCount++;\n          }\n        }\n      });\n\n      if (importCount > 0) {\n        this.saveScriptsToStorage();\n        alert(` ${importCount} `);\n      } else {\n        alert('');\n      }\n    },\n\n    //  PNG ArrayBuffer  chara \n    extractPNGChara(arrayBuffer) {\n      const bytes = new Uint8Array(arrayBuffer);\n\n      // PNG : 89 50 4E 47 0D 0A 1A 0A\n      const pngSignature = [0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A];\n      for (let i = 0; i < 8; i++) {\n        if (bytes[i] !== pngSignature[i]) {\n          throw new Error(' PNG ');\n        }\n      }\n\n      let offset = 8;\n\n      while (offset < bytes.length) {\n        //  chunk  (4 bytes, big-endian)\n        const length = (bytes[offset] << 24) | (bytes[offset + 1] << 16) |\n          (bytes[offset + 2] << 8) | bytes[offset + 3];\n        offset += 4;\n\n        //  chunk  (4 bytes)\n        const type = String.fromCharCode(bytes[offset], bytes[offset + 1],\n          bytes[offset + 2], bytes[offset + 3]);\n        offset += 4;\n\n        //  tEXt chunk\n        if (type === 'tEXt') {\n          // \n          const data = bytes.slice(offset, offset + length);\n\n          //  null \n          let nullIndex = -1;\n          for (let i = 0; i < data.length; i++) {\n            if (data[i] === 0) {\n              nullIndex = i;\n              break;\n            }\n          }\n\n          if (nullIndex !== -1) {\n            const keyword = new TextDecoder().decode(data.slice(0, nullIndex));\n\n            //  chara \n            if (keyword === 'chara') {\n              const base64Data = new TextDecoder().decode(data.slice(nullIndex + 1));\n              // Base64  UTF-8 \n              try {\n                return this.decodeBase64UTF8(base64Data);\n              } catch (e) {\n                console.error('Base64 :', e);\n              }\n            }\n          }\n        }\n\n        //  CRC\n        offset += length + 4;\n\n        //  IEND chunk\n        if (type === 'IEND') break;\n      }\n\n      return null;\n    },\n\n    // Base64  UTF-8 \n    decodeBase64UTF8(base64) {\n      //  Base64 \n      const binaryString = atob(base64);\n      //  Uint8Array\n      const bytes = new Uint8Array(binaryString.length);\n      for (let i = 0; i < binaryString.length; i++) {\n        bytes[i] = binaryString.charCodeAt(i);\n      }\n      //  TextDecoder  UTF-8\n      return new TextDecoder('utf-8').decode(bytes);\n    },\n\n    // \n    applyRegexScripts(text) {\n      if (!text) return text;\n\n      let result = text;\n\n      for (const script of this.regexScripts) {\n        if (script.disabled) continue;\n\n        try {\n          // \n          const regexMatch = script.findRegex.match(/^\\/(.*)\\/([gimsuy]*)$/);\n          let regex;\n\n          if (regexMatch) {\n            //  /pattern/flags\n            regex = new RegExp(regexMatch[1], regexMatch[2]);\n          } else {\n            //  pattern\n            regex = new RegExp(script.findRegex, 'g');\n          }\n\n          result = result.replace(regex, script.replaceString);\n        } catch (e) {\n          console.error(` \"${script.scriptName}\" :`, e);\n        }\n      }\n\n      return result;\n    },\n\n    // ==========  ==========\n\n    openExportRangeDialog() {\n      this.exportDialog = {\n        show: true,\n        startFloor: 1,\n        endFloor: this.filteredMessages.length,\n        includeName: true,\n        includeTime: true\n      };\n    },\n\n    closeExportDialog() {\n      this.exportDialog.show = false;\n    },\n\n    // \n    getExportCount() {\n      const start = Math.max(1, Math.min(this.exportDialog.startFloor, this.filteredMessages.length));\n      const end = Math.max(1, Math.min(this.exportDialog.endFloor, this.filteredMessages.length));\n      return Math.max(0, end - start + 1);\n    },\n\n    // \n    formatMessageForExport(message, floorNum) {\n      let content = this.getMessageContent(message);\n\n      // \n      content = this.applyTagFilters(content);\n      content = this.applyRegexScripts(content);\n\n      //  HTML \n      content = this.stripHtmlTags(content);\n\n      let result = '';\n\n      // \n      result += `==========  ${floorNum}  ==========\\n`;\n\n      if (this.exportDialog.includeName) {\n        result += `${message.name}`;\n      }\n\n      if (this.exportDialog.includeTime && message.send_date) {\n        if (this.exportDialog.includeName) {\n          result += ` `;\n        }\n        result += `[${message.send_date}]`;\n      }\n\n      if (this.exportDialog.includeName || this.exportDialog.includeTime) {\n        result += '\\n\\n';\n      }\n\n      result += content;\n\n      return result;\n    },\n\n    getExportPreview() {\n      const start = Math.max(1, Math.min(this.exportDialog.startFloor, this.filteredMessages.length));\n      const end = Math.max(1, Math.min(this.exportDialog.endFloor, this.filteredMessages.length));\n\n      if (start > end || start < 1) return '';\n\n      //  3 \n      const previewCount = Math.min(3, end - start + 1);\n      let result = '';\n\n      for (let i = 0; i < previewCount; i++) {\n        const floorNum = start + i;\n        const message = this.filteredMessages[floorNum - 1];\n        if (message) {\n          if (i > 0) result += '\\n\\n';\n          result += this.formatMessageForExport(message, floorNum);\n        }\n      }\n\n      if (end - start + 1 > 3) {\n        result += '\\n\\n...( ' + (end - start + 1 - 3) + ' )';\n      }\n\n      // \n      if (result.length > 800) {\n        result = result.substring(0, 800) + '\\n...()';\n      }\n\n      return result;\n    },\n\n    //  HTML \n    stripHtmlTags(html) {\n      if (!html) return '';\n\n      //  DOM  HTML\n      const temp = document.createElement('div');\n      temp.innerHTML = html;\n\n      // \n      let text = temp.textContent || temp.innerText || '';\n\n      // \n      text = text.replace(/\\n{3,}/g, '\\n\\n');\n\n      return text.trim();\n    },\n\n    doExportRange() {\n      const start = Math.max(1, Math.min(this.exportDialog.startFloor, this.filteredMessages.length));\n      const end = Math.max(1, Math.min(this.exportDialog.endFloor, this.filteredMessages.length));\n\n      if (start > end || start < 1) {\n        alert('');\n        return;\n      }\n\n      let result = '';\n\n      for (let i = start; i <= end; i++) {\n        const message = this.filteredMessages[i - 1];\n        if (message) {\n          if (i > start) result += '\\n\\n\\n';\n          result += this.formatMessageForExport(message, i);\n        }\n      }\n\n      // \n      const blob = new Blob([result], { type: 'text/plain;charset=utf-8' });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n\n      // \n      const timestamp = new Date().toISOString().slice(0, 10);\n      const charName = this.metadata.character_name || '';\n      a.download = `${charName}_${start}-${end}_${timestamp}.txt`;\n\n      a.click();\n      URL.revokeObjectURL(url);\n\n      this.closeExportDialog();\n    },\n\n    // ==========  ==========\n\n    toggleStylePanel() {\n      this.showStylePanel = !this.showStylePanel;\n    },\n\n    loadStylesFromStorage() {\n      try {\n        const saved = localStorage.getItem('st_reader_text_styles');\n        if (saved) {\n          const savedStyles = JSON.parse(saved);\n          // \n          this.textStyles = { ...this.textStyles, ...savedStyles };\n        }\n      } catch (e) {\n        console.error(':', e);\n      }\n    },\n\n    saveStylesToStorage() {\n      try {\n        localStorage.setItem('st_reader_text_styles', JSON.stringify(this.textStyles));\n      } catch (e) {\n        console.error(':', e);\n      }\n    },\n\n    // \n    handleStyleChange() {\n      this.saveStylesToStorage();\n      if (this.readingMode) {\n        // \n        this.handleResize();\n      }\n    },\n\n    resetStyles() {\n      const defaultColor = this.isDarkMode ? '#e0e0e0' : '#1a1a1a';\n\n      this.textStyles = {\n        fontFamily: 'system',\n        fontSize: 16,\n        lineHeight: 1.8,\n        paragraphSpacing: 1,\n        letterSpacing: 0,\n        textColor: defaultColor,      // \n        italicColor: defaultColor,    // \n        underlineColor: defaultColor, // \n        quoteColor: defaultColor,     // \n        textAlign: 'justify'\n      };\n      this.saveStylesToStorage();\n    },\n\n    setTextColor(color) {\n      this.textStyles.textColor = color;\n      this.saveStylesToStorage();\n    },\n\n    setTextAlign(align) {\n      this.textStyles.textAlign = align;\n      this.saveStylesToStorage();\n    },\n\n    // ==========  ==========\n\n    loadCustomFonts() {\n      try {\n        const saved = localStorage.getItem('st_reader_custom_fonts');\n        if (saved) {\n          this.customFonts = JSON.parse(saved);\n          // \n          this.customFonts.forEach(font => {\n            this.registerFontFace(font);\n          });\n        }\n      } catch (e) {\n        console.error(':', e);\n      }\n    },\n\n    saveCustomFonts() {\n      try {\n        localStorage.setItem('st_reader_custom_fonts', JSON.stringify(this.customFonts));\n      } catch (e) {\n        console.error(':', e);\n      }\n    },\n\n    registerFontFace(font) {\n      const style = document.createElement('style');\n      style.id = `custom-font-${font.id}`;\n      style.textContent = `\n        @font-face {\n          font-family: \"${font.name}\";\n          src: url(\"${font.url}\") format(\"${font.format}\");\n          font-weight: normal;\n          font-style: normal;\n          font-display: swap;\n        }\n      `;\n      document.head.appendChild(style);\n    },\n\n    unregisterFontFace(fontId) {\n      const style = document.getElementById(`custom-font-${fontId}`);\n      if (style) {\n        style.remove();\n      }\n    },\n\n    async addCustomFont() {\n      if (!this.customFontForm.name) {\n        alert('');\n        return;\n      }\n\n      let fontUrl = '';\n      let format = 'truetype';\n\n      if (this.customFontForm.file) {\n        //  - Base64 Data URL\n        try {\n          fontUrl = await this.fileToDataUrl(this.customFontForm.file);\n          format = this.getFontFormat(this.customFontForm.file.name);\n        } catch (e) {\n          alert(': ' + e.message);\n          return;\n        }\n      } else if (this.customFontForm.url) {\n        // URL\n        fontUrl = this.customFontForm.url;\n        format = this.getFontFormat(this.customFontForm.url);\n      } else {\n        alert('URL');\n        return;\n      }\n\n      const fontId = Date.now().toString();\n      const newFont = {\n        id: fontId,\n        name: this.customFontForm.name,\n        url: fontUrl,\n        format: format\n      };\n\n      // \n      this.registerFontFace(newFont);\n\n      // \n      this.customFonts.push(newFont);\n      this.saveCustomFonts();\n\n      // \n      this.resetCustomFontForm();\n      this.showCustomFontDialog = false;\n\n      // \n      this.textStyles.fontFamily = 'custom-' + fontId;\n      this.saveStylesToStorage();\n    },\n\n    deleteCustomFont(fontId) {\n      if (!confirm('')) return;\n\n      // \n      if (this.textStyles.fontFamily === 'custom-' + fontId) {\n        this.textStyles.fontFamily = 'system';\n        this.saveStylesToStorage();\n      }\n\n      // \n      this.unregisterFontFace(fontId);\n\n      // \n      this.customFonts = this.customFonts.filter(f => f.id !== fontId);\n      this.saveCustomFonts();\n    },\n\n    fileToDataUrl(file) {\n      return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = () => resolve(reader.result);\n        reader.onerror = reject;\n        reader.readAsDataURL(file);\n      });\n    },\n\n    getFontFormat(filename) {\n      const ext = filename.split('.').pop().toLowerCase();\n      const formatMap = {\n        'ttf': 'truetype',\n        'otf': 'opentype',\n        'woff': 'woff',\n        'woff2': 'woff2'\n      };\n      return formatMap[ext] || 'truetype';\n    },\n\n    handleFontFileSelect(event) {\n      const file = event.target.files[0];\n      if (file) {\n        this.customFontForm.file = file;\n        // \n        if (!this.customFontForm.name) {\n          this.customFontForm.name = file.name.replace(/\\.(ttf|otf|woff2?|TTF|OTF|WOFF2?)$/, '');\n        }\n      }\n    },\n\n    resetCustomFontForm() {\n      this.customFontForm = {\n        name: '',\n        url: '',\n        file: null\n      };\n      // \n      const fileInput = this.$refs.fontFileInput;\n      if (fileInput) {\n        fileInput.value = '';\n      }\n    },\n\n    getPreviewStyles() {\n      return {\n        ...this.getContentStyles(), // \n        color: 'var(--main-color)'  // \n      };\n    },\n\n    getContentStyles() {\n      return {\n        fontFamily: this.getFontFamily(),\n        fontSize: this.textStyles.fontSize + 'px',\n        lineHeight: this.textStyles.lineHeight,\n        textAlign: this.textStyles.textAlign,\n        letterSpacing: this.textStyles.letterSpacing + 'px',\n        '--main-color': this.textStyles.textColor,\n        '--italic-color': this.textStyles.italicColor || this.textStyles.textColor,\n        '--underline-color': this.textStyles.underlineColor || this.textStyles.textColor,\n        '--quote-color': this.textStyles.quoteColor || '#666666',\n        '--paragraph-spacing': this.textStyles.paragraphSpacing + 'em',\n        '--content-font': this.getFontFamily()\n      };\n    },\n\n    getFontFamily() {\n      const fontMap = {\n        'system': '-apple-system, BlinkMacSystemFont, \"Segoe UI\", \"PingFang SC\", \"Hiragino Sans GB\", \"Microsoft YaHei\", sans-serif',\n        'serif': '\"Noto Serif SC\", \"Source Han Serif SC\", \"SimSun\", \"\", serif',\n        'sans-serif': '\"Noto Sans SC\", \"Source Han Sans SC\", \"Microsoft YaHei\", \"\", sans-serif',\n        'kaiti': '\"KaiTi\", \"\", \"STKaiti\", \"\", serif',\n        'fangsong': '\"FangSong\", \"\", \"STFangsong\", \"\", serif',\n        'monospace': '\"Consolas\", \"Monaco\", \"Source Code Pro\", monospace',\n        // \n        'alegreya': '\"Alegreya\", serif',\n        'cangeryunhei': '\"\", sans-serif',\n        'huiwenmingchao': '\"\", serif',\n        'kongmingchao': '\"\", serif',\n        'pingxianzhensong': '\"\", serif',\n        'wenyueminguofangsong': '\"\", serif'\n      };\n\n      // \n      if (this.textStyles.fontFamily.startsWith('custom-')) {\n        const fontId = this.textStyles.fontFamily.replace('custom-', '');\n        const customFont = this.customFonts.find(f => f.id === fontId);\n        if (customFont) {\n          return `\"${customFont.name}\", sans-serif`;\n        }\n      }\n\n      return fontMap[this.textStyles.fontFamily] || fontMap['system'];\n    },\n\n    // ========== CSS Columns ==========\n\n    toggleReadingMode() {\n      this.readingMode = !this.readingMode;\n\n      if (this.readingMode) {\n        // \n        this.toolbarVisible = false;\n        // ... () ...\n        this.showSearchBar = false;\n        this.showRegexManager = false;\n        this.showTagFilterManager = false;\n        this.showFavoritesPanel = false;\n        this.showStylePanel = false;\n        this.selectionMenu.show = false;\n\n        this.readingCurrentPage = 1;\n        document.body.style.overflow = 'hidden';\n\n        this.generateReadingContent();\n\n        // \n        window.addEventListener('resize', this.handleResize);\n\n        //  ResizeObserver \n        this.$nextTick(() => {\n          if (this.$refs.readingContentEl) {\n            this.resizeObserver = new ResizeObserver(() => {\n              window.requestAnimationFrame(() => {\n                this.calculateTotalPages();\n              });\n            });\n            this.resizeObserver.observe(this.$refs.readingContentEl);\n          }\n        });\n\n      } else {\n        // \n        document.body.style.overflow = '';\n        this.toolbarVisible = false;\n        window.removeEventListener('resize', this.handleResize);\n\n        if (this.resizeObserver) {\n          this.resizeObserver.disconnect();\n          this.resizeObserver = null;\n        }\n      }\n    },\n\n    generateReadingContent() {\n      let fullContent = '';\n\n      // 1 ( 10 )\n      //  DOM  90%\n      const messagesToRender = this.paginatedMessages;\n\n      //  ( data-floor)\n      const startFloorIndex = (this.currentPage - 1) * this.pageSize;\n\n      for (let i = 0; i < messagesToRender.length; i++) {\n        const message = messagesToRender[i];\n\n        //  i messageIndex \n        //  renderContent \n        const globalIndex = startFloorIndex + i;\n\n        let content = this.getMessageContent(message);\n        content = this.renderContent(content, globalIndex);\n\n        if (i > 0) {\n          fullContent += '<div class=\"reading-separator\"></div>';\n        }\n\n        // data-floor \n        fullContent += `<div class=\"reading-message\" data-floor=\"${globalIndex}\">`;\n\n        if (message.name) {\n          fullContent += `<p class=\"reading-speaker-name\">${message.name}</p>`;\n        }\n\n        fullContent += content;\n        fullContent += '</div>';\n      }\n\n      // \n      //  1\n      // \n      if (!this.keepReadingPagePosition) {\n        this.readingCurrentPage = 1;\n      }\n      this.keepReadingPagePosition = false; // \n\n      this.readingFullHtml = fullContent;\n\n      this.$nextTick(() => {\n        const contentEl = this.$refs.readingContentEl;\n        if (contentEl) {\n          contentEl.style.width = '';\n        }\n        this.updateColumnWidth();\n        this.$nextTick(() => {\n          setTimeout(() => {\n            this.calculateTotalPages();\n          }, 50);\n        });\n      });\n    },\n\n    updateColumnWidth() {\n      const contentEl = this.$refs.readingContentEl;\n      if (contentEl) {\n        contentEl.style.columnWidth = `${window.innerWidth}px`;\n      }\n    },\n\n    // SillyTavern\n    parseSTDate(dateInput) {\n      if (!dateInput) return null;\n\n      // 1. \n      if (typeof dateInput === 'number') return new Date(dateInput);\n\n      let dateStr = String(dateInput).trim();\n\n      // 2.  \"2025-12-29@01h50m41s\"\n      //  \"2025-12-29T01:50:41\" ( ISO )\n      if (dateStr.includes('@')) {\n        try {\n          //  @  T h, m  : s\n          const isoStr = dateStr\n            .replace('@', 'T')\n            .replace('h', ':')\n            .replace('m', ':')\n            .replace('s', '');\n          const d = new Date(isoStr);\n          if (!isNaN(d.getTime())) return d;\n        } catch (e) {\n          console.warn(' @ :', dateStr);\n        }\n      }\n\n      // 3.  \"December 29, 2025 1:50am\"\n      //  Safari am/pm \n      // \n      let d = new Date(dateStr);\n      if (!isNaN(d.getTime())) return d;\n\n      // 4.  am/pm  \"1:50am\" -> \"1:50 am\"\n      if (/am|pm/i.test(dateStr) && !/\\s(am|pm)/i.test(dateStr)) {\n        const fixedStr = dateStr.replace(/(\\d)(am|pm)/i, '$1 $2');\n        d = new Date(fixedStr);\n        if (!isNaN(d.getTime())) return d;\n      }\n\n      // 5.  null\n      return null;\n    },\n\n    calculateTotalPages() {\n      const contentEl = this.$refs.readingContentEl;\n      if (!contentEl) return;\n\n      const pageWidth = window.innerWidth; // \n      const contentWidth = contentEl.scrollWidth; // \n      const currentElWidth = contentEl.offsetWidth; // \n\n      // \n      if (contentWidth > currentElWidth) {\n        contentEl.style.width = `${contentWidth}px`;\n      }\n\n      this.windowWidth = pageWidth;\n\n      const calculatedPages = Math.max(1, Math.ceil((contentWidth - 20) / pageWidth));\n\n      const fixedWidth = calculatedPages * pageWidth;\n      contentEl.style.width = `${fixedWidth}px`;\n      this.readingTotalPages = calculatedPages;\n\n      if (this.readingCurrentPage > this.readingTotalPages) {\n        this.readingCurrentPage = this.readingTotalPages;\n      }\n      console.groupEnd();\n    },\n\n    handleResize() {\n      // \n      if (this.resizeTimer) clearTimeout(this.resizeTimer);\n      this.resizeTimer = setTimeout(() => {\n        const contentEl = this.$refs.readingContentEl;\n        if (contentEl) {\n          //  auto CSS columns \n          contentEl.style.width = '';\n        }\n        this.updateColumnWidth();\n        this.$nextTick(() => {\n          setTimeout(() => {\n            this.calculateTotalPages();\n          }, 50);\n        });\n      }, 100);\n    },\n\n    getReadingTransform() {\n      //  translateX \n      const offset = (this.readingCurrentPage - 1) * this.windowWidth;\n\n      return {\n        transform: `translateX(-${offset}px)`,\n        // \n        ...this.getContentStyles()\n      };\n    },\n\n    getReadingFloorRange() {\n      // / ()\n      //  3 / 5  (11-20)\n      const start = (this.currentPage - 1) * this.pageSize + 1;\n      const end = Math.min(this.currentPage * this.pageSize, this.filteredMessages.length);\n\n      return `${start}-${end} `;\n    },\n\n    readingPrevPage() {\n      // 1\n      if (this.readingCurrentPage > 1) {\n        this.readingCurrentPage--;\n      }\n      // 2\n      else if (this.currentPage > 1) {\n        // \n        this.currentPage--;\n\n        // \n        // \n        //  generateReadingContent \n        this.keepReadingPagePosition = true;\n\n        // \n        this.generateReadingContent();\n\n        // \n        this.$nextTick(() => {\n          //  generateReadingContent  nextTick  setTimeout\n          setTimeout(() => {\n            this.readingCurrentPage = this.readingTotalPages;\n          }, 100); //  generateReadingContent \n        });\n      }\n    },\n\n    readingNextPage() {\n      // 1\n      if (this.readingCurrentPage < this.readingTotalPages) {\n        this.readingCurrentPage++;\n      }\n      // 2\n      else if (this.currentPage < this.totalPages) {\n        // \n        this.currentPage++;\n        // \n        this.generateReadingContent();\n      }\n      // 3\n      else {\n        // \n      }\n    },\n\n    // \n    handleReadingClick(e) {\n      const selection = window.getSelection();\n      if (selection.toString().length > 0) {\n        return;\n      }\n\n      // 2. \n      const { clientX } = e;\n      const { innerWidth } = window;\n\n      const leftZone = innerWidth * 0.25;\n      const rightZone = innerWidth * 0.75;\n\n      if (clientX < leftZone) {\n        // ---  ---\n        this.readingPrevPage();\n      } else if (clientX > rightZone) {\n        // ---  ---\n        this.readingNextPage();\n      } else {\n        // --- / ---\n        this.showReadingMenu = !this.showReadingMenu;\n      }\n    },\n\n    onReadingTouchStart(e) {\n      this.readingTouchStartX = e.touches[0].clientX;\n      this.readingTouchStartY = e.touches[0].clientY;\n    },\n\n    onReadingTouchEnd(e) {\n      const touchEndX = e.changedTouches[0].clientX;\n      const touchEndY = e.changedTouches[0].clientY;\n      const deltaX = touchEndX - this.readingTouchStartX;\n      const deltaY = touchEndY - this.readingTouchStartY;\n\n      // \n      if (Math.abs(deltaX) > Math.abs(deltaY) && Math.abs(deltaX) > 50) {\n        if (deltaX > 0) {\n          this.readingPrevPage();\n        } else {\n          this.readingNextPage();\n        }\n      }\n    },\n\n    // \n    onReadingMouseUp(event) {\n      const selection = window.getSelection();\n      const selectedText = selection.toString().trim();\n\n      if (selectedText.length > 0) {\n        // \n        let messageIndex = null;\n        const range = selection.getRangeAt(0);\n        const container = range.commonAncestorContainer;\n\n        //  data-floor  .reading-message \n        let el = container.nodeType === 3 ? container.parentElement : container;\n        while (el && el !== document.body) {\n          if (el.classList && el.classList.contains('reading-message') && el.hasAttribute('data-floor')) {\n            messageIndex = parseInt(el.getAttribute('data-floor'));\n            break;\n          }\n          el = el.parentElement;\n        }\n\n        // \n        this.selectionMenu = {\n          show: true,\n          x: event.clientX,\n          y: event.clientY - 40,\n          text: selectedText,\n          messageIndex: messageIndex,\n          speaker: messageIndex !== null && this.filteredMessages[messageIndex]\n            ? this.filteredMessages[messageIndex].name\n            : ''\n        };\n      }\n    },\n\n    toggleToolbar() {\n      this.toolbarVisible = !this.toolbarVisible;\n\n      if (this.toolbarVisible) {\n        if (this.toolbarTimeout) clearTimeout(this.toolbarTimeout);\n        this.toolbarTimeout = setTimeout(() => {\n          this.toolbarVisible = false;\n        }, 3000);\n      }\n    },\n\n    handleKeydown(e) {\n      //  ESC \n      if (this.readingMode && e.key === 'Escape') {\n        this.toggleReadingMode();\n      }\n\n      if (this.readingMode) {\n        if (e.key === 'ArrowLeft') {\n          this.readingPrevPage();\n        } else if (e.key === 'ArrowRight') {\n          this.readingNextPage();\n        }\n      }\n    },\n\n    openIntimacyModal() {\n      this.calculateIntimacyStats();\n      this.showIntimacyModal = true;\n    },\n\n    calculateIntimacyStats() {\n      if (!this.messages.length) return;\n      const validMessages = this.messages.filter(m => m.send_date);\n      if (!validMessages.length) return;\n\n      // 1. \n      const sortedMsgs = [...validMessages].sort((a, b) => {\n        const tA = this.parseSTDate(a.send_date)?.getTime() || 0;\n        const tB = this.parseSTDate(b.send_date)?.getTime() || 0;\n        return tA - tB;\n      });\n\n      let totalChars = 0;\n      let totalRerolls = 0;\n\n      // 2. \n      const dayMap = new Map(); // Key: dateStr, Value: { count, chars }\n\n      sortedMsgs.forEach((msg, index) => {\n        const content = this.getMessageContent(msg);\n        const msgLen = content ? content.length : 0;\n\n        if (content) totalChars += msgLen;\n\n        //  index > 0 \n        if (index > 0 && msg.swipes && msg.swipes.length > 1) {\n          totalRerolls += (msg.swipes.length - 1);\n        }\n        const date = this.parseSTDate(msg.send_date);\n        if (date) {\n          const y = date.getFullYear();\n          const m = String(date.getMonth() + 1).padStart(2, '0');\n          const d = String(date.getDate()).padStart(2, '0');\n          const dateStr = `${y}-${m}-${d}`;\n\n          if (!dayMap.has(dateStr)) {\n            dayMap.set(dateStr, { count: 0, chars: 0 });\n          }\n          const dayData = dayMap.get(dateStr);\n          dayData.count += 1;\n          dayData.chars += msgLen;\n        }\n      });\n\n      // ===  ===\n      let maxDailyCount = 0;\n      for (const val of dayMap.values()) {\n        if (val.count > maxDailyCount) maxDailyCount = val.count;\n      }\n\n      //  ()\n      const colorStart = [248, 187, 208];\n      const colorEnd = [233, 30, 99]; // #e91e63\n\n      // 3. \n      const firstDateObj = this.parseSTDate(sortedMsgs[0].send_date);\n      const lastDateObj = this.parseSTDate(sortedMsgs[sortedMsgs.length - 1].send_date) || new Date();\n\n      if (firstDateObj) {\n        this.intimacyData.firstDate = firstDateObj.toLocaleDateString();\n        const now = new Date();\n        this.intimacyData.daysSince = Math.floor((now - firstDateObj) / (24 * 3600 * 1000));\n\n        const monthsData = [];\n        let currentYear = firstDateObj.getFullYear();\n        let currentMonth = firstDateObj.getMonth();\n\n        const endYear = lastDateObj.getFullYear();\n        const endMonth = lastDateObj.getMonth();\n\n        // ---  () ---\n        while (currentYear < endYear || (currentYear === endYear && currentMonth <= endMonth)) {\n          const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();\n          const firstDayObj = new Date(currentYear, currentMonth, 1);\n          const paddingStart = firstDayObj.getDay(); // 0-6\n\n          const days = [];\n\n          // \n          let monthTotalCount = 0;\n          let monthTotalChars = 0;\n\n          for (let d = 1; d <= daysInMonth; d++) {\n            const mStr = String(currentMonth + 1).padStart(2, '0');\n            const dStr = String(d).padStart(2, '0');\n            const dateStr = `${currentYear}-${mStr}-${dStr}`;\n\n            const data = dayMap.get(dateStr) || { count: 0, chars: 0 };\n            const count = data.count;\n            const chars = data.chars;\n\n            // \n            monthTotalCount += count;\n            monthTotalChars += chars;\n\n            // ===  ===\n            const bgStyle = this.getGradientColor(count, maxDailyCount, colorStart, colorEnd);\n\n            days.push({\n              dayNum: d,\n              dateStr: dateStr,\n              count: count,\n              chars: chars,\n              bgStyle: bgStyle // <--- \n            });\n          }\n\n          // \n          monthsData.push({\n            year: currentYear,\n            month: currentMonth + 1,\n            paddingStart: paddingStart, //  paddingStart\n            days: days,\n            totalCount: monthTotalCount,\n            totalChars: monthTotalChars\n          });\n\n          // \n          currentMonth++;\n          if (currentMonth > 11) {\n            currentMonth = 0;\n            currentYear++;\n          }\n        }\n        // ---  ---\n\n        this.intimacyData.calendarMonths = monthsData.reverse();\n        this.currentMonthIndex = 0;\n      } else {\n        this.intimacyData.calendarMonths = [];\n      }\n\n      this.intimacyData.activeDays = dayMap.size;\n      this.intimacyData.totalMessages = this.messages.length;\n      this.intimacyData.totalChars = totalChars;\n      this.intimacyData.totalRerolls = totalRerolls;\n    },\n\n    showDayTooltip(e, day) {\n      if (day.count === 0) return; // \n      this.tooltip.show = true;\n      this.tooltip.dateStr = day.dateStr;\n      this.tooltip.count = day.count;\n      this.tooltip.chars = day.chars;\n      this.updateTooltipPos(e);\n    },\n\n    //  ()\n    moveDayTooltip(e) {\n      if (!this.tooltip.show) return;\n      this.updateTooltipPos(e);\n    },\n\n    // \n    hideDayTooltip() {\n      this.tooltip.show = false;\n    },\n\n    //  ()\n    updateTooltipPos(e) {\n      const offset = 15; // \n      this.tooltip.x = e.clientX + offset;\n      this.tooltip.y = e.clientY + offset;\n    },\n    // ===  ===\n    prevMonth() {\n      // \n      if (this.currentMonthIndex < this.intimacyData.calendarMonths.length - 1) {\n        this.currentMonthIndex++;\n      }\n    },\n    nextMonth() {\n      if (this.currentMonthIndex > 0) {\n        this.currentMonthIndex--;\n      }\n    },\n\n    // ===  ===\n    openDashboardIntimacy(charName, files) {\n      // 1. \n      const mergedDateMap = {};\n\n      // 2. \n      //  map  files  reroll\n      let totalRerolls = 0;\n\n      files.forEach(f => {\n        // Reroll  dateMap \n        //  (rerolls  totalRerolls)\n        totalRerolls += (f.rerolls || f.totalRerolls || 0);\n\n        if (f.dateMap) {\n          Object.entries(f.dateMap).forEach(([dateKey, stats]) => {\n            if (!mergedDateMap[dateKey]) {\n              mergedDateMap[dateKey] = { count: 0, chars: 0 };\n            }\n            if (typeof stats === 'number') {\n              mergedDateMap[dateKey].count += stats;\n            } else {\n              mergedDateMap[dateKey].count += stats.count;\n              mergedDateMap[dateKey].chars += stats.chars;\n            }\n          });\n        }\n      });\n\n      // 3. \n      let maxDailyCount = 0;\n      let totalMsgCount = 0;\n      let totalCharCount = 0;\n\n      Object.values(mergedDateMap).forEach(val => {\n        if (val.count > maxDailyCount) maxDailyCount = val.count;\n        totalMsgCount += val.count;\n        totalCharCount += val.chars;\n      });\n\n      // 4. \n      const sortedDates = Object.keys(mergedDateMap).sort();\n      let daysSince = 0;\n      if (sortedDates.length > 0) {\n        const first = new Date(sortedDates[0]);\n        const now = new Date();\n        daysSince = Math.floor((now - first) / (24 * 3600 * 1000));\n        this.intimacyData.firstDate = `${first.getFullYear()}/${first.getMonth() + 1}/${first.getDate()}`;\n      } else {\n        this.intimacyData.firstDate = '';\n      }\n\n      // === 5.  ===\n      this.intimacyData.daysSince = daysSince;\n      this.intimacyData.activeDays = sortedDates.length;\n      this.intimacyData.totalMessages = totalMsgCount; // \n      this.intimacyData.totalChars = totalCharCount;   // \n      this.intimacyData.totalRerolls = totalRerolls;\n\n      // \n      const colorStart = [248, 187, 208];\n      const colorEnd = [194, 24, 91];\n\n      // 6. \n      if (sortedDates.length > 0) {\n        const start = new Date(sortedDates[0]);\n        const end = new Date(sortedDates[sortedDates.length - 1]);\n\n        const monthsData = [];\n        let currentYear = start.getFullYear();\n        let currentMonth = start.getMonth();\n        const endYear = end.getFullYear();\n        const endMonth = end.getMonth();\n\n        while (currentYear < endYear || (currentYear === endYear && currentMonth <= endMonth)) {\n          const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();\n          const firstDayObj = new Date(currentYear, currentMonth, 1);\n          const paddingStart = firstDayObj.getDay();\n\n          const days = [];\n          let monthTotalCount = 0;\n          let monthTotalChars = 0;\n\n          for (let d = 1; d <= daysInMonth; d++) {\n            const mStr = String(currentMonth + 1).padStart(2, '0');\n            const dStr = String(d).padStart(2, '0');\n            const dateKey = `${currentYear}-${mStr}-${dStr}`;\n\n            const data = mergedDateMap[dateKey] || { count: 0, chars: 0 };\n\n            // ===  ===\n            monthTotalCount += data.count;\n            monthTotalChars += data.chars;\n\n            const bgStyle = this.getGradientColor(data.count, maxDailyCount, colorStart, colorEnd);\n\n            days.push({\n              dayNum: d,\n              dateStr: dateKey,\n              count: data.count,\n              chars: data.chars,\n              bgStyle: bgStyle\n            });\n          }\n\n          monthsData.push({\n            year: currentYear,\n            month: currentMonth + 1,\n            paddingStart: paddingStart,\n            days: days,\n            totalCount: monthTotalCount, // \n            totalChars: monthTotalChars\n          });\n\n          currentMonth++;\n          if (currentMonth > 11) {\n            currentMonth = 0;\n            currentYear++;\n          }\n        }\n        this.intimacyData.calendarMonths = monthsData.reverse();\n        this.currentMonthIndex = 0;\n      } else {\n        this.intimacyData.calendarMonths = [];\n      }\n\n      this.showIntimacyModal = true;\n    },\n\n    // ===  ===\n    // , , [r,g,b], [r,g,b]\n    getGradientColor(value, max, startColor, endColor) {\n      if (value === 0) return ''; // 0CSS\n\n      //  ratio \n      // (value / max) * 0.8 + 0.2 -> / 20%\n      let ratio = value / max;\n      if (ratio < 0.1) ratio = 0.1; // \n\n      const r = Math.round(startColor[0] + (endColor[0] - startColor[0]) * ratio);\n      const g = Math.round(startColor[1] + (endColor[1] - startColor[1]) * ratio);\n      const b = Math.round(startColor[2] + (endColor[2] - startColor[2]) * ratio);\n\n      return `rgb(${r}, ${g}, ${b})`;\n    },\n\n    // === IndexedDB  ===\n    async initDB() {\n      return new Promise((resolve, reject) => {\n        const request = indexedDB.open('STReaderDB', 1);\n        request.onerror = () => reject('');\n        request.onsuccess = (e) => resolve(e.target.result);\n        request.onupgradeneeded = (e) => {\n          const db = e.target.result;\n          // (viewMode)()\n          if (!db.objectStoreNames.contains('appState')) {\n            db.createObjectStore('appState');\n          }\n\n          if (!db.objectStoreNames.contains('fileFavorites')) {\n            db.createObjectStore('fileFavorites');\n            console.log('IndexedDB: fileFavorites store created');\n          }\n        };\n      });\n    },\n\n    async saveToDB(key, value) {\n      const db = await this.initDB();\n      return new Promise((resolve, reject) => {\n        const transaction = db.transaction(['appState'], 'readwrite');\n        const store = transaction.objectStore('appState');\n        const request = store.put(value, key);\n        request.onsuccess = () => resolve();\n        request.onerror = () => reject('');\n      });\n    },\n\n    async getFromDB(key) {\n      const db = await this.initDB();\n      return new Promise((resolve, reject) => {\n        const transaction = db.transaction(['appState'], 'readonly');\n        const store = transaction.objectStore('appState');\n        const request = store.get(key);\n        request.onsuccess = (e) => resolve(e.target.result);\n        request.onerror = () => reject('');\n      });\n    },\n\n    async clearDB() {\n      const db = await this.initDB();\n      return new Promise((resolve, reject) => {\n        const transaction = db.transaction(['appState'], 'readwrite');\n        const store = transaction.objectStore('appState');\n        const request = store.clear();\n        request.onsuccess = () => resolve();\n        request.onerror = () => reject();\n      });\n    },\n\n    triggerImportFavorites() {\n      const input = document.createElement('input');\n      input.type = 'file';\n      input.accept = '.json';\n      input.onchange = this.handleImportFavorites;\n      input.click();\n    },\n\n    async handleImportFavorites(event) {\n      const file = event.target.files[0];\n      if (!file) return;\n\n      try {\n        const text = await file.text();\n        const imported = JSON.parse(text);\n\n        if (!Array.isArray(imported)) {\n          alert('');\n          return;\n        }\n\n        let count = 0;\n        let skipCount = 0;\n\n        // \n        imported.forEach(item => {\n          // 1.  ID\n          const exists = this.favorites.some(f => f.id === item.id);\n\n          // 2. \n          // ()\n          const isValidIndex = item.messageIndex < this.messages.length;\n\n          if (!exists && isValidIndex) {\n            this.favorites.push(item);\n            count++;\n          } else {\n            skipCount++;\n          }\n        });\n\n        if (count > 0) {\n          // \n          this.favorites.sort((a, b) => a.messageIndex - b.messageIndex);\n\n          await this.saveFavoritesToStorage(); // \n          alert(` ${count} ${skipCount > 0 ? ` ( ${skipCount} )` : ''}`);\n        } else {\n          alert('');\n        }\n\n      } catch (e) {\n        console.error(e);\n        alert('');\n      }\n      //  input \n      event.target.value = '';\n    },\n\n    // \n    async getAllFavoritesFromDB() {\n      const db = await this.initDB();\n      return new Promise((resolve, reject) => {\n        const transaction = db.transaction(['fileFavorites'], 'readonly');\n        const store = transaction.objectStore('fileFavorites');\n        const request = store.openCursor();\n        const results = [];\n\n        request.onsuccess = (e) => {\n          const cursor = e.target.result;\n          if (cursor) {\n            // cursor.key cursor.value \n            if (Array.isArray(cursor.value) && cursor.value.length > 0) {\n              results.push({\n                fileName: cursor.key,\n                items: cursor.value\n              });\n            }\n            cursor.continue();\n          } else {\n            // \n            resolve(results);\n          }\n        };\n        request.onerror = () => reject('');\n      });\n    },\n\n    // \n    async switchToGlobalFavorites() {\n      this.viewingGlobalFavorites = true;\n      this.loadingStatus = '...';\n      try {\n        this.globalFavoritesList = await this.getAllFavoritesFromDB();\n      } catch (e) {\n        console.error(e);\n      } finally {\n        this.loadingStatus = '';\n      }\n    },\n\n    // \n    switchToCurrentFavorites() {\n      this.viewingGlobalFavorites = false;\n    },\n\n    //  ()\n    async exportGlobalFavorites() {\n      const allData = await this.getAllFavoritesFromDB();\n      if (allData.length === 0) {\n        alert('');\n        return;\n      }\n\n      const dataStr = JSON.stringify(allData, null, 2);\n      const blob = new Blob([dataStr], { type: 'application/json' });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      //  global \n      const date = new Date().toISOString().slice(0, 10);\n      a.download = `ST_All_Favorites_Backup_${date}.json`;\n      a.click();\n      URL.revokeObjectURL(url);\n    },\n\n    // \n    async deleteGlobalFavorite(fileName, favId) {\n      if (!confirm(` \"${fileName}\" `)) return;\n\n      try {\n        const db = await this.initDB();\n        const transaction = db.transaction(['fileFavorites'], 'readwrite');\n        const store = transaction.objectStore('fileFavorites');\n\n        // 1. \n        const getRequest = store.get(fileName);\n\n        getRequest.onsuccess = (e) => {\n          const list = e.target.result || [];\n          // 2. \n          const newList = list.filter(item => item.id !== favId);\n\n          // 3. \n          store.put(newList, fileName);\n\n          // 4. \n          const fileGroup = this.globalFavoritesList.find(g => g.fileName === fileName);\n          if (fileGroup) {\n            fileGroup.items = newList;\n            // \n            if (newList.length === 0) {\n              this.globalFavoritesList = this.globalFavoritesList.filter(g => g.fileName !== fileName);\n            }\n          }\n        };\n      } catch (e) {\n        console.error('', e);\n      }\n    },\n  },\n}\n</script>\n\n<style scoped>\n/* =========================================\n     (Dashboard) \n   ========================================= */\n\n.dashboard-header {\n  padding: 3rem 3rem 1.5rem;\n  background: #fff;\n  border-bottom: 2px solid #000;\n  position: sticky;\n  top: 0;\n  z-index: 10;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);\n}\n\n.header-column {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n\n.header-title-row {\n  display: flex;\n  justify-content: space-between;\n  /*  */\n  align-items: center;\n  /*  */\n  width: 100%;\n}\n\n/* PC  */\n.header-title-row h1 {\n  font-size: 2rem;\n  font-weight: 800;\n  margin: 0;\n  line-height: 1;\n}\n\n.dashboard-meta {\n  font-family: 'Consolas', monospace;\n  font-size: 0.9rem;\n  color: #666;\n  background: #f0f0f0;\n  padding: 0.25rem 0.75rem;\n  border-radius: 4px;\n  white-space: nowrap;\n}\n\n/*  */\n.back-btn {\n  background: none;\n  border: none;\n  padding: 0;\n  cursor: pointer;\n  font-size: 0.9rem;\n  color: #666;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  width: fit-content;\n}\n\n.back-btn:hover {\n  color: #000;\n}\n\n/*  */\n.dark-mode .dashboard-header {\n  background: #1e1e1e;\n  border-bottom-color: #333;\n}\n\n.dark-mode .back-btn {\n  color: #aaa;\n}\n\n.dark-mode .back-btn:hover {\n  color: #fff;\n}\n\n.dark-mode .header-title-row h1 {\n  color: #e0e0e0;\n}\n\n.dark-mode .dashboard-meta {\n  background: #2d2d2d;\n  color: #aaa;\n}\n\n.back-btn:hover {\n  color: #000;\n}\n\n.dashboard-meta {\n  font-family: 'Consolas', monospace;\n  font-size: 0.9rem;\n  color: #666;\n  background: #f0f0f0;\n  padding: 0.25rem 0.75rem;\n  border-radius: 0px;\n}\n\n/* ---  --- */\n.dashboard-content {\n  padding: 2rem 3rem;\n}\n\n/* ---  --- */\n.stats-overview {\n  /* ===  === */\n  background: #fff;\n  border: 1px solid #eee;\n  border-radius: 0px;\n  /*  */\n  padding: 2.5rem 2rem;\n  /*  */\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.03);\n  /*  */\n\n  /*  */\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-bottom: 3rem;\n  max-width: 900px;\n  /*  */\n  margin-left: auto;\n  /*  */\n  margin-right: auto;\n}\n\n/* ---  --- */\n.stat-hero {\n  text-align: center;\n  margin-bottom: 2rem;\n  width: 100%;\n}\n\n.hero-value {\n  font-size: 4.5rem;\n  /*  */\n  font-weight: 800;\n  color: #1a1a1a;\n  line-height: 1;\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif;\n  letter-spacing: -0.02em;\n}\n\n.hero-label {\n  font-size: 1rem;\n  color: #888;\n  margin-top: 0.5rem;\n  font-weight: 500;\n}\n\n/* ---  --- */\n.stat-divider {\n  width: 100%;\n  height: 1px;\n  background-color: #f0f0f0;\n  /**/\n  margin-bottom: 2rem;\n  max-width: 100%;\n  /*  ( padding) */\n}\n\n/* ---  --- */\n.stat-sub-row {\n  display: flex;\n  justify-content: space-around;\n  width: 100%;\n}\n\n.sub-stat {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n  flex: 1;\n  /*  */\n}\n\n.sub-value {\n  font-size: 2rem;\n  font-weight: 700;\n  color: #1a1a1a;\n  margin-bottom: 0.25rem;\n  font-variant-numeric: tabular-nums;\n}\n\n.sub-label {\n  font-size: 0.85rem;\n  color: #999;\n}\n\n/* ---  --- */\n@media (max-width: 768px) {\n  .stats-overview {\n    padding: 1.5rem;\n    /*  */\n    margin-bottom: 2rem;\n  }\n\n  .hero-value {\n    font-size: 3rem;\n  }\n\n  .sub-value {\n    font-size: 1.5rem;\n  }\n}\n\n/* ---  --- */\n.dark-mode .stats-overview {\n  background: #1e1e1e;\n  /*  */\n  border-color: #333;\n  box-shadow: none;\n}\n\n.dark-mode .stat-divider {\n  background-color: #333;\n}\n\n/*  */\n.dark-mode .hero-value,\n.dark-mode .sub-value {\n  color: #e0e0e0;\n}\n\n.dark-mode .hero-label,\n.dark-mode .sub-label {\n  color: #888;\n}\n\n/* --- / --- */\n.filter-bar {\n  margin-bottom: 2rem;\n}\n\n.dash-search-input {\n  max-width: 400px;\n  padding: 0.8rem 1rem;\n  font-size: 1rem;\n  border: 2px solid #ddd;\n  background: #fff;\n  transition: all 0.2s;\n  border-radius: 0;\n  /*  */\n}\n\n.dash-search-input:focus {\n  outline: none;\n  border-color: #000;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n}\n\n/* ---  --- */\n.character-groups {\n  display: flex;\n  flex-direction: column;\n  gap: 2rem;\n}\n\n.char-group {\n  animation: fadeIn 0.5s ease;\n}\n\n.char-name {\n  font-size: 1.2rem;\n  /*  */\n  font-weight: 700;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.char-icon {\n  color: #ccc;\n}\n\n.char-stats {\n  font-size: 0.8rem;\n  color: #999;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n/* ===  === */\n.icon-only-btn {\n  padding: 0;\n  /*  */\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n  /*  */\n  font-size: 1.2rem;\n  /*  */\n  line-height: 1;\n}\n\n/* ---  --- */\n.file-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\n  gap: 1rem;\n}\n\n.file-card {\n  background: #fff;\n  border: 1px solid #eee;\n  cursor: pointer;\n  transition: all 0.2s;\n  position: relative;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n\n  /* ---  --- */\n  padding: 0.75rem 1rem;\n  /*  ( 1.25rem) */\n  min-height: auto;\n  /*  120px */\n  height: auto;\n  /*  */\n  gap: 0.5rem;\n  /*  */\n}\n\n.file-card:hover {\n  border-color: #000;\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);\n}\n\n/*  */\n.file-card::before {\n  content: '';\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  width: 4px;\n  background: #000;\n  transform: scaleY(0);\n  transition: transform 0.2s;\n  transform-origin: bottom;\n}\n\n.file-card:hover::before {\n  transform: scaleY(1);\n}\n\n.file-name {\n  font-weight: 600;\n  font-size: 0.95rem;\n  line-height: 1.3;\n  margin-bottom: 0.75rem;\n\n\n  display: -webkit-box;\n  -webkit-line-clamp: 1;\n  /* 12 */\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  word-break: break-all;\n}\n\n.file-meta {\n  display: flex;\n  gap: 0.5rem;\n  align-items: center;\n}\n\n.meta-tag {\n  font-size: 0.75rem;\n  padding: 2px 6px;\n  background: #f5f5f5;\n  color: #666;\n  border-radius: 2px;\n}\n\n.meta-tag.cn {\n  background: #e3f2fd;\n  color: #1565c0;\n}\n\n.meta-tag.turns {\n  background: #f3e5f5;\n  color: #7b1fa2;\n}\n\n.file-date {\n  font-size: 0.75rem;\n  color: #ccc;\n  margin-top: 0;\n  /*  Flex  */\n  text-align: right;\n  font-family: monospace;\n  position: absolute;\n  /* ()  */\n  right: 0.75rem;\n  bottom: 0.75rem;\n}\n\n.file-card:hover .file-date {\n  color: #999;\n}\n\n/*  */\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n/* ---  --- */\n@media (max-width: 768px) {\n  .dashboard-header {\n    padding: 1.5rem;\n  }\n\n  .header-column {\n    gap: 1rem;\n    width: 100%;\n    /*  */\n  }\n\n  /* ===  === */\n  .header-title-row {\n    display: flex;\n    justify-content: space-between !important;\n    /*  */\n    align-items: center !important;\n    /*  */\n    width: 100%;\n    gap: 0.5rem;\n    /*  */\n  }\n\n  /*  */\n  .header-title-row h1 {\n    font-size: 1.75rem;\n    /*  */\n    line-height: 1;\n  }\n\n  /*  */\n  .dashboard-meta {\n    margin-bottom: 0;\n    font-size: 0.8rem;\n    padding: 0.2rem 0.6rem;\n    white-space: nowrap;\n    /*  */\n\n    /*  transform */\n    /* transform: translateY(2px); */\n  }\n\n  .dashboard-content {\n    padding: 1.5rem;\n  }\n\n  .stats-overview {\n    grid-template-columns: 1fr 1fr;\n    /*  */\n  }\n\n  .file-grid {\n    grid-template-columns: 1fr;\n    /*  */\n  }\n}\n\n.st-reader {\n  min-height: 100vh;\n  background-color: #fafafa;\n  background-image: url('https://sazankaze.neocities.org/bg_pic/whitish-grain-wall-template.jpg');\n  background-repeat: repeat;\n  background-attachment: fixed;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\n}\n\n/* =========================================\n   2.  /  ()\n   ========================================= */\n.upload-area {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-height: 100vh;\n  padding: 2rem;\n}\n\n.upload-container {\n  width: 100%;\n  max-width: 400px;\n  /*  */\n  display: flex;\n  flex-direction: column;\n  /*  */\n  gap: 1.5rem;\n  /*  */\n  align-items: center;\n}\n\n/*  */\n.upload-card {\n  flex: 1;\n  min-width: 320px;\n  max-width: 350px;\n  position: relative;\n}\n\n.file-input {\n  display: none;\n}\n\n.upload-label {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 300px;\n  /*  */\n  padding: 2rem;\n  background: rgba(255, 255, 255, 0.9);\n  border: 2px solid #000;\n  cursor: pointer;\n  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);\n  text-align: center;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);\n  color: #1a1a1a;\n}\n\n.upload-label:hover {\n  transform: translateY(-5px);\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);\n  background: #000;\n  color: #fff;\n  border-color: #000;\n}\n\n/* ===  === */\n.loading-status {\n  display: flex;\n  flex-direction: column;\n  /*  */\n  align-items: center;\n  /*  */\n  justify-content: center;\n  margin-top: 2rem;\n  /*  */\n  color: #666;\n  font-size: 0.9rem;\n  font-weight: 600;\n  gap: 0.75rem;\n  /*  */\n  animation: fadeIn 0.3s ease;\n}\n\n/*  */\n.spinner {\n  width: 32px;\n  height: 32px;\n  border: 3px solid #eee;\n  /*  */\n  border-top: 3px solid #000;\n  /*  */\n  border-radius: 50%;\n  animation: spin 0.8s linear infinite;\n}\n\n@keyframes spin {\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(5px);\n  }\n\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n/*  */\n.dark-mode .loading-status {\n  color: #aaa;\n}\n\n.dark-mode .spinner {\n  border-color: #333;\n  border-top-color: #e0e0e0;\n}\n\n/*  */\n.upload-icon {\n  font-size: 3.5rem;\n  margin-bottom: 1.5rem;\n  opacity: 0.8;\n}\n\n.upload-text {\n  font-size: 1.5rem;\n  font-weight: 700;\n  margin-bottom: 0.75rem;\n}\n\n.upload-hint {\n  font-size: 0.875rem;\n  opacity: 0.6;\n  line-height: 1.5;\n}\n\n/*  */\n.loading-status {\n  width: 100%;\n  text-align: center;\n  margin-top: 2rem;\n  color: #666;\n  font-weight: 600;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.5rem;\n}\n\n/*  */\n.dashboard-calendar-section {\n  background: #fff;\n  border: 1px solid #ddd;\n  padding: 1.5rem;\n  margin-bottom: 2rem;\n  animation: fadeIn 0.5s ease;\n}\n\n.dash-cal-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1.5rem;\n  padding-bottom: 1rem;\n  border-bottom: 1px solid #eee;\n}\n\n.dash-cal-title {\n  font-size: 1.1rem;\n  font-weight: 700;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.dash-cal-meta {\n  font-size: 0.85rem;\n  color: #666;\n  font-family: 'Consolas', monospace;\n}\n\n/*  .calendar-widget  */\n.calendar-widget.dashboard-widget {\n  max-width: 100%;\n  /*  */\n  border: none;\n  /*  */\n}\n\n/*  */\n.dashboard-widget .day-cell {\n  aspect-ratio: auto;\n  height: 40px;\n  /*  */\n  font-size: 0.9rem;\n}\n\n/*  */\n.dark-mode .dashboard-calendar-section {\n  background: #1e1e1e;\n  border-color: #333;\n}\n\n.dark-mode .dash-cal-header {\n  border-bottom-color: #333;\n}\n\n.dark-mode .dash-cal-title {\n  color: #e0e0e0;\n}\n\n.dark-mode .dash-cal-meta {\n  color: #888;\n}\n\n/*  */\n.chat-container {\n  max-width: 800px;\n  margin: 0 auto;\n  background: rgba(255, 255, 255, 0.85);\n  min-height: 100vh;\n  box-shadow: 0 0 40px rgba(0, 0, 0, 0.08);\n}\n\n/*  */\n.chat-header {\n  padding: 3rem 3rem 2rem;\n  border-bottom: 2px solid #000;\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n}\n\n.header-content {\n  flex: 1;\n}\n\n.chat-title {\n  font-size: 2rem;\n  font-weight: 700;\n  margin: 0 0 0.75rem 0;\n  letter-spacing: -0.02em;\n  text-align: left;\n}\n\n.chat-meta {\n  display: flex;\n  gap: 1.5rem;\n  font-size: 0.875rem;\n  color: #666;\n}\n\n.message-count {\n  font-weight: 600;\n}\n\n.header-actions {\n  display: flex;\n  gap: 0.5rem;\n  flex-wrap: wrap;\n  justify-content: flex-end;\n  max-width: 420px;\n}\n\n.action-button,\n.reset-button {\n  padding: 0.25rem 0.5rem;\n  background: #fff;\n  border: 1px solid #000;\n  cursor: pointer;\n  font-size: 0.75rem;\n  font-weight: 500;\n  transition: all 0.2s;\n}\n\n.action-button:hover,\n.reset-button:hover {\n  background: #000;\n  color: #fff;\n}\n\n.regex-button {\n  background: #f5f5f5;\n}\n\n.search-toggle.active {\n  background: #000;\n  color: #fff;\n}\n\n/*  */\n.search-bar {\n  padding: 1rem 3rem;\n  background: #f9f9f9;\n  border-bottom: 1px solid #e0e0e0;\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n}\n\n.search-input-wrapper {\n  flex: 1;\n  position: relative;\n  max-width: 500px;\n}\n\n.search-input {\n  width: 100%;\n  padding: 0.625rem 2.5rem 0.625rem 1rem;\n  font-size: 0.9375rem;\n  border: 1px solid #ddd;\n  background: #fff;\n  transition: border-color 0.2s;\n}\n\n.search-input:focus {\n  outline: none;\n  border-color: #000;\n}\n\n.search-input::placeholder {\n  color: #999;\n}\n\n.search-clear {\n  position: absolute;\n  right: 0.5rem;\n  top: 50%;\n  transform: translateY(-50%);\n  width: 24px;\n  height: 24px;\n  padding: 0;\n  border: none;\n  background: transparent;\n  color: #999;\n  cursor: pointer;\n  font-size: 0.75rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.search-clear:hover {\n  color: #000;\n}\n\n.search-info {\n  font-size: 0.875rem;\n  color: #666;\n  white-space: nowrap;\n}\n\n.filter-hint {\n  color: #999;\n  font-size: 0.75rem;\n}\n\n/*  */\n:deep(.search-highlight) {\n  background: #ffeb3b;\n  color: #000;\n  padding: 0 0.125rem;\n}\n\n/*  */\n.regex-manager {\n  border-bottom: 2px solid #000;\n  background: #fafafa;\n  padding: 1.5rem 3rem;\n}\n\n.regex-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n}\n\n.regex-header h2 {\n  font-size: 1.25rem;\n  font-weight: 700;\n  margin: 0;\n}\n\n.regex-actions {\n  display: flex;\n  gap: 0.5rem;\n}\n\n.btn {\n  padding: 0.25rem 0.5rem;\n  font-size: 0.75rem;\n  font-weight: 500;\n  cursor: pointer;\n  border: 1px solid #000;\n  transition: all 0.2s;\n}\n\n.btn-primary {\n  background: #000;\n  color: #fff;\n}\n\n.btn-primary:hover {\n  background: #333;\n}\n\n.btn-secondary {\n  background: #fff;\n  color: #000;\n}\n\n.btn-secondary:hover {\n  background: #f0f0f0;\n}\n\n.btn:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n/*  */\n.script-form {\n  background: #fff;\n  border: 1px solid #ddd;\n  padding: 1.5rem;\n  margin-bottom: 1rem;\n}\n\n.form-group {\n  margin-bottom: 1rem;\n}\n\n.form-group:last-of-type {\n  margin-bottom: 0;\n}\n\n.form-group label {\n  display: block;\n  font-size: 0.875rem;\n  font-weight: 600;\n  margin-bottom: 0.375rem;\n}\n\n.form-group input[type=\"text\"],\n.form-group textarea {\n  width: 100%;\n  padding: 0.5rem;\n  font-size: 0.875rem;\n  border: 1px solid #ccc;\n  font-family: 'Consolas', 'Monaco', monospace;\n}\n\n.form-group textarea {\n  resize: vertical;\n}\n\n.form-select {\n  width: 100%;\n  padding: 0.5rem;\n  font-size: 0.875rem;\n  border: 1px solid #ccc;\n  background: #fff;\n  cursor: pointer;\n}\n\n.form-hint {\n  font-size: 0.75rem;\n  color: #666;\n  margin-top: 0.25rem;\n}\n\n.checkbox-group label {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  cursor: pointer;\n  font-weight: normal;\n}\n\n.checkbox-group input[type=\"checkbox\"] {\n  width: auto;\n}\n\n.form-buttons {\n  display: flex;\n  justify-content: flex-end;\n  gap: 0.5rem;\n  margin-top: 1rem;\n  padding-top: 1rem;\n  border-top: 1px solid #eee;\n}\n\n/*  */\n.script-list {\n  max-height: 400px;\n  overflow-y: auto;\n}\n\n.no-scripts {\n  padding: 2rem;\n  text-align: center;\n  color: #666;\n  font-size: 0.875rem;\n}\n\n.script-item {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  padding: 0.75rem;\n  background: #fff;\n  border: 1px solid #ddd;\n  margin-bottom: 0.5rem;\n  cursor: grab;\n  transition: all 0.2s;\n}\n\n.script-item:hover {\n  border-color: #000;\n}\n\n.script-item.disabled {\n  opacity: 0.5;\n  background: #f5f5f5;\n}\n\n.script-item.dragging {\n  opacity: 0.5;\n  border-style: dashed;\n}\n\n.script-drag-handle {\n  color: #999;\n  font-size: 1rem;\n  cursor: grab;\n  user-select: none;\n}\n\n.script-info {\n  flex: 1;\n  min-width: 0;\n}\n\n.script-name {\n  font-weight: 600;\n  font-size: 0.875rem;\n  margin-bottom: 0.25rem;\n}\n\n.script-regex {\n  font-size: 0.75rem;\n  font-family: 'Consolas', 'Monaco', monospace;\n  color: #666;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.script-controls {\n  display: flex;\n  align-items: center;\n  gap: 0.375rem;\n}\n\n.btn-icon {\n  width: 22px;\n  height: 22px;\n  padding: 0;\n  border: 1px solid #ddd;\n  background: #fff;\n  cursor: pointer;\n  font-size: 0.7rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s;\n}\n\n.btn-icon:hover:not(:disabled) {\n  border-color: #000;\n  background: #f0f0f0;\n}\n\n.btn-icon:disabled {\n  opacity: 0.3;\n  cursor: not-allowed;\n}\n\n.btn-icon.btn-danger:hover:not(:disabled) {\n  background: #ff4444;\n  color: #fff;\n  border-color: #ff4444;\n}\n\n.btn-toggle {\n  padding: 0.125rem 0.375rem;\n  font-size: 0.65rem;\n  font-weight: 500;\n  border: 1px solid #ddd;\n  background: #f5f5f5;\n  color: #666;\n  cursor: pointer;\n  transition: all 0.2s;\n  min-width: 50px;\n}\n\n.btn-toggle.active {\n  background: #000;\n  color: #fff;\n  border-color: #000;\n}\n\n/*  */\n.pagination-bar {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem 3rem;\n  background: rgba(255, 255, 255, 0.95);\n  border-top: 2px solid #000;\n  position: fixed;\n  bottom: 0;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 100%;\n  max-width: 800px;\n  z-index: 100;\n  box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1);\n}\n\n.pagination-info {\n  font-size: 0.875rem;\n  color: #666;\n}\n\n.pagination-controls {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.page-btn {\n  width: 24px;\n  height: 24px;\n  padding: 0;\n  border: 1px solid #ddd;\n  background: #fff;\n  cursor: pointer;\n  font-size: 0.75rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s;\n}\n\n.page-btn:hover:not(:disabled) {\n  border-color: #000;\n  background: #f0f0f0;\n}\n\n.page-btn:disabled {\n  opacity: 0.3;\n  cursor: not-allowed;\n}\n\n.page-indicator {\n  font-size: 0.875rem;\n  font-weight: 600;\n  padding: 0 0.75rem;\n  min-width: 80px;\n  text-align: center;\n}\n\n.page-size-select {\n  padding: 0.375rem 0.5rem;\n  border: 1px solid #ddd;\n  background: #fff;\n  font-size: 0.875rem;\n  cursor: pointer;\n  margin-left: 0.5rem;\n}\n\n.page-size-select:hover {\n  border-color: #000;\n}\n\n/*  */\n.messages-wrapper {\n  padding: 0;\n  padding-bottom: 80px;\n  /*  */\n}\n\n.message-block {\n  padding: 2.5rem 3rem;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n  background: transparent;\n}\n\n.message-block:last-child {\n  border-bottom: none;\n}\n\n/*  -  */\n.user-message {\n  background: rgba(0, 0, 0, 0.06) !important;\n  border-left: 6px solid #000 !important;\n}\n\n.user-message .speaker-name {\n  font-weight: 800;\n  color: #000;\n}\n\n/* AI/ -  */\n.message-block:not(.user-message) {\n  background: transparent;\n}\n\n.message-block:not(.user-message) .speaker-name {\n  color: #333;\n}\n\n/*  */\n.message-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: baseline;\n  margin-bottom: 1rem;\n}\n\n.speaker-name {\n  font-size: 0.875rem;\n  font-weight: 700;\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n}\n\n.message-info {\n  display: flex;\n  gap: 1rem;\n  align-items: center;\n}\n\n.timestamp {\n  font-size: 0.75rem;\n  color: #999;\n  font-variant-numeric: tabular-nums;\n}\n\n.model-tag {\n  font-size: 0.75rem;\n  padding: 0.125rem 0.5rem;\n  background: #000;\n  color: #fff;\n  font-weight: 500;\n}\n\n/*  */\n.message-content {\n  font-size: 1rem;\n  line-height: 1.8;\n  color: #1a1a1a;\n  text-align: justify;\n}\n\n/*  */\n.message-content :deep(p),\n.message-content :deep(span),\n.message-content :deep(strong),\n.message-content :deep(em),\n.message-content :deep(blockquote),\n.message-content :deep(li),\n.message-content :deep(h1),\n.message-content :deep(h2),\n.message-content :deep(h3),\n.message-content :deep(h4),\n.message-content :deep(h5),\n.message-content :deep(h6),\n.message-content :deep(a),\n.message-content :deep(td),\n.message-content :deep(th) {\n  font-family: var(--content-font);\n}\n\n/*  */\n.message-content :deep(code),\n.message-content :deep(pre),\n.message-content :deep(pre code) {\n  font-family: 'Consolas', 'Monaco', monospace !important;\n}\n\n/*  .message-content  */\n.message-content {\n  font-size: 1rem;\n  line-height: 1.8;\n  /*  #1a1a1a */\n  color: var(--main-color, #1a1a1a);\n  text-align: justify;\n}\n\n/* ===  === */\n\n/*  */\n.message-content :deep(em),\n.message-content :deep(i) {\n  font-style: italic;\n  color: var(--italic-color, inherit);\n  /*  */\n}\n\n/*  (Markdown <u> ) */\n.message-content :deep(u) {\n  text-decoration: underline;\n  color: var(--underline-color, inherit);\n  /*  */\n}\n\n/*  */\n.message-content :deep(blockquote) {\n  border-left: 3px solid var(--quote-color, #666);\n  /*  */\n  padding-left: 1rem;\n  margin: 1rem 0;\n  color: var(--quote-color, #666);\n  /*  */\n}\n\n/*  */\n.reading-content :deep(em),\n.reading-content :deep(i) {\n  color: var(--italic-color, inherit);\n}\n\n.reading-content :deep(u) {\n  color: var(--underline-color, inherit);\n}\n\n.reading-content :deep(blockquote) {\n  color: var(--quote-color, #666);\n  border-left-color: var(--quote-color, #666);\n}\n\n/* HTML  */\n.message-content-html {\n  font-size: 1rem;\n  line-height: 1.8;\n  color: #1a1a1a;\n}\n\n.html-preview-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n  padding-bottom: 0.5rem;\n  border-bottom: 1px solid #e0e0e0;\n}\n\n.html-tag {\n  font-size: 0.75rem;\n  padding: 0.125rem 0.5rem;\n  background: #000;\n  color: #fff;\n  font-weight: 500;\n}\n\n.preview-toggle {\n  padding: 0.25rem 0.75rem;\n  background: #fff;\n  border: 1px solid #000;\n  cursor: pointer;\n  font-size: 0.75rem;\n  font-weight: 500;\n  transition: all 0.2s;\n}\n\n.preview-toggle:hover {\n  background: #000;\n  color: #fff;\n}\n\n.message-content-mixed {\n  font-size: 1rem;\n  line-height: 1.8;\n  color: #1a1a1a;\n}\n\n/*  */\n.message-content-mixed :deep(p),\n.message-content-mixed :deep(span),\n.message-content-mixed :deep(strong),\n.message-content-mixed :deep(em),\n.message-content-mixed :deep(blockquote),\n.message-content-mixed :deep(li),\n.message-content-mixed :deep(h1),\n.message-content-mixed :deep(h2),\n.message-content-mixed :deep(h3),\n.message-content-mixed :deep(h4),\n.message-content-mixed :deep(a),\n.message-content-mixed :deep(td),\n.message-content-mixed :deep(th) {\n  font-family: var(--content-font);\n}\n\n.message-content-mixed :deep(code),\n.message-content-mixed :deep(pre),\n.message-content-mixed :deep(pre code) {\n  font-family: 'Consolas', 'Monaco', monospace !important;\n}\n\n.html-preview-section {\n  margin-bottom: 1.5rem;\n}\n\n.html-iframe {\n  width: 100%;\n  min-height: 400px;\n  border: 1px solid #e0e0e0;\n  background: #fff;\n}\n\n.html-code {\n  font-family: 'Consolas', 'Monaco', monospace;\n  font-size: 0.875rem;\n  background: #f5f5f5;\n  padding: 1rem;\n  overflow-x: auto;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n  border: 1px solid #e0e0e0;\n  margin: 0;\n  line-height: 1.5;\n  color: #333;\n}\n\n.message-content :deep(p) {\n  margin: 0 0 var(--paragraph-spacing, 1em) 0;\n}\n\n.message-content :deep(p:last-child) {\n  margin-bottom: 0;\n}\n\n.message-content :deep(strong) {\n  font-weight: 700;\n}\n\n.message-content :deep(em) {\n  font-style: italic;\n}\n\n.message-content :deep(code) {\n  font-family: 'Consolas', 'Monaco', monospace;\n  background: #f0f0f0;\n  padding: 0.125rem 0.375rem;\n  font-size: 0.9em;\n}\n\n.message-content :deep(pre) {\n  background: #f0f0f0;\n  padding: 1rem;\n  overflow-x: auto;\n  margin: 1rem 0;\n}\n\n.message-content :deep(pre code) {\n  background: none;\n  padding: 0;\n}\n\n.message-content :deep(blockquote) {\n  border-left: 3px solid #000;\n  padding-left: 1rem;\n  margin: 1rem 0;\n  color: #666;\n}\n\n.message-content :deep(a) {\n  color: #000;\n  text-decoration: underline;\n}\n\n.message-content :deep(img) {\n  max-width: 100%;\n  height: auto;\n  display: block;\n  margin: 1rem 0;\n}\n\n.message-content :deep(h1),\n.message-content :deep(h2),\n.message-content :deep(h3),\n.message-content :deep(h4) {\n  font-weight: 700;\n  margin: 1.5rem 0 0.75rem 0;\n  line-height: 1.3;\n}\n\n.message-content :deep(ul),\n.message-content :deep(ol) {\n  margin: 1rem 0;\n  padding-left: 1.5rem;\n}\n\n.message-content :deep(li) {\n  margin: 0.25rem 0;\n}\n\n/* Swipe  */\n.swipe-controls {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 1rem;\n  margin-top: 1.5rem;\n  padding-top: 1rem;\n  border-top: 1px dashed #ddd;\n}\n\n.swipe-btn {\n  width: 26px;\n  height: 26px;\n  padding: 0;\n  border: 1px solid #ddd;\n  background: #fff;\n  cursor: pointer;\n  font-size: 0.7rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s;\n  border-radius: 50%;\n}\n\n.swipe-btn:hover:not(:disabled) {\n  border-color: #000;\n  background: #f0f0f0;\n}\n\n.swipe-btn:disabled {\n  opacity: 0.3;\n  cursor: not-allowed;\n}\n\n.swipe-indicator {\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: #666;\n  min-width: 60px;\n  text-align: center;\n}\n\n/*  */\n.edit-btn {\n  width: 20px;\n  height: 20px;\n  padding: 0;\n  border: 1px solid #ddd;\n  background: #fff;\n  cursor: pointer;\n  font-size: 0.65rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 0px;\n  transition: all 0.2s;\n  opacity: 0.6;\n}\n\n.edit-btn:hover {\n  opacity: 1;\n  border-color: #000;\n  background: #f0f0f0;\n}\n\n/*  */\n.message-edit-form {\n  margin-top: 1rem;\n}\n\n.edit-textarea {\n  box-sizing: border-box;\n  width: 100%;\n  padding: 0.75rem;\n  font-size: 0.9375rem;\n  font-family: 'Consolas', 'Monaco', monospace;\n  border: 1px solid #ddd;\n  background: #fafafa;\n  resize: vertical;\n  line-height: 1.6;\n  min-height: 200px;\n}\n\n.edit-textarea:focus {\n  outline: none;\n  border-color: #000;\n  background: #fff;\n}\n\n.edit-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 0.5rem;\n  margin-top: 0.75rem;\n}\n\n/*  */\n.edit-btn.favorited {\n  color: #f5a623;\n  border-color: #f5a623;\n  opacity: 1;\n}\n\n/*  */\n.favorites-list {\n  max-height: 500px;\n}\n\n.favorite-item {\n  display: flex;\n  align-items: flex-start;\n  gap: 0.75rem;\n  padding: 0.75rem;\n  background: #fff;\n  border: 1px solid #ddd;\n  margin-bottom: 0.5rem;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.favorite-item:hover {\n  border-color: #000;\n  background: #f9f9f9;\n}\n\n.favorite-content {\n  flex: 1;\n  min-width: 0;\n  text-align: left;\n}\n\n.favorite-type {\n  font-size: 0.75rem;\n  color: #666;\n  margin-bottom: 0.25rem;\n}\n\n.favorite-text {\n  font-size: 0.875rem;\n  line-height: 1.5;\n  color: #333;\n  word-break: break-word;\n  text-align: left;\n}\n\n.favorite-meta {\n  font-size: 0.75rem;\n  color: #999;\n  margin-top: 0.5rem;\n  display: flex;\n  gap: 1rem;\n}\n\n.favorite-actions {\n  display: flex;\n  gap: 0.25rem;\n}\n\n/*  */\n.selection-menu {\n  position: fixed;\n  z-index: 1000;\n  background: #fff;\n  border: 1px solid #000;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);\n  display: flex;\n  gap: 0;\n}\n\n.selection-btn {\n  padding: 0.25rem 0.5rem;\n  border: none;\n  background: #fff;\n  cursor: pointer;\n  font-size: 0.7rem;\n  white-space: nowrap;\n  transition: all 0.2s;\n}\n\n.selection-btn:hover {\n  background: #000;\n  color: #fff;\n}\n\n.selection-btn:not(:last-child) {\n  border-right: 1px solid #ddd;\n}\n\n/*  */\n:deep(.user-highlight) {\n  text-decoration: none;\n  background-image: linear-gradient(to right, #87ceeb 60%, transparent 40%);\n  background-position: 0 100%;\n  background-size: 10px 1.5px;\n  background-repeat: repeat-x;\n  padding-bottom: 3px;\n  cursor: pointer;\n  transition: background-color 0.2s;\n}\n\n:deep(.user-highlight:hover) {\n  background-color: rgba(135, 206, 235, 0.2);\n}\n\n/*  */\n.highlight-menu {\n  position: fixed;\n  z-index: 1000;\n  background: #fff;\n  border: 1px solid #000;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);\n}\n\n/*  */\n@keyframes highlight-flash {\n\n  0%,\n  100% {\n    background-color: inherit;\n  }\n\n  25%,\n  75% {\n    background-color: rgba(255, 235, 59, 0.3);\n  }\n\n  50% {\n    background-color: rgba(255, 235, 59, 0.5);\n  }\n}\n\n.message-block.highlight-flash {\n  animation: highlight-flash 2s ease-in-out;\n}\n\n/*  */\n.highlights-list {\n  max-height: 300px;\n}\n\n.highlight-item {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0.5rem 0.75rem;\n  border-bottom: 1px solid #eee;\n  gap: 0.5rem;\n}\n\n.highlight-item:last-child {\n  border-bottom: none;\n}\n\n.highlight-content {\n  flex: 1;\n  min-width: 0;\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n}\n\n.highlight-text-preview {\n  font-size: 0.85rem;\n  color: #333;\n  word-break: break-word;\n  border-bottom: 2px dashed #87ceeb;\n  display: inline;\n}\n\n.highlight-meta {\n  font-size: 0.75rem;\n  color: #888;\n}\n\n/*  */\n.export-dialog-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n}\n\n.export-dialog {\n  background: #fff;\n  border: 2px solid #000;\n  width: 90%;\n  max-width: 500px;\n  max-height: 80vh;\n  display: flex;\n  flex-direction: column;\n  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);\n}\n\n.export-dialog-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem 1.5rem;\n  border-bottom: 1px solid #ddd;\n}\n\n.export-dialog-header h3 {\n  margin: 0;\n  font-size: 1.125rem;\n  font-weight: 700;\n}\n\n.export-dialog-body {\n  padding: 1.5rem;\n  overflow-y: auto;\n  flex: 1;\n}\n\n.export-options {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n  margin-bottom: 1.5rem;\n}\n\n.export-option {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 0.9375rem;\n  cursor: pointer;\n}\n\n.export-option input[type=\"checkbox\"] {\n  width: 16px;\n  height: 16px;\n  cursor: pointer;\n}\n\n.export-preview {\n  background: #f9f9f9;\n  border: 1px solid #ddd;\n  padding: 1rem;\n}\n\n.export-preview-label {\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: #666;\n  margin-bottom: 0.5rem;\n}\n\n.export-preview-content {\n  font-size: 0.875rem;\n  line-height: 1.6;\n  font-family: 'Consolas', 'Monaco', monospace;\n  white-space: pre-wrap;\n  word-break: break-word;\n  margin: 0;\n  max-height: 200px;\n  overflow-y: auto;\n  color: #333;\n}\n\n.export-dialog-footer {\n  display: flex;\n  justify-content: flex-end;\n  gap: 0.5rem;\n  padding: 1rem 1.5rem;\n  border-top: 1px solid #ddd;\n  background: #fafafa;\n}\n\n/*  */\n.export-range {\n  margin-bottom: 1.5rem;\n  padding-bottom: 1.5rem;\n  border-bottom: 1px solid #eee;\n}\n\n.range-inputs {\n  display: flex;\n  align-items: flex-end;\n  gap: 1rem;\n}\n\n.range-input-group {\n  display: flex;\n  flex-direction: column;\n  gap: 0.375rem;\n}\n\n.range-input-group label {\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: #333;\n}\n\n.range-input {\n  width: 100px;\n  padding: 0.5rem 0.75rem;\n  font-size: 1rem;\n  border: 1px solid #ddd;\n  text-align: center;\n  font-weight: 600;\n}\n\n.range-input:focus {\n  outline: none;\n  border-color: #000;\n}\n\n.range-separator {\n  font-size: 1rem;\n  color: #666;\n  padding-bottom: 0.5rem;\n}\n\n.range-hint {\n  margin-top: 0.75rem;\n  font-size: 0.875rem;\n  color: #666;\n}\n\n/*  */\n.style-panel {\n  background: #fafafa;\n}\n\n.style-settings {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  padding: 0.5rem 0;\n}\n\n.style-divider {\n  border: 0;\n  border-top: 1px dashed #eee;\n  margin: 0.25rem 0;\n  width: 100%;\n}\n\n.style-group {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.style-label {\n  font-size: 0.8rem;\n  font-weight: 600;\n  color: #666;\n  margin-bottom: 0.25rem;\n  display: flex;\n  justify-content: space-between;\n}\n\n.style-flex-row {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.style-select {\n  padding: 0 0.75rem;\n  height: 34px;\n  width: 180px;\n  font-size: 0.85rem;\n  border: 1px solid #ddd;\n  background-color: #fff;\n  border-radius: 0px;\n  cursor: pointer;\n  outline: none;\n  color: #333;\n  transition: all 0.2s;\n}\n\n.style-select:hover {\n  border-color: #999;\n}\n\n.style-select:focus {\n  outline: none;\n  border-color: #000;\n}\n\n.compact-btn {\n  white-space: nowrap;\n  height: 34px;\n  line-height: 1;\n  display: flex;\n  align-items: center;\n}\n\n.compact-group {\n  margin: 0;\n  /*  group  margin */\n}\n\n.sliders-grid {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 1rem 1.5rem;\n  margin-bottom: 0.5rem;\n}\n\n.style-slider.full-width {\n  width: 100%;\n  /*  */\n  margin: 0;\n  max-width: none;\n}\n\n/*  Grid  () */\n.color-grid {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  /*  */\n  gap: 1rem 1.5rem;\n  /* 1rem1.5rem */\n}\n\n.style-slider {\n  -webkit-appearance: none;\n  /*  */\n  appearance: none;\n  width: 100%;\n  height: 4px;\n  /*  4px */\n  background: #e0e0e0;\n  border-radius: 0px;\n  outline: none;\n  cursor: pointer;\n  margin: 8px 0;\n  /*  */\n}\n\n.style-slider::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  appearance: none;\n  width: 16px;\n  /*  */\n  height: 16px;\n  background: #fff;\n  border: 2px solid #333;\n  /*  */\n  border-radius: 50%;\n  cursor: pointer;\n  transition: transform 0.1s, background 0.1s;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);\n  /*  */\n}\n\n\n.style-slider::-webkit-slider-thumb:hover {\n  transform: scale(1.1);\n  /*  */\n  background: #333;\n  /*  */\n  border-color: #333;\n}\n\n/*  (Firefox) */\n.style-slider::-moz-range-thumb {\n  width: 16px;\n  height: 16px;\n  background: #fff;\n  border: 2px solid #333;\n  border-radius: 50%;\n  cursor: pointer;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);\n}\n\n.style-slider::-moz-range-thumb:hover {\n  transform: scale(1.1);\n  background: #333;\n}\n\n.style-value {\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: #666;\n  min-width: 50px;\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n.color-options {\n  display: flex;\n  gap: 0.5rem;\n  flex-wrap: wrap;\n}\n\n.color-btn {\n  width: 28px;\n  height: 28px;\n  border: 2px solid transparent;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: all 0.2s;\n  position: relative;\n}\n\n.color-btn:hover {\n  transform: scale(1.1);\n}\n\n.color-btn.active {\n  border-color: #000;\n  box-shadow: 0 0 0 2px #fff, 0 0 0 4px #000;\n}\n\n/*  */\n.color-picker-row {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  background: #f5f5f5;\n  padding: 4px 8px;\n  border-radius: 2px;\n  border: 1px solid #eee;\n}\n\n.color-input {\n  width: 24px;\n  height: 24px;\n  border: none;\n  border-radius: 2px;\n  padding: 0;\n  background: none;\n}\n\n.color-value {\n  font-size: 0.75rem;\n  font-family: monospace;\n  color: #999;\n}\n\n.align-options {\n  display: flex;\n  gap: 0.5rem;\n}\n\n.align-btn {\n  width: 36px;\n  height: 36px;\n  border: 1px solid #ddd;\n  background: #fff;\n  cursor: pointer;\n  font-size: 1rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s;\n}\n\n.align-btn:hover {\n  border-color: #000;\n  background: #f5f5f5;\n}\n\n.align-btn.active {\n  background: #000;\n  color: #fff;\n  border-color: #000;\n}\n\n.style-preview {\n  margin-top: 1.5rem;\n  padding-top: 1.5rem;\n  border-top: 1px solid #ddd;\n}\n\n.style-preview-label {\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: #666;\n  margin-bottom: 0.75rem;\n}\n\n.style-preview-content {\n  padding: 1rem;\n  background: #fff;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n}\n\n/*  */\n.custom-fonts-section {\n  margin-top: 1.5rem;\n  padding-top: 1.5rem;\n  border-top: 1px solid #eee;\n}\n\n.custom-font-list {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  margin-top: 0.75rem;\n}\n\n.custom-font-item {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0.5rem 0.75rem;\n  background: #f8f8f8;\n  border: 1px solid #e0e0e0;\n  border-radius: 4px;\n}\n\n.custom-font-name {\n  font-size: 0.875rem;\n  color: #333;\n}\n\n.add-font-btn {\n  margin-top: 0.5rem;\n  font-size: 0.75rem;\n  padding: 0.25rem 0.5rem;\n}\n\n/*  */\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 10000;\n}\n\n.modal-dialog {\n  background: #fff;\n  border-radius: 8px;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\n  max-width: 500px;\n  width: 90%;\n  max-height: 90vh;\n  overflow: auto;\n}\n\n.modal-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 1rem 1.25rem;\n  border-bottom: 1px solid #eee;\n}\n\n.modal-header h3 {\n  margin: 0;\n  font-size: 1.125rem;\n  font-weight: 600;\n}\n\n.modal-close {\n  background: none;\n  border: none;\n  font-size: 1.25rem;\n  cursor: pointer;\n  color: #666;\n  padding: 0.25rem;\n  line-height: 1;\n}\n\n.modal-close:hover {\n  color: #000;\n}\n\n.modal-body {\n  padding: 1.25rem;\n}\n\n.modal-footer {\n  display: flex;\n  justify-content: flex-end;\n  gap: 0.75rem;\n  padding: 1rem 1.25rem;\n  border-top: 1px solid #eee;\n}\n\n.form-input {\n  width: 100%;\n  padding: 0.5rem 0.75rem;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  font-size: 0.875rem;\n  box-sizing: border-box;\n}\n\n.form-input:focus {\n  outline: none;\n  border-color: #666;\n}\n\n.form-input:disabled {\n  background: #f5f5f5;\n  color: #999;\n}\n\n.form-file-input {\n  width: 100%;\n  padding: 0.5rem 0;\n  font-size: 0.875rem;\n}\n\n.file-selected {\n  margin-top: 0.5rem;\n  font-size: 0.75rem;\n  color: #666;\n}\n\n.required {\n  color: #e53935;\n}\n\n.import-tabs {\n  margin-top: 1rem;\n}\n\n.import-method {\n  margin-bottom: 1rem;\n}\n\n.import-method-header {\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: #333;\n  margin-bottom: 0.5rem;\n}\n\n.import-divider {\n  text-align: center;\n  color: #999;\n  font-size: 0.875rem;\n  margin: 1rem 0;\n  position: relative;\n}\n\n.import-divider::before,\n.import-divider::after {\n  content: '';\n  position: absolute;\n  top: 50%;\n  width: 40%;\n  height: 1px;\n  background: #ddd;\n}\n\n.import-divider::before {\n  left: 0;\n}\n\n.import-divider::after {\n  right: 0;\n}\n\n.btn-sm {\n  padding: 0.375rem 0.625rem;\n  font-size: 0.75rem;\n}\n\n/*  */\n.action-button.active {\n  background: #000;\n  color: #fff;\n}\n\n/*  */\n.reading-mode-btn {\n  background: #f0f7ff;\n  border-color: #4a90d9;\n  color: #4a90d9;\n}\n\n.reading-mode-btn:hover {\n  background: #4a90d9;\n  color: #fff;\n}\n\n.reading-mode-btn.active {\n  background: #4a90d9;\n  color: #fff;\n  border-color: #4a90d9;\n}\n\n/* =======  ======= */\n/*  */\n.reading-view {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: #fefefe;\n  z-index: 500;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  /*  */\n}\n\n/*  CSS Columns  */\n.reading-content {\n  height: calc(100vh - 3rem);\n  /*  */\n  /* width  JS  scrollWidth */\n  min-width: 100vw;\n  /*  */\n  box-sizing: border-box;\n\n  /* CSS Columns  - column-width  JS  */\n  column-gap: 0;\n  /* 0padding */\n  column-fill: auto;\n  /*  */\n\n  /* paddingpadding */\n  padding: 2rem 0 3rem 0;\n\n  text-align: justify;\n  overflow: visible;\n  /* scrollWidth  */\n\n  /*  */\n  transition: transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n\n  /*  */\n  word-wrap: break-word;\n  word-break: break-all;\n\n  /*  */\n  user-select: text;\n  -webkit-user-select: text;\n  cursor: text;\n}\n\n/*  */\n.reading-content :deep(p),\n.reading-content :deep(span),\n.reading-content :deep(strong),\n.reading-content :deep(em),\n.reading-content :deep(blockquote),\n.reading-content :deep(li),\n.reading-content :deep(h1),\n.reading-content :deep(h2),\n.reading-content :deep(h3),\n.reading-content :deep(h4),\n.reading-content :deep(h5),\n.reading-content :deep(h6),\n.reading-content :deep(a),\n.reading-content :deep(td),\n.reading-content :deep(th) {\n  font-family: var(--content-font);\n}\n\n.reading-content :deep(code),\n.reading-content :deep(pre),\n.reading-content :deep(pre code) {\n  font-family: 'Consolas', 'Monaco', monospace !important;\n}\n\n/*  */\n.reading-content :deep(p),\n.reading-content :deep(div),\n.reading-content :deep(li),\n.reading-content :deep(h1),\n.reading-content :deep(h2),\n.reading-content :deep(h3),\n.reading-content :deep(h4),\n.reading-content :deep(h5),\n.reading-content :deep(h6),\n.reading-content :deep(blockquote),\n.reading-content :deep(pre) {\n  padding-left: 1.5rem;\n  padding-right: 1.5rem;\n  box-sizing: border-box;\n  break-inside: avoid;\n  page-break-inside: avoid;\n  margin: 0 0 var(--paragraph-spacing, 1em) 0;\n}\n\n/*  */\n.reading-content :deep(.reading-message) {\n  display: block;\n}\n\n/*  */\n.reading-content :deep(.reading-speaker-name) {\n  font-weight: bold;\n  font-size: 0.9em;\n  color: #666;\n  margin-top: 1rem;\n  padding-left: 1.5rem;\n  padding-right: 1.5rem;\n}\n\n.reading-content :deep(img) {\n  max-width: calc(100% - 3rem);\n  max-height: 90%;\n  height: auto;\n  display: block;\n  margin: 1rem auto;\n  padding-left: 1.5rem;\n  padding-right: 1.5rem;\n  box-sizing: border-box;\n}\n\n/*  */\n.reading-content :deep(.reading-separator) {\n  height: 2rem;\n  margin: 1rem 1.5rem;\n  border-bottom: 1px dashed #eee;\n}\n\n/*  -  */\n.reading-nav-left {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 20%;\n  height: calc(100% - 60px);\n  z-index: 504;\n  cursor: w-resize;\n  -webkit-tap-highlight-color: transparent;\n}\n\n/*  -  */\n.reading-nav-right {\n  position: fixed;\n  top: 0;\n  right: 0;\n  width: 20%;\n  height: calc(100% - 60px);\n  z-index: 504;\n  cursor: e-resize;\n  -webkit-tap-highlight-color: transparent;\n}\n\n/*  -  */\n.reading-nav-center {\n  position: fixed;\n  top: 0;\n  left: 20%;\n  width: 60%;\n  height: 60px;\n  z-index: 504;\n  cursor: pointer;\n  -webkit-tap-highlight-color: transparent;\n}\n\n/*  */\n.reading-footer {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: rgba(255, 255, 255, 0.98);\n  border-top: 1px solid #e0e0e0;\n  padding: 0.75rem 1.5rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  transform: translateY(100%);\n  opacity: 0;\n  transition: transform 0.3s ease, opacity 0.3s ease;\n  z-index: 520;\n}\n\n.reading-footer.visible {\n  transform: translateY(0);\n  opacity: 1;\n}\n\n.reading-progress {\n  font-size: 0.875rem;\n  color: #666;\n  display: flex;\n  gap: 1.5rem;\n}\n\n.reading-floor {\n  color: #999;\n}\n\n.reading-controls {\n  display: flex;\n  gap: 0.5rem;\n}\n\n.reading-btn {\n  padding: 0.375rem 0.75rem;\n  font-size: 0.8125rem;\n  border: 1px solid #ddd;\n  background: #fff;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.reading-btn:hover:not(:disabled) {\n  border-color: #000;\n  background: #f5f5f5;\n}\n\n.reading-btn:disabled {\n  opacity: 0.4;\n  cursor: not-allowed;\n}\n\n.reading-btn.reading-exit {\n  background: #f5f5f5;\n  border-color: #ccc;\n}\n\n.reading-btn.reading-exit:hover {\n  background: #e0e0e0;\n}\n\n/* ===  === */\n@media (max-width: 768px) {\n  .dash-cal-header {\n    flex-wrap: wrap;\n    /*  */\n    gap: 0.5rem;\n    /*  */\n  }\n\n  /* 1.  */\n  .dash-cal-title {\n    order: 1;\n  }\n\n  /* 2.  () */\n  .view-toggle-btn {\n    order: 2;\n    margin-left: auto;\n  }\n\n  /* 3.  */\n  .dash-cal-meta {\n    order: 3;\n    width: 100%;\n    /*  */\n    margin-top: 0.2rem;\n    margin-left: 0;\n    /*  */\n  }\n}\n\n/*  */\n@media (max-width: 768px) {\n  .chat-header {\n    padding: 2rem 1.5rem 1.5rem;\n    flex-direction: column;\n    gap: 1rem;\n  }\n\n  .header-actions {\n    flex-direction: row;\n    flex-wrap: wrap;\n    justify-content: flex-start;\n    gap: 0.375rem;\n    max-width: none;\n  }\n\n  .action-button,\n  .reset-button {\n    flex: 0 0 auto;\n    padding: 0.25rem 0.5rem;\n    font-size: 0.7rem;\n  }\n\n  .chat-title {\n    font-size: 1.5rem;\n  }\n\n  .message-block {\n    padding: 2rem 1.5rem;\n  }\n\n  .message-header {\n    flex-direction: column;\n    gap: 0.5rem;\n    align-items: flex-start;\n  }\n\n  .upload-area {\n    padding: 1rem;\n  }\n\n  .upload-label {\n    padding: 3rem 1.5rem;\n  }\n\n  /*  */\n  .search-bar {\n    flex-direction: column;\n    padding: 0.75rem 1.5rem;\n    gap: 0.5rem;\n  }\n\n  .search-input-wrapper {\n    max-width: none;\n  }\n\n  /*  */\n  .pagination-bar {\n    flex-direction: column;\n    gap: 0.75rem;\n    padding: 0.75rem 1.5rem;\n  }\n\n  .pagination-controls {\n    flex-wrap: wrap;\n    justify-content: center;\n  }\n\n  /*  */\n  .regex-manager {\n    padding: 1rem 1.5rem;\n  }\n\n  .regex-header {\n    flex-direction: column;\n    gap: 1rem;\n    align-items: flex-start;\n  }\n\n  .regex-actions {\n    width: 100%;\n    flex-wrap: wrap;\n  }\n\n  .regex-actions .btn {\n    flex: 1;\n    min-width: 80px;\n  }\n\n  .script-item {\n    flex-wrap: wrap;\n  }\n\n  .script-controls {\n    width: 100%;\n    justify-content: flex-end;\n    margin-top: 0.5rem;\n    padding-top: 0.5rem;\n    border-top: 1px solid #eee;\n  }\n}\n\n.color-picker-row {\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n}\n\n.color-input {\n  width: 50px;\n  height: 30px;\n  padding: 0;\n  border: 1px solid #ddd;\n  cursor: pointer;\n  background: none;\n}\n\n.color-value {\n  font-family: monospace;\n  font-size: 0.875rem;\n  color: #666;\n}\n\n/* ===  === */\n.view-toggle-btn {\n  background: transparent;\n  border: 1px solid #ddd;\n  padding: 4px 10px;\n  font-size: 0.8rem;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  border-radius: 4px;\n  color: #666;\n  transition: all 0.2s;\n  margin-left: auto;\n  /*  */\n  border-radius: 0px;\n}\n\n.view-toggle-btn:hover {\n  background: #f0f0f0;\n  color: #000;\n  border-color: #999;\n}\n\n/* ===  === */\n.heatmap-widget {\n  background: #fff;\n  padding: 1rem 0;\n  animation: fadeIn 0.3s ease;\n}\n\n.heatmap-scroll-container {\n  overflow-x: auto;\n  /*  */\n  padding-bottom: 15px;\n  /*  */\n  /*  (Chrome/Safari) */\n  padding-top: 5px;\n}\n\n.heatmap-scroll-container::-webkit-scrollbar {\n  height: 6px;\n}\n\n.heatmap-scroll-container::-webkit-scrollbar-thumb {\n  background: #ddd;\n  border-radius: 3px;\n}\n\n.heatmap-grid {\n  display: inline-flex;\n  /*  */\n  gap: 4px;\n  /*  */\n  padding: 0 3rem;\n}\n\n/*  */\n.heatmap-week-labels {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  padding-right: 6px;\n  font-size: 0.7rem;\n  color: #999;\n  height: calc(12px * 7 + 3px * 6);\n  /*  */\n  padding-top: 1px;\n  /*  */\n}\n\n.heatmap-week-labels span {\n  height: 12px;\n  line-height: 12px;\n  font-family: monospace;\n}\n\n/*  () */\n.heatmap-col {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  /*  */\n}\n\n/*  */\n.heatmap-cell {\n  width: 18px;\n  height: 18px;\n  border-radius: 1px;\n  background-color: #ebedf0;\n  /*  (GitHub ) */\n  transition: transform 0.1s;\n}\n\n.heatmap-cell:hover {\n  transform: scale(1.3);\n  border: 1px solid rgba(0, 0, 0, 0.3);\n  z-index: 2;\n}\n\n/*  */\n.heatmap-footer {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-top: 1rem;\n  padding: 0 1rem;\n  font-size: 0.75rem;\n  color: #888;\n}\n\n.heatmap-legend {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n}\n\n.legend-item {\n  width: 10px;\n  height: 10px;\n  border-radius: 2px;\n  display: inline-block;\n}\n\n/*  ( getGradientColor ) */\n.legend-item.level-1 {\n  background-color: #fce4ec;\n}\n\n/*  */\n.legend-item.level-2 {\n  background-color: #f48fb1;\n}\n\n.legend-item.level-3 {\n  background-color: #e91e63;\n}\n\n.legend-item.level-4 {\n  background-color: #880e4f;\n}\n\n/*  */\n\n/* ===  === */\n.dark-mode .view-toggle-btn {\n  border-color: #444;\n  color: #aaa;\n}\n\n.dark-mode .view-toggle-btn:hover {\n  background: #333;\n  color: #fff;\n}\n\n.dark-mode .heatmap-widget {\n  background: transparent;\n}\n\n.dark-mode .heatmap-cell {\n  background-color: #2d2d2d;\n  /*  */\n}\n\n.dark-mode .heatmap-week-labels {\n  color: #666;\n}\n\n/* ===  === */\n\n/* 1.  */\n.dashboard-calendar-section {\n  background: #fff;\n  border: 1px solid #ddd;\n  padding: 1.5rem;\n  margin-bottom: 2rem;\n  /*  */\n  min-height: 200px;\n}\n\n/* 2.  */\n.day-cell {\n  /*  aspect-ratio 0 */\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 0px;\n  font-size: 0.9rem;\n  color: #999;\n}\n\n/* 3.  */\n.day-cell.has-data {\n  color: #fff;\n  font-weight: bold;\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);\n}\n\n/* 4.  Grid  */\n.month-grid {\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  gap: 4px;\n}\n\n/* 5.  */\n.heatmap-widget {\n  width: 100%;\n  overflow: hidden;\n  padding-top: 10px;\n}\n\n/* 6.  */\n.dark-mode .dashboard-calendar-section {\n  background: #1e1e1e;\n  border-color: #333;\n}\n\n.dark-mode .day-cell {\n  background: #2f2f2f;\n  /*  */\n}\n\n/* ===  === */\n.fav-header-container {\n  margin-bottom: 1rem;\n  border-bottom: 1px solid #eee;\n  padding-bottom: 1rem;\n}\n\n.fav-top-row {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n}\n\n/*  */\n.fav-tabs-row {\n  display: flex;\n  width: 100%;\n  border: 1px solid #000;\n  border-radius: 4px;\n  /*  0px  */\n  overflow: hidden;\n}\n\n.fav-tab {\n  flex: 1;\n  /*  */\n  border: none;\n  background: #fff;\n  color: #000;\n  padding: 6px 0;\n  font-size: 0.9rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s;\n  border-right: 1px solid #000;\n}\n\n.fav-tab:last-child {\n  border-right: none;\n}\n\n.fav-tab.active {\n  background: #000;\n  color: #fff;\n}\n\n.fav-tab:hover:not(.active) {\n  background: #f0f0f0;\n}\n\n/*  */\n.compact-btn {\n  padding: 4px 8px;\n  font-size: 0.75rem;\n}\n\n/*  */\n.dark-mode .fav-header-container {\n  border-bottom-color: #333;\n}\n\n.dark-mode .fav-tabs-row {\n  border-color: #555;\n}\n\n.dark-mode .fav-tab {\n  background: #2d2d2d;\n  color: #aaa;\n  border-right-color: #555;\n}\n\n.dark-mode .fav-tab.active {\n  background: #e0e0e0;\n  color: #121212;\n}\n\n.dark-mode .fav-tab:hover:not(.active) {\n  background: #333;\n}\n\n/* ===  (Underline Style) === */\n\n.fav-header-minimal {\n  margin-bottom: 0.5rem;\n  border-bottom: 1px solid #eee;\n  /*  */\n}\n\n.fav-toolbar {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-end;\n  /*  Tabs  */\n}\n\n/* Tabs  */\n.fav-tabs-simple {\n  display: flex;\n  gap: 1.5rem;\n  /* Tab  */\n}\n\n/* Tab  */\n.simple-tab {\n  background: none;\n  border: none;\n  border-bottom: 2px solid transparent;\n  /*  */\n  padding: 8px 2px;\n  font-size: 0.9rem;\n  font-weight: 500;\n  color: #888;\n  cursor: pointer;\n  transition: all 0.2s;\n  margin-bottom: -1px;\n  /*  */\n}\n\n.simple-tab:hover {\n  color: #333;\n}\n\n/*  +  */\n.simple-tab.active {\n  color: #000;\n  border-bottom-color: #000;\n}\n\n/*  */\n.fav-actions-simple {\n  display: flex;\n  gap: 0.5rem;\n  padding-bottom: 6px;\n  /*  */\n}\n\n/*  */\n.btn-xs {\n  padding: 2px 8px;\n  font-size: 0.75rem;\n  height: 24px;\n}\n\n/*  */\n.dark-mode .fav-header-minimal {\n  border-bottom-color: #333;\n}\n\n.dark-mode .simple-tab {\n  color: #666;\n}\n\n.dark-mode .simple-tab:hover {\n  color: #ccc;\n}\n\n.dark-mode .simple-tab.active {\n  color: #fff;\n  border-bottom-color: #fff;\n}\n</style>\n\n<style>\n/* ===  () === */\nhtml,\nbody {\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100%;\n  overflow-x: hidden;\n  /*  */\n  -webkit-tap-highlight-color: transparent;\n  /*  */\n}\n\n/*  padding  */\n*,\n*::before,\n*::after {\n  box-sizing: border-box;\n}\n\n/*  - scoped */\n@font-face {\n  font-family: 'Alegreya';\n  src: url('~@/assets/fonts/Alegreya.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n\n@font-face {\n  font-family: '';\n  src: url('~@/assets/fonts/cangeryunhei.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n\n@font-face {\n  font-family: '';\n  src: url('~@/assets/fonts/huiwenmingchao.otf') format('opentype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n\n@font-face {\n  font-family: '';\n  src: url('~@/assets/fonts/kongmingchao.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n\n@font-face {\n  font-family: '';\n  src: url('~@/assets/fonts/pingxianzhensong.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n\n@font-face {\n  font-family: '';\n  src: url('~@/assets/fonts/wenyueminguofangsong.otf') format('opentype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n\n/* =========================================\n      (Preview Fix)\n     ========================================= */\n\n/* 1.  */\n.style-preview-content em,\n.style-preview-content i {\n  font-style: italic;\n  /*  !important  */\n  color: var(--italic-color, inherit) !important;\n}\n\n/* 2.  */\n.style-preview-content u {\n  text-decoration: underline;\n  /*  */\n  text-decoration-color: var(--underline-color, inherit) !important;\n  /*  */\n  color: var(--underline-color, inherit) !important;\n}\n\n/* 3.  */\n.style-preview-content blockquote {\n  /*  */\n  border-left-style: solid !important;\n  border-left-width: 4px !important;\n  border-left-color: var(--quote-color, #666) !important;\n\n  /*  */\n  color: var(--quote-color, #666) !important;\n\n  /*  */\n  padding-left: 1rem !important;\n  margin: 1rem 0 !important;\n  opacity: 1 !important;\n  /*  */\n}\n\n/* =========================================================\n       (Dark Mode) -  CSS \n     ========================================================= */\n\n/* 1.  */\n.dark-mode.st-reader {\n  /*  */\n  background-image: url('https://sazankaze.neocities.org/bg_pic/black-texture1.png');\n  background-repeat: repeat;\n  background-attachment: fixed;\n\n  background-color: #121212;\n  /*  */\n  color: #e0e0e0;\n}\n\n.dark-mode .chat-container {\n  background: #1e1e1e;\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);\n  border-left: 1px solid #333;\n  border-right: 1px solid #333;\n}\n\n.dark-mode .chat-header {\n  border-bottom-color: #444;\n}\n\n.dark-mode .chat-title {\n  color: #e0e0e0;\n}\n\n/* 2.  */\n.dark-mode .action-button,\n.dark-mode .reset-button,\n.dark-mode .page-btn,\n.dark-mode .btn-secondary,\n.dark-mode .btn-icon,\n.dark-mode .swipe-btn,\n.dark-mode .edit-btn {\n  background: #2d2d2d;\n  border-color: #444;\n  color: #ccc;\n}\n\n.dark-mode .action-button:hover,\n.dark-mode .reset-button:hover,\n.dark-mode .btn-secondary:hover {\n  background: #444;\n  color: #fff;\n  border-color: #666;\n}\n\n/*  */\n.dark-mode .action-button.active,\n.dark-mode .page-btn.active {\n  background: #4a90d9;\n  border-color: #4a90d9;\n  color: #fff;\n}\n\n/* 3.  () */\n.dark-mode .search-bar,\n.dark-mode .regex-manager,\n.dark-mode .style-panel,\n.dark-mode .pagination-bar {\n  background: #1e1e1e;\n  border-color: #444;\n  color: #ccc;\n}\n\n.dark-mode .style-label,\n.dark-mode .pagination-info,\n.dark-mode .chat-meta {\n  color: #888;\n}\n\n/*  */\n.dark-mode input[type=\"text\"],\n.dark-mode input[type=\"number\"],\n.dark-mode textarea,\n.dark-mode .search-input,\n.dark-mode .style-select,\n.dark-mode .form-input,\n.dark-mode .edit-textarea {\n  background: #2d2d2d;\n  border-color: #444;\n  color: #e0e0e0;\n}\n\n.dark-mode input:focus,\n.dark-mode textarea:focus,\n.dark-mode select:focus {\n  border-color: #666;\n  background: #333;\n}\n\n/* 4.  */\n.dark-mode .message-block {\n  border-bottom-color: #333;\n}\n\n/*  */\n.dark-mode .user-message {\n  background: rgba(255, 255, 255, 0.05) !important;\n  border-left-color: #666 !important;\n}\n\n.dark-mode .user-message .speaker-name {\n  color: #ddd;\n}\n\n.dark-mode .speaker-name {\n  color: #aaa;\n}\n\n/* 5.  */\n.dark-mode .color-picker-row {\n  background: #2d2d2d;\n  border-color: #444;\n}\n\n.dark-mode .style-divider {\n  border-top-color: #333;\n}\n\n/*  */\n.dark-mode .style-slider {\n  background: #444;\n}\n\n.dark-mode .style-slider::-webkit-slider-thumb {\n  border-color: #888;\n  background: #2d2d2d;\n}\n\n/* 6.  */\n.dark-mode .reading-view {\n  background: #121212;\n}\n\n.dark-mode .reading-footer {\n  background: #1e1e1e;\n  border-top-color: #333;\n}\n\n.dark-mode .reading-separator {\n  border-bottom-color: #333;\n}\n\n/* --- 7.  --- */\n.dark-mode .upload-label {\n  background: rgba(30, 30, 30, 0.85);\n  /*  */\n  border-color: #666;\n  /*  */\n  color: #e0e0e0;\n  /*  */\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);\n  /*  */\n}\n\n.dark-mode .upload-label:hover {\n  background: #e0e0e0;\n  border-color: #e0e0e0;\n  color: #121212;\n}\n\n.dark-mode .upload-hint {\n  color: #888;\n}\n\n.dark-mode .upload-label:hover .upload-hint {\n  color: #444;\n  opacity: 1;\n}\n\n/* HTML  */\n.dark-mode .html-preview-header {\n  border-bottom-color: #444;\n}\n\n.dark-mode .html-tag {\n  background: #333;\n  color: #aaa;\n}\n\n.dark-mode .preview-toggle {\n  background: #2d2d2d;\n  border-color: #555;\n  color: #ccc;\n}\n\n.dark-mode .preview-toggle:hover {\n  background: #e0e0e0;\n  color: #121212;\n  border-color: #e0e0e0;\n}\n\n.dark-mode .html-iframe {\n  border-color: #444;\n}\n\n/* --- 9.  --- */\n.dark-mode .edit-textarea:focus {\n  background-color: #333 !important;\n  border-color: #666 !important;\n  color: #e0e0e0 !important;\n  box-shadow: none;\n}\n\n.dark-mode .search-input:focus {\n  background-color: #333 !important;\n  border-color: #666 !important;\n  color: #e0e0e0 !important;\n}\n\n/* --- 10.  --- */\n.dark-mode .page-size-select {\n  background-color: #2d2d2d;\n  border-color: #444;\n  color: #e0e0e0;\n}\n\n.dark-mode .page-size-select:focus {\n  border-color: #666;\n  background-color: #333;\n  outline: none;\n}\n\n.dark-mode .page-size-select option {\n  background-color: #2d2d2d;\n  color: #e0e0e0;\n}\n\n/* --- 11.  --- */\n\n/* 1.  */\n.dark-mode .reading-footer {\n  background-color: #1e1e1e !important;\n  border-top: 1px solid #333 !important;\n  color: #e0e0e0 !important;\n  box-shadow: 0 -4px 15px rgba(0, 0, 0, 0.6) !important;\n}\n\n/* 2.  () */\n.dark-mode .reading-footer button {\n  background-color: #2d2d2d !important;\n  color: #ccc !important;\n  border: 1px solid #444 !important;\n  transition: all 0.2s;\n}\n\n.dark-mode .reading-footer button:hover {\n  background-color: #e0e0e0 !important;\n  color: #121212 !important;\n  border-color: #e0e0e0 !important;\n}\n\n/* 3.  */\n.dark-mode .reading-footer input[type=\"number\"],\n.dark-mode .reading-footer input[type=\"text\"] {\n  background-color: #121212 !important;\n  color: #fff !important;\n  border: 1px solid #444 !important;\n}\n\n.dark-mode .reading-footer input:focus {\n  border-color: #888 !important;\n  background-color: #000 !important;\n}\n\n/* 4.  ( / ) */\n.dark-mode .reading-footer span {\n  color: #888 !important;\n}\n\n/* --- 13.  --- */\n.icon-label-row {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n}\n\n.mode-icon {\n  font-size: 1.1em;\n  line-height: 1;\n}\n\n.dark-mode .mode-icon.sun {\n  color: #ffb74d;\n}\n\n.mode-icon.moon {\n  color: #5c6bc0;\n}\n\n/* --- 14.  --- */\n/* =========================================================\n       (Regex, Tags, Favorites, Export)\n     ========================================================= */\n\n/* --- 1.  --- */\n\n/*  */\n.dark-mode .script-item,\n.dark-mode .favorite-item {\n  background: #252525;\n  border-color: #444;\n  color: #e0e0e0;\n}\n\n.dark-mode .script-item:hover,\n.dark-mode .favorite-item:hover {\n  border-color: #666;\n  background: #2f2f2f;\n}\n\n/*  */\n.dark-mode .script-item.disabled {\n  background: #1a1a1a;\n  opacity: 0.6;\n}\n\n/* / */\n.dark-mode .script-name,\n.dark-mode .favorite-type {\n  color: #fff;\n}\n\n/*  */\n.dark-mode .script-regex {\n  color: #aaa;\n}\n\n/*  */\n.dark-mode .script-form {\n  background: #252525;\n  border-color: #444;\n  color: #e0e0e0;\n}\n\n/*  */\n.dark-mode .form-hint {\n  color: #888;\n}\n\n/*  (///) */\n.dark-mode .btn-icon {\n  background: #333;\n  border-color: #555;\n  color: #ccc;\n}\n\n.dark-mode .btn-icon:hover:not(:disabled) {\n  background: #444;\n  border-color: #777;\n  color: #fff;\n}\n\n/* /  */\n.dark-mode .btn-toggle {\n  background: #1a1a1a;\n  border-color: #444;\n  color: #888;\n}\n\n.dark-mode .btn-toggle.active {\n  background: #4a90d9;\n  /*  #ccc */\n  border-color: #4a90d9;\n  color: #fff;\n}\n\n\n/*  */\n.dark-mode .favorite-text {\n  color: #ddd;\n}\n\n/*  (/) */\n.dark-mode .favorite-meta {\n  color: #777;\n}\n\n/*  */\n.dark-mode .export-dialog,\n.dark-mode .modal-dialog {\n  background: #1e1e1e;\n  border-color: #444;\n  color: #e0e0e0;\n  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.6);\n}\n\n/*  */\n.dark-mode .export-dialog-header,\n.dark-mode .modal-header {\n  border-bottom-color: #333;\n}\n\n/*  */\n.dark-mode .modal-close {\n  color: #aaa;\n}\n\n.dark-mode .modal-close:hover {\n  color: #fff;\n}\n\n/*  */\n.dark-mode .export-range {\n  border-bottom-color: #333;\n}\n\n.dark-mode .range-input-group label,\n.dark-mode .range-separator,\n.dark-mode .range-hint {\n  color: #aaa;\n}\n\n/*  */\n.dark-mode .range-input {\n  background: #2d2d2d;\n  border-color: #444;\n  color: #fff;\n}\n\n/*  */\n.dark-mode .export-preview {\n  background: #121212;\n  border-color: #333;\n}\n\n.dark-mode .export-preview-label {\n  color: #888;\n}\n\n.dark-mode .export-preview-content {\n  color: #ccc;\n}\n\n/*  */\n.dark-mode .export-dialog-footer,\n.dark-mode .modal-footer {\n  background: #252525;\n  border-top-color: #333;\n}\n\n/*  (Checkbox ) */\n.dark-mode .export-option {\n  color: #ccc;\n}\n\n/*  */\n.dark-mode .import-divider {\n  color: #666;\n}\n\n.dark-mode .import-divider::before,\n.dark-mode .import-divider::after {\n  background: #444;\n}\n\n.dark-mode .import-method-header {\n  color: #ccc;\n}\n\n.dark-mode .file-selected {\n  color: #aaa;\n}\n\n.dark-mode .custom-font-item {\n  background: #2d2d2d;\n  border-color: #444;\n}\n\n.dark-mode .custom-font-name {\n  color: #e0e0e0;\n}\n\n/* ---  --- */\n.dark-mode .style-preview-content {\n  background-color: #252525 !important;\n  border-color: #444 !important;\n  color: #e0e0e0;\n}\n\n/* 1.  (PRE) */\n.dark-mode .message-content pre,\n.dark-mode .message-content-mixed pre,\n.dark-mode .reading-content pre {\n  background-color: #1e1e1e !important;\n  border: 1px solid #333 !important;\n  color: #d4d4d4 !important;\n  padding: 1em !important;\n  overflow-x: auto !important;\n  margin: 1em 0 !important;\n}\n\n/* 2. PRE  CODE */\n.dark-mode .message-content pre code,\n.dark-mode .message-content-mixed pre code,\n.dark-mode .reading-content pre code {\n  background-color: transparent !important;\n  border: none !important;\n  color: inherit !important;\n  padding: 0 !important;\n  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace !important;\n}\n\n/* 3.  */\n.dark-mode .message-content code:not(pre code),\n.dark-mode .message-content-mixed code:not(pre code),\n.dark-mode .reading-content code:not(pre code) {\n  background-color: #3e3e3e !important;\n  color: #e0e0e0 !important;\n  border: 1px solid #555 !important;\n  padding: 2px 6px !important;\n  font-family: Consolas, Monaco, monospace !important;\n  font-size: 0.9em !important;\n}\n\n/*  */\n.intimacy-btn {\n  color: #e91e63;\n  border-color: #e91e63;\n  background: #fff0f5;\n  /*  */\n}\n\n.intimacy-btn:hover {\n  background: #e91e63;\n  color: #fff;\n}\n\n.intimacy-btn.active {\n  background: #e91e63;\n  color: #fff;\n}\n\n/*  */\n.intimacy-dialog {\n  max-width: 700px;\n}\n\n.stats-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));\n  gap: 1rem;\n  margin-bottom: 2rem;\n}\n\n.stat-card {\n  background: #f8f9fa;\n  padding: 1.25rem;\n  border-radius: 0px;\n  text-align: center;\n  border: 1px solid #eee;\n  transition: transform 0.2s;\n}\n\n.stat-card:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(233, 30, 99, 0.15);\n  border-color: #e91e63;\n}\n\n.stat-label {\n  font-size: 0.85rem;\n  color: #666;\n  margin-bottom: 0.5rem;\n}\n\n.stat-value {\n  font-size: 1.5rem;\n  font-weight: 800;\n  color: #333;\n  line-height: 1.2;\n}\n\n.stat-value.text-sm {\n  font-size: 1.1rem;\n  /*  */\n}\n\n.stat-value .unit {\n  font-size: 0.9rem;\n  font-weight: normal;\n}\n\n.stat-sub {\n  font-size: 0.75rem;\n  color: #999;\n  margin-top: 0.25rem;\n}\n\n/*  */\n.heatmap-section {\n  border-top: 1px solid #eee;\n  padding-top: 1.5rem;\n}\n\n.heatmap-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n}\n\n.heatmap-header h4 {\n  margin: 0;\n  font-weight: 700;\n}\n\n.heatmap-legend {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  font-size: 0.75rem;\n  color: #666;\n}\n\n.legend-item {\n  width: 10px;\n  height: 10px;\n  border-radius: 0px;\n  display: inline-block;\n}\n\n.heatmap-scroll {\n  overflow-x: auto;\n  padding-bottom: 10px;\n}\n\n.heatmap-week-col {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  padding-right: 4px;\n  font-size: 0.7rem;\n  color: #999;\n  height: calc(100% - 2px);\n}\n\n.heatmap-week {\n  display: flex;\n  flex-direction: column;\n  gap: 3px;\n}\n\n.heatmap-day {\n  width: 12px;\n  height: 12px;\n  border-radius: 0px;\n  background-color: #ebedf0;\n  /*  Level 0 */\n  transition: all 0.2s;\n}\n\n.heatmap-day:hover {\n  transform: scale(1.2);\n  border: 1px solid rgba(0, 0, 0, 0.1);\n}\n\n/*  () */\n.heatmap-day.level-1,\n.legend-item.level-1 {\n  background-color: #fce4ec;\n}\n\n.heatmap-day.level-2,\n.legend-item.level-2 {\n  background-color: #f48fb1;\n}\n\n.heatmap-day.level-3,\n.legend-item.level-3 {\n  background-color: #e91e63;\n}\n\n.heatmap-day.level-4,\n.legend-item.level-4 {\n  background-color: #880e4f;\n}\n\n/* ============================\n      \n     ============================ */\n\n/*  */\n.dark-mode .intimacy-btn {\n  background: rgba(233, 30, 99, 0.15);\n  border-color: #e91e63;\n  color: #f48fb1;\n}\n\n.dark-mode .intimacy-btn:hover {\n  background: #e91e63;\n  color: #fff;\n}\n\n/*  */\n.dark-mode .stat-card {\n  background: #252525;\n  border-color: #444;\n}\n\n.dark-mode .stat-label {\n  color: #aaa;\n}\n\n.dark-mode .stat-value {\n  color: #e0e0e0;\n}\n\n.dark-mode .stat-sub {\n  color: #666;\n}\n\n.dark-mode .stat-card:hover {\n  border-color: #f48fb1;\n}\n\n/* ===  === */\n.calendar-section {\n  border-top: 1px solid #eee;\n  padding-top: 1.5rem;\n  margin-top: 1rem;\n}\n\n.calendar-header-row {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n}\n\n.calendar-header-row h4 {\n  margin: 0;\n  font-weight: 700;\n}\n\n/*  */\n.calendar-scroll-container {\n  max-height: 400px;\n  overflow-y: auto;\n  padding-right: 5px;\n  /*  */\n}\n\n/*  */\n.calendar-months-wrapper {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n  gap: 1.5rem;\n}\n\n.month-card {\n  background: #fff;\n  border: 1px solid #eee;\n  border-radius: 0px;\n  padding: 1rem;\n}\n\n.month-title {\n  text-align: center;\n  font-weight: 700;\n  margin-bottom: 0.75rem;\n  color: #333;\n}\n\n/* 7 */\n.month-grid {\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  gap: 4px;\n}\n\n.weekday-header {\n  text-align: center;\n  font-size: 0.75rem;\n  color: #999;\n  padding-bottom: 4px;\n}\n\n.day-cell {\n  aspect-ratio: 1;\n  /*  */\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 0px;\n  background: #f5f5f5;\n  /*  */\n  font-size: 0.75rem;\n  color: #999;\n  cursor: default;\n  transition: all 0.2s;\n  position: relative;\n}\n\n.day-cell.padding {\n  background: transparent;\n  /*  */\n}\n\n/*  */\n.day-cell.has-data {\n  color: #333;\n  cursor: pointer;\n}\n\n/*  */\n.day-cell.has-data:hover {\n  transform: scale(1.05);\n  z-index: 2;\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);\n  border: 1px solid rgba(0, 0, 0, 0.1);\n}\n\n/*  () */\n.day-cell.level-1 {\n  background-color: #fce4ec;\n  color: #880e4f;\n}\n\n.day-cell.level-2 {\n  background-color: #f48fb1;\n  color: #fff;\n  font-weight: bold;\n}\n\n.day-cell.level-3 {\n  background-color: #e91e63;\n  color: #fff;\n  font-weight: bold;\n}\n\n.day-cell.level-4 {\n  background-color: #880e4f;\n  color: #fff;\n  font-weight: bold;\n}\n\n/*  */\n.calendar-widget {\n  background: #fff;\n  border: 1px solid #eee;\n  border-radius: 0px;\n  overflow: hidden;\n  max-width: 400px;\n  /*  */\n  margin: 0 auto;\n  /*  */\n}\n\n/*  */\n.calendar-nav {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.75rem 1rem;\n  background: #f8f9fa;\n  border-bottom: 1px solid #eee;\n}\n\n.current-month-label {\n  font-weight: 700;\n  font-size: 1rem;\n  color: #333;\n}\n\n.nav-btn {\n  background: #fff;\n  border: 1px solid #ddd;\n  border-radius: 0px;\n  width: 28px;\n  height: 28px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  color: #666;\n  font-size: 0.8rem;\n  transition: all 0.2s;\n}\n\n.nav-btn:hover:not(:disabled) {\n  background: #000;\n  color: #fff;\n  border-color: #000;\n}\n\n.nav-btn:disabled {\n  opacity: 0.3;\n  cursor: not-allowed;\n  background: #f5f5f5;\n}\n\n/*  () */\n.month-card.single-view {\n  border: none;\n  border-radius: 0;\n  box-shadow: none;\n  padding: 1rem;\n}\n\n/*  */\n.month-footer-stats {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0.75rem 1rem;\n  background: #fdfdfd;\n  border-top: 1px solid #eee;\n  gap: 1.5rem;\n}\n\n.footer-stat {\n  display: flex;\n  align-items: baseline;\n  gap: 6px;\n}\n\n.f-label {\n  font-size: 0.75rem;\n  color: #888;\n}\n\n.f-value {\n  font-size: 1rem;\n  font-weight: 700;\n  color: #e91e63;\n  /*  */\n}\n\n.footer-divider {\n  width: 1px;\n  height: 12px;\n  background: #ddd;\n}\n\n/*  */\n.dark-mode .calendar-widget {\n  background: #252525;\n  border-color: #444;\n}\n\n.dark-mode .calendar-nav {\n  background: #2d2d2d;\n  border-bottom-color: #444;\n}\n\n.dark-mode .current-month-label {\n  color: #e0e0e0;\n}\n\n.dark-mode .nav-btn {\n  background: #333;\n  border-color: #555;\n  color: #ccc;\n}\n\n.dark-mode .nav-btn:hover:not(:disabled) {\n  background: #e0e0e0;\n  color: #121212;\n}\n\n.dark-mode .month-card.single-view {\n  background: transparent;\n}\n\n.dark-mode .month-footer-stats {\n  background: #2d2d2d;\n  border-top-color: #444;\n}\n\n.dark-mode .f-label {\n  color: #888;\n}\n\n.dark-mode .f-value {\n  color: #f48fb1;\n}\n\n/* ===   === */\n.dark-mode .calendar-section {\n  border-top-color: #333;\n}\n\n.dark-mode .calendar-header-row h4 {\n  color: #e0e0e0;\n}\n\n.dark-mode .month-card {\n  background: #252525;\n  border-color: #444;\n}\n\n.dark-mode .month-title {\n  color: #e0e0e0;\n}\n\n.dark-mode .weekday-header {\n  color: #888;\n}\n\n.dark-mode .day-cell {\n  background: #2f2f2f;\n  color: #666;\n}\n\n/*  */\n.dark-mode .day-cell.level-1 {\n  background-color: #5c2b3b;\n  color: #ffcdd2;\n}\n\n.dark-mode .day-cell.level-2 {\n  background-color: #a04264;\n  color: #fff;\n}\n\n.dark-mode .day-cell.level-3 {\n  background-color: #e91e63;\n  color: #fff;\n}\n\n.dark-mode .day-cell.level-4 {\n  background-color: #ff80ab;\n  color: #000;\n}\n\n/*  */\n@media (max-width: 768px) {\n  .stats-grid {\n    grid-template-columns: 1fr 1fr;\n  }\n}\n\n/* ===  === */\n.custom-tooltip {\n  position: fixed;\n  z-index: 20000;\n  background: rgba(0, 0, 0, 0.85);\n  /*  */\n  color: #fff;\n  padding: 8px 12px;\n  border-radius: 0px;\n  font-size: 0.8rem;\n  pointer-events: none;\n  /*  */\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  min-width: 120px;\n  backdrop-filter: blur(4px);\n}\n\n.tooltip-header {\n  font-weight: 700;\n  margin-bottom: 6px;\n  color: #fff;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.2);\n  padding-bottom: 4px;\n}\n\n.tooltip-row {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  margin-bottom: 3px;\n  white-space: nowrap;\n}\n\n.tooltip-row:last-child {\n  margin-bottom: 0;\n}\n\n.tooltip-icon {\n  font-size: 1rem;\n  color: #f48fb1;\n  /*  */\n}\n\n/*  () */\n.dark-mode .custom-tooltip {\n  background: rgba(30, 30, 30, 0.95);\n  border-color: #444;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);\n}\n\n.dark-mode .tooltip-header {\n  color: #e0e0e0;\n}\n\n/* === Markdown  === */\n\n/* 1.  */\n/*  */\n.reading-content :deep(ul),\n.reading-content :deep(ol),\n.reading-content :deep(li),\n.reading-content :deep(pre),\n.reading-content :deep(blockquote),\n.reading-content :deep(h1),\n.reading-content :deep(h2),\n.reading-content :deep(h3),\n.reading-content :deep(h4),\n.reading-content :deep(h5),\n.reading-content :deep(h6) {\n  break-inside: avoid;\n  page-break-inside: avoid;\n  margin-top: 0.5rem;\n  margin-bottom: 0.5rem;\n}\n\n/* 2.  */\n/*  */\n.reading-content :deep(img) {\n  max-width: 100%;\n  max-height: 95vh;\n  /*  */\n  object-fit: contain;\n  break-inside: avoid;\n}\n\n/* 3.  (PRE) */\n/*  */\n.reading-content :deep(pre) {\n  white-space: pre-wrap;\n  /*  */\n  word-wrap: break-word;\n  /*  */\n  word-break: break-all;\n  /*  */\n  max-width: 100%;\n  /*  */\n  box-sizing: border-box;\n}\n\n/* 4.  */\n/*  */\n.reading-content :deep(ul),\n.reading-content :deep(ol) {\n  padding-left: 1.5rem;\n  box-sizing: border-box;\n}\n\n/* 5.  */\n.reading-content :deep(hr) {\n  break-inside: avoid;\n  margin: 1rem 0;\n  border: 0;\n  border-top: 1px solid #ccc;\n}\n\n/* =========================================\n    \n   ========================================= */\n\n.dark-mode .dashboard-container {\n  background: #121212;\n}\n\n.dark-mode .dashboard-header {\n  background: #1e1e1e;\n  border-bottom-color: #333;\n}\n\n.dark-mode .back-btn {\n  color: #aaa;\n}\n\n.dark-mode .back-btn:hover {\n  color: #fff;\n}\n\n.dark-mode .header-left h1 {\n  color: #e0e0e0;\n}\n\n.dark-mode .dashboard-meta {\n  background: #2d2d2d;\n  color: #aaa;\n}\n\n/*  */\n.dark-mode .stat-box {\n  background: #1e1e1e;\n  border-color: #333;\n}\n\n.dark-mode .stat-box:hover {\n  border-color: #666;\n  background: #252525;\n}\n\n.dark-mode .stat-value {\n  color: #e0e0e0;\n}\n\n.dark-mode .stat-label {\n  color: #888;\n}\n\n/*  */\n.dark-mode .stat-box.main {\n  background: #e0e0e0;\n  border-color: #e0e0e0;\n}\n\n.dark-mode .stat-box.main .stat-value {\n  color: #000;\n  /*  */\n}\n\n.dark-mode .stat-box.main .stat-label {\n  color: #333;\n}\n\n/*  */\n.dark-mode .dash-search-input {\n  background: #1e1e1e;\n  border-color: #333;\n  color: #e0e0e0;\n}\n\n.dark-mode .dash-search-input:focus {\n  border-color: #888;\n  background: #252525;\n}\n\n/*  */\n.dark-mode .char-header {\n  border-bottom-color: #333;\n}\n\n.dark-mode .char-name {\n  color: #e0e0e0;\n}\n\n.dark-mode .char-icon {\n  color: #444;\n}\n\n.dark-mode .char-stats {\n  color: #666;\n}\n\n/*  */\n.dark-mode .file-card {\n  background: #1e1e1e;\n  border-color: #333;\n}\n\n.dark-mode .file-card:hover {\n  border-color: #666;\n  background: #252525;\n}\n\n.dark-mode .file-card::before {\n  background: #e0e0e0;\n  /*  */\n}\n\n.dark-mode .file-name {\n  color: #e0e0e0;\n}\n\n.dark-mode .file-date {\n  color: #555;\n}\n\n.dark-mode .file-card:hover .file-date {\n  color: #777;\n}\n\n/*  */\n.dark-mode .meta-tag {\n  background: #2d2d2d;\n  color: #aaa;\n}\n\n.dark-mode .meta-tag.cn {\n  background: rgba(21, 101, 192, 0.3);\n  color: #90caf9;\n}\n\n.dark-mode .meta-tag.turns {\n  background: rgba(123, 31, 162, 0.3);\n  color: #ce93d8;\n}\n\n/*  .char-header  Flex  */\n.char-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  /*  */\n  gap: 1rem;\n  margin-bottom: 1rem;\n  /*  */\n  border-bottom: 1px solid #eee;\n  padding-bottom: 0.75rem;\n  flex-wrap: nowrap !important;\n  /*  */\n}\n\n/*  */\n.char-header-left {\n  display: flex;\n  flex-direction: column;\n  /*  */\n  gap: 0.25rem;\n  flex: 1;\n  /*  */\n  min-width: 0;\n  /*  */\n}\n\n/*  */\n.small-btn {\n  padding: 4px 10px;\n  font-size: 0.75rem;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  height: fit-content;\n}\n\n/*  */\n.heart-icon {\n  font-size: 1.1em;\n  /* color: #e91e63;  */\n}\n\n/*  */\n@media (max-width: 768px) {\n\n  .char-header {\n    margin-bottom: 0.75rem;\n    padding-bottom: 0.5rem;\n  }\n\n  .icon-only-btn {\n    width: 32px;\n    /*  */\n    height: 32px;\n    font-size: 1.1rem;\n  }\n\n  .char-header-left {\n    flex-wrap: wrap;\n    gap: 0.5rem;\n  }\n\n  /*  */\n  .small-btn {\n    width: 100%;\n    justify-content: center;\n    margin-top: 0.5rem;\n  }\n}\n\n/*  */\n@media (max-width: 768px) {\n\n  /* 1.  */\n  .upload-area {\n    padding: 1.5rem !important;\n    min-height: 100vh;\n    display: flex !important;\n    align-items: center !important;\n    /*  */\n    justify-content: center !important;\n    /*  */\n    padding-top: 0 !important;\n    /*  */\n  }\n\n  /* 2.  */\n  .upload-container {\n    width: 100% !important;\n  }\n\n  /*  */\n  .upload-card {\n    margin-bottom: 1rem;\n    width: 100%;\n  }\n\n  /* 3. Grid */\n  .upload-label {\n    display: grid !important;\n    /*  */\n    grid-template-columns: 3rem 1fr !important;\n    /*  */\n    grid-template-rows: auto auto !important;\n\n    padding: 1.5rem !important;\n    /*  */\n    min-height: auto !important;\n    height: auto !important;\n    text-align: left !important;\n\n    /*  */\n    column-gap: 0.5rem !important;\n    row-gap: 0.2rem !important;\n\n    /*  */\n    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08) !important;\n  }\n\n  /*  */\n  .upload-icon {\n    grid-row: 1 / 3 !important;\n    grid-column: 1 / 2 !important;\n    font-size: 2rem !important;\n    /*  */\n    margin: 0 !important;\n    align-self: center !important;\n    justify-self: center !important;\n    color: #333;\n  }\n\n  /*  */\n  .upload-text {\n    grid-row: 1 / 2 !important;\n    grid-column: 2 / 3 !important;\n    font-size: 1.1rem !important;\n    font-weight: 700 !important;\n    margin: 0 !important;\n    align-self: end !important;\n    /*  */\n    line-height: 1.2;\n  }\n\n  /*  */\n  .upload-hint {\n    grid-row: 2 / 3 !important;\n    grid-column: 2 / 3 !important;\n    font-size: 0.85rem !important;\n    margin: 0 !important;\n    align-self: start !important;\n    /*  */\n    opacity: 0.6;\n    line-height: 1.2;\n  }\n}\n\n/* ===  () === */\n.back-link-btn {\n  background: none;\n  border: none;\n  padding: 0;\n  cursor: pointer;\n  font-size: 0.9rem;\n  color: #666;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin-bottom: 0.75rem;\n  /*  */\n  transition: color 0.2s;\n  width: fit-content;\n}\n\n.back-link-btn:hover {\n  background: none;\n  /*  */\n  color: #000;\n}\n\n/*  */\n.dark-mode .back-link-btn {\n  background: none;\n  color: #aaa;\n  border: none;\n}\n\n.dark-mode .back-link-btn:hover {\n  color: #fff;\n  background: none;\n}\n</style>","import { render } from \"./App.vue?vue&type=template&id=75685e9c&scoped=true\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=75685e9c&scoped=true&lang=css\"\nimport \"./App.vue?vue&type=style&index=1&id=75685e9c&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-75685e9c\"]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App).mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkst_reader\"] = self[\"webpackChunkst_reader\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(2733); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["class","for","style","label","_createElementBlock","_normalizeClass","$data","isDarkMode","viewMode","_hoisted_1","_createElementVNode","_hoisted_2","loadingStatus","_hoisted_3","type","ref","onChange","_cache","args","$options","handleFileUpload","accept","id","_hoisted_4","_createVNode","_component_Icon","icon","_hoisted_5","handleZipUpload","_hoisted_6","_hoisted_7","_toDisplayString","_hoisted_8","_hoisted_9","_hoisted_10","onClick","resetReader","_hoisted_11","_hoisted_12","dashboardData","totalFiles","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","totalEffectiveCN","toLocaleString","_hoisted_17","_hoisted_18","_hoisted_19","Object","keys","groups","length","_hoisted_20","_hoisted_21","totalTurns","_hoisted_22","_hoisted_23","totalRerolls","dashboardCalendar","months","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","activeDays","totalMessages","$event","calendarViewMode","_hoisted_28","_hoisted_29","prevDashMonth","disabled","currentMonthIdx","_hoisted_30","_hoisted_31","year","month","nextDashMonth","_hoisted_32","_hoisted_33","_hoisted_34","_Fragment","_renderList","paddingStart","n","key","days","day","dateStr","count","_normalizeStyle","backgroundColor","bgStyle","onMouseenter","showDayTooltip","onMouseleave","hideDayTooltip","onMousemove","moveDayTooltip","_hoisted_36","dayNum","_hoisted_37","_hoisted_38","_hoisted_39","totalCount","_hoisted_40","_hoisted_41","totalChars","_hoisted_42","_hoisted_43","prevHeatmapYear","currentHeatmapYear","heatmapYears","_hoisted_44","_hoisted_45","nextHeatmapYear","_hoisted_46","_hoisted_47","_hoisted_48","heatmapData","week","wIndex","dIndex","hasData","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","dashboardSearch","placeholder","_hoisted_54","filteredDashboardGroups","files","charName","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","reduce","a","b","effectiveCN","_withModifiers","openDashboardIntimacy","title","_hoisted_60","file","fileName","openChatFromDashboard","_hoisted_62","_hoisted_63","_hoisted_64","_hoisted_65","_hoisted_66","_hoisted_67","lastDate","_hoisted_68","_hoisted_69","_hoisted_70","fromDashboard","backToDashboard","_hoisted_71","metadata","character_name","_hoisted_72","create_date","_hoisted_73","_hoisted_74","messages","_hoisted_75","toggleSearchBar","showSearchBar","toggleTagFilterManager","showTagFilterManager","tagFilters","_hoisted_76","filter","f","toggleRegexManager","showRegexManager","regexScripts","_hoisted_77","s","toggleFavoritesPanel","showFavoritesPanel","favorites","_hoisted_78","openIntimacyModal","toggleReadingMode","readingMode","openExportRangeDialog","toggleStylePanel","showStylePanel","toggleDarkMode","_hoisted_79","_hoisted_80","_hoisted_81","searchQuery","onInput","onSearchInput","clearSearch","_hoisted_82","_hoisted_83","filteredMessages","_hoisted_84","_hoisted_85","_hoisted_86","addNewTagFilter","tagFilterForm","_hoisted_87","_hoisted_88","name","_hoisted_89","tagName","_hoisted_90","mode","value","_hoisted_91","_hoisted_92","cancelEditTagFilter","saveTagFilter","_hoisted_93","_hoisted_94","index","_hoisted_95","_hoisted_96","_hoisted_97","_hoisted_98","moveTagFilterUp","_hoisted_99","moveTagFilterDown","_hoisted_100","toggleTagFilter","_hoisted_101","editTagFilter","_hoisted_102","deleteTagFilter","_hoisted_103","_hoisted_104","_hoisted_105","_hoisted_106","importScripts","importFromCardOrPreset","exportScripts","_hoisted_107","addNewScript","scriptForm","_hoisted_108","_hoisted_109","scriptName","_hoisted_110","findRegex","rows","_hoisted_111","replaceString","_hoisted_112","_hoisted_113","cancelEdit","saveScript","_hoisted_114","_hoisted_115","script","dragIndex","draggable","onDragstart","handleDragStart","onDragover","handleDragOver","onDrop","e","handleDrop","onDragend","handleDragEnd","_hoisted_117","_hoisted_118","_hoisted_119","substring","_hoisted_120","moveScriptUp","_hoisted_121","moveScriptDown","_hoisted_122","toggleScript","_hoisted_123","editScript","_hoisted_124","deleteScript","_hoisted_125","_hoisted_126","_hoisted_127","_hoisted_128","_hoisted_129","switchToCurrentFavorites","active","viewingGlobalFavorites","switchToGlobalFavorites","_hoisted_130","exportGlobalFavorites","triggerImportFavorites","exportFavorites","_hoisted_131","clearAllFavorites","_hoisted_132","_hoisted_145","globalFavoritesList","_hoisted_146","group","_hoisted_147","items","fav","_hoisted_148","_hoisted_149","_hoisted_150","messageIndex","currentFileName","_hoisted_151","_hoisted_152","text","_hoisted_153","copyFavorite","deleteGlobalFavorite","_hoisted_155","_hoisted_133","_hoisted_134","navigateToFavorite","_hoisted_136","_hoisted_137","_hoisted_138","_hoisted_139","_hoisted_140","speaker","_hoisted_141","formatFavoriteTime","createdAt","_hoisted_142","deleteFavorite","_hoisted_144","_hoisted_156","_hoisted_157","_hoisted_158","resetStyles","_hoisted_159","_hoisted_160","_hoisted_161","textStyles","fontFamily","saveStylesToStorage","customFonts","_hoisted_162","font","_hoisted_163","showCustomFontDialog","_hoisted_164","_hoisted_165","_hoisted_166","fontSize","handleStyleChange","min","max","step","number","_hoisted_167","_hoisted_168","lineHeight","toFixed","_hoisted_169","_hoisted_170","paragraphSpacing","_hoisted_171","_hoisted_172","letterSpacing","_hoisted_173","_hoisted_174","_hoisted_175","textColor","_hoisted_176","_hoisted_177","_hoisted_178","italicColor","_hoisted_179","_hoisted_180","_hoisted_181","underlineColor","_hoisted_182","_hoisted_183","_hoisted_184","quoteColor","_hoisted_185","_hoisted_186","_hoisted_187","setTextAlign","textAlign","_hoisted_188","getPreviewStyles","_hoisted_189","_hoisted_190","_hoisted_191","deleteCustomFont","_hoisted_192","_hoisted_193","_hoisted_194","_hoisted_195","_hoisted_196","customFontForm","_hoisted_197","_hoisted_198","url","_hoisted_200","handleFontFileSelect","_hoisted_202","_hoisted_203","resetCustomFontForm","addCustomFont","highlightMenu","show","left","x","top","y","removeHighlightFromMenu","getContentStyles","paginatedMessages","message","currentRange","start","is_user","_hoisted_204","_hoisted_205","_hoisted_206","send_date","_hoisted_207","model","_hoisted_208","toggleFavoriteMessage","getGlobalMessageIndex","isMessageFavorited","_hoisted_209","toggleEditMessage","editingMessageIndex","_hoisted_210","_hoisted_211","editingContent","_hoisted_212","cancelEditMessage","saveEditMessage","hasHTMLCodeBlock","getMessageContent","onMouseup","handleTextSelection","innerHTML","renderContentWithHTMLPlaceholder","isFullHTML","_hoisted_215","_hoisted_216","toggleHTMLPreview","showPreview","_hoisted_217","srcdoc","sandbox","_hoisted_219","renderContent","swipes","_hoisted_221","prevSwipe","currentSwipeIndex","_hoisted_222","_hoisted_223","nextSwipe","_hoisted_224","handleReadingClick","getReadingTransform","readingFullHtml","onReadingMouseUp","onTouchstart","onReadingTouchStart","onTouchend","onReadingTouchEnd","readingPrevPage","readingNextPage","toggleToolbar","toolbarVisible","_hoisted_226","readingCurrentPage","readingTotalPages","_hoisted_227","getReadingFloorRange","_hoisted_228","_hoisted_229","_hoisted_230","_hoisted_231","_hoisted_232","end","_hoisted_233","_hoisted_234","goToPage","currentPage","_hoisted_235","prevPage","_hoisted_236","_hoisted_237","totalPages","nextPage","_hoisted_238","_hoisted_239","pageSize","onPageSizeChange","selectionMenu","favoriteSelectedText","highlightSelectedText","copySelectedText","exportDialog","closeExportDialog","_hoisted_240","_hoisted_241","_hoisted_242","_hoisted_243","_hoisted_244","_hoisted_245","startFloor","_hoisted_247","endFloor","_hoisted_249","getExportCount","_hoisted_250","_hoisted_251","includeName","_hoisted_252","includeTime","_hoisted_253","_hoisted_254","getExportPreview","_hoisted_255","doExportRange","showIntimacyModal","_hoisted_256","_hoisted_257","_hoisted_258","_hoisted_259","_hoisted_260","_hoisted_261","intimacyData","firstDate","_hoisted_262","daysSince","_hoisted_263","_hoisted_264","_hoisted_265","_hoisted_266","_hoisted_267","_hoisted_268","_hoisted_269","_hoisted_270","calendarMonths","_hoisted_271","_hoisted_272","prevMonth","currentMonthIndex","_hoisted_273","_hoisted_274","nextMonth","_hoisted_275","_hoisted_276","_hoisted_277","_hoisted_279","_hoisted_280","_hoisted_281","_hoisted_282","_hoisted_283","_hoisted_284","_hoisted_285","tooltip","_hoisted_286","_hoisted_287","_hoisted_288","chars","components","Icon","data","zipFileCache","rawData","editingScript","searchResults","currentSearchIndex","editingTagFilter","highlights","highlightId","colorOptions","readingTouchStartX","readingTouchStartY","toolbarTimeout","windowWidth","resizeTimer","keepReadingPagePosition","resizeObserver","computed","query","this","toLowerCase","result","entries","forEach","charMatch","includes","filteredFiles","trim","msg","content","matches","_originalIndex","Math","ceil","slice","mounted","console","log","document","body","overflow","loadScriptsFromStorage","loadTagFiltersFromStorage","loadFavoritesFromStorage","loadHighlightsFromStorage","loadStylesFromStorage","loadDarkMode","loadCustomFonts","replaceHTMLPlaceholders","addEventListener","hideSelectionMenu","window","handleKeydown","session","getFromDB","parseJSONL","warn","blob","zip","JSZip","globalDateMap","values","dateMap","dateKey","dayStats","generateDashboardCalendarData","error","updated","hideHighlightMenu","onHighlightClick","beforeUnmount","removeEventListener","handleResize","clearTimeout","methods","event","target","stats","processingPromises","relativePath","zipEntry","dir","startsWith","endsWith","promise","async","then","analyzeJsonlFast","rerolls","characterName","push","Promise","all","sort","localeCompare","saveToDB","JSON","parse","stringify","err","alert","lines","split","cleanedText","replace","match","i","line","row","d","parseSTDate","getFullYear","m","String","getMonth","padStart","getDate","swipe_id","mes","fileData","Error","resetReaderStateOnly","dates","parseLocal","parts","map","Number","Date","maxDailyCount","colorStart","colorEnd","firstDateStr","lastDateStr","monthsData","currentYear","currentMonth","endYear","endMonth","daysInMonth","firstDayObj","getDay","monthTotalCount","monthTotalChars","mStr","dStr","getGradientColor","reverse","hmStart","hmEnd","hmStartYear","hmEndYear","yearlyData","yearsList","yearStart","yearEnd","weeks","currentWeek","Array","fill","curr","dayOfWeek","isLastDayOfYear","getTime","setDate","idx","indexOf","blackColors","lightColor","oldGray","oldDim","nightColors","localStorage","setItem","saved","getItem","reader","FileReader","onload","readAsText","isUser","isArray","extra","force_avatar","codeBlockPattern","codeContent","hasDoctype","test","hasHtmlTag","extractHTMLFromCodeBlock","renderContentWithoutCodeBlock","processedContent","applyTagFilters","applyRegexScripts","withoutCodeBlock","renderMarkdown","htmlContent","base64Html","btoa","unescape","encodeURIComponent","withPlaceholder","placeholders","$el","querySelectorAll","getAttribute","parentNode","decodeURIComponent","escape","atob","iframe","createElement","className","setAttribute","wrapper","appendChild","replaceChild","marked","setOptions","breaks","gfm","sanitize","mangle","headerIds","html","DOMPurify","getDOMPurifyConfig","ALLOWED_TAGS","ALLOWED_ATTR","ALLOW_DATA_ATTR","trimmed","startsWithHtml","localIndex","globalIndex","htmlBlocks","tempContent","styleIndex","htmlEnd","afterStyle","lastDivEnd","divEnd","afterLastDiv","htmlBlock","block","ph","undefined","applyHighlights","highlight","escapedText","regex","RegExp","formatDate","timestamp","date","isNaN","parseInt","hours","getHours","minutes","getMinutes","confirmMsg","confirm","clearDB","scrollToTop","page","$nextTick","querySelector","scrollIntoView","behavior","input","focus","db","initDB","transaction","store","objectStore","request","get","onsuccess","saveFavoritesToStorage","plainFavorites","put","saveHighlightsToStorage","existingIndex","findIndex","splice","unshift","generateUUID","now","some","selection","getSelection","selectedText","toString","clientX","clientY","closest","removeAllRanges","generateReadingContent","deleteHighlight","h","dataset","preventDefault","stopPropagation","targetPage","floor","messageBlocks","classList","add","setTimeout","remove","navigator","clipboard","writeText","dataStr","Blob","URL","createObjectURL","href","download","click","revokeObjectURL","saveTagFiltersToStorage","resetTagFilterForm","temp","tags","t","tag","escapedTag","selfClosingRegex","exec","join","saveScriptsToStorage","resetScriptForm","dropIndex","draggedScript","c","r","random","v","multiple","onchange","from","successCount","scriptCount","readFile","resolve","results","scripts","newScript","cardData","arrayBuffer","charDataStr","extractPNGChara","foundScripts","findRegexScriptsInObject","prompts","batchImportScripts","extensions","regex_scripts","presets","importCount","regexPattern","replacePattern","replacement","existing","bytes","Uint8Array","pngSignature","offset","fromCharCode","nullIndex","keyword","TextDecoder","decode","base64Data","decodeBase64UTF8","base64","binaryString","charCodeAt","regexMatch","formatMessageForExport","floorNum","stripHtmlTags","previewCount","textContent","innerText","toISOString","savedStyles","defaultColor","setTextColor","color","align","registerFontFace","saveCustomFonts","format","head","unregisterFontFace","fontId","getElementById","fontUrl","fileToDataUrl","getFontFormat","newFont","reject","onerror","readAsDataURL","filename","ext","pop","formatMap","fileInput","$refs","fontFileInput","getFontFamily","fontMap","customFont","find","readingContentEl","ResizeObserver","requestAnimationFrame","calculateTotalPages","observe","disconnect","fullContent","messagesToRender","startFloorIndex","contentEl","width","updateColumnWidth","columnWidth","innerWidth","dateInput","isoStr","fixedStr","pageWidth","contentWidth","scrollWidth","currentElWidth","offsetWidth","calculatedPages","fixedWidth","groupEnd","transform","leftZone","rightZone","showReadingMenu","touches","touchEndX","changedTouches","touchEndY","deltaX","deltaY","abs","range","getRangeAt","container","commonAncestorContainer","el","nodeType","parentElement","contains","hasAttribute","calculateIntimacyStats","validMessages","sortedMsgs","tA","tB","dayMap","Map","msgLen","has","set","dayData","val","firstDateObj","lastDateObj","toLocaleDateString","size","updateTooltipPos","mergedDateMap","totalMsgCount","totalCharCount","sortedDates","first","startColor","endColor","ratio","round","g","indexedDB","open","onupgradeneeded","objectStoreNames","createObjectStore","clear","handleImportFavorites","imported","skipCount","item","exists","isValidIndex","getAllFavoritesFromDB","openCursor","cursor","continue","allData","favId","getRequest","list","newList","fileGroup","__exports__","render","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","getter","__esModule","definition","o","defineProperty","enumerable","globalThis","Function","obj","prop","prototype","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"ignoreList":[],"sourceRoot":""}